{"version":3,"file":"content-editor.element-Cz7IAE_5.js","sources":["../../../src/packages/content/content/workspace/views/edit/content-editor-properties.element.ts","../../../src/packages/content/content/workspace/views/edit/content-editor-tab.element.ts","../../../src/packages/content/content/workspace/views/edit/content-editor.element.ts"],"sourcesContent":["import { UMB_CONTENT_WORKSPACE_CONTEXT } from '../../content-workspace.context-token.js';\r\nimport { css, html, customElement, property, state, repeat } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport type {\r\n\tUmbContentTypeModel,\r\n\tUmbContentTypeStructureManager,\r\n\tUmbPropertyTypeModel,\r\n} from '@umbraco-cms/backoffice/content-type';\r\nimport { UmbContentTypePropertyStructureHelper } from '@umbraco-cms/backoffice/content-type';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\n\r\n@customElement('umb-content-workspace-view-edit-properties')\r\nexport class UmbContentWorkspaceViewEditPropertiesElement extends UmbLitElement {\r\n\t#propertyStructureHelper = new UmbContentTypePropertyStructureHelper<UmbContentTypeModel>(this);\r\n\r\n\t@property({ type: String, attribute: 'container-id', reflect: false })\r\n\tpublic get containerId(): string | null | undefined {\r\n\t\treturn this.#propertyStructureHelper.getContainerId();\r\n\t}\r\n\tpublic set containerId(value: string | null | undefined) {\r\n\t\tthis.#propertyStructureHelper.setContainerId(value);\r\n\t}\r\n\r\n\t@state()\r\n\t_properties: Array<string> = [];\r\n\r\n\t@state()\r\n\t_visibleProperties?: Array<UmbPropertyTypeModel>;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.consumeContext(UMB_CONTENT_WORKSPACE_CONTEXT, (workspaceContext) => {\r\n\t\t\tthis.#propertyStructureHelper.setStructureManager(\r\n\t\t\t\t// Assuming its the same content model type that we are working with here... [NL]\r\n\t\t\t\tworkspaceContext?.structure as unknown as UmbContentTypeStructureManager<UmbContentTypeModel>,\r\n\t\t\t);\r\n\r\n\t\t\tthis.observe(\r\n\t\t\t\tthis.#propertyStructureHelper.propertyAliases,\r\n\t\t\t\t(properties) => {\r\n\t\t\t\t\tthis._properties = properties;\r\n\t\t\t\t},\r\n\t\t\t\t'observePropertyStructure',\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn repeat(\r\n\t\t\tthis._properties,\r\n\t\t\t(property) => property,\r\n\t\t\t(property) =>\r\n\t\t\t\thtml`<umb-content-workspace-property class=\"property\" alias=${property}></umb-content-workspace-property>`,\r\n\t\t);\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t.property {\r\n\t\t\t\tborder-bottom: 1px solid var(--uui-color-divider);\r\n\t\t\t}\r\n\t\t\t.property:last-child {\r\n\t\t\t\tborder-bottom: 0;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbContentWorkspaceViewEditPropertiesElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-content-workspace-view-edit-properties': UmbContentWorkspaceViewEditPropertiesElement;\r\n\t}\r\n}\r\n","import { css, html, customElement, property, state, repeat } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport type {\r\n\tUmbContentTypeModel,\r\n\tUmbContentTypeStructureManager,\r\n\tUmbPropertyTypeContainerModel,\r\n} from '@umbraco-cms/backoffice/content-type';\r\nimport {\r\n\tUmbContentTypeContainerStructureHelper,\r\n\tUMB_PROPERTY_STRUCTURE_WORKSPACE_CONTEXT,\r\n} from '@umbraco-cms/backoffice/content-type';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport './content-editor-properties.element.js';\r\n\r\n@customElement('umb-content-workspace-view-edit-tab')\r\nexport class UmbContentWorkspaceViewEditTabElement extends UmbLitElement {\r\n\t@property({ type: String })\r\n\tpublic get containerId(): string | null | undefined {\r\n\t\treturn this._containerId;\r\n\t}\r\n\tpublic set containerId(value: string | null | undefined) {\r\n\t\tthis._containerId = value;\r\n\t\tthis.#groupStructureHelper.setContainerId(value);\r\n\t}\r\n\t@state()\r\n\tprivate _containerId?: string | null;\r\n\r\n\t#groupStructureHelper = new UmbContentTypeContainerStructureHelper<UmbContentTypeModel>(this);\r\n\r\n\t@state()\r\n\t_groups: Array<UmbPropertyTypeContainerModel> = [];\r\n\r\n\t@state()\r\n\t_hasProperties = false;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_PROPERTY_STRUCTURE_WORKSPACE_CONTEXT, (workspaceContext) => {\r\n\t\t\tthis.#groupStructureHelper.setStructureManager(\r\n\t\t\t\t// Assuming its the same content model type that we are working with here... [NL]\r\n\t\t\t\tworkspaceContext?.structure as unknown as UmbContentTypeStructureManager<UmbContentTypeModel>,\r\n\t\t\t);\r\n\t\t});\r\n\t\tthis.observe(this.#groupStructureHelper.mergedContainers, (groups) => {\r\n\t\t\tthis._groups = groups;\r\n\t\t});\r\n\t\tthis.observe(this.#groupStructureHelper.hasProperties, (hasProperties) => {\r\n\t\t\tthis._hasProperties = hasProperties;\r\n\t\t});\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t${this._hasProperties\r\n\t\t\t\t? html`\r\n\t\t\t\t\t\t<uui-box>\r\n\t\t\t\t\t\t\t<umb-content-workspace-view-edit-properties\r\n\t\t\t\t\t\t\t\tdata-mark=\"property-group:root\"\r\n\t\t\t\t\t\t\t\t.containerId=${this._containerId}></umb-content-workspace-view-edit-properties>\r\n\t\t\t\t\t\t</uui-box>\r\n\t\t\t\t\t`\r\n\t\t\t\t: ''}\r\n\t\t\t${repeat(\r\n\t\t\t\tthis._groups,\r\n\t\t\t\t(group) => group.id,\r\n\t\t\t\t(group) =>\r\n\t\t\t\t\thtml`<uui-box .headline=${this.localize.string(group.name) ?? ''}>\r\n\t\t\t\t\t\t<umb-content-workspace-view-edit-properties\r\n\t\t\t\t\t\t\tdata-mark=\"property-group:${group.name}\"\r\n\t\t\t\t\t\t\t.containerId=${group.id}></umb-content-workspace-view-edit-properties>\r\n\t\t\t\t\t</uui-box>`,\r\n\t\t\t)}\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\tuui-box {\r\n\t\t\t\t--uui-box-default-padding: 0 var(--uui-size-space-5);\r\n\t\t\t}\r\n\t\t\tuui-box:not(:first-child) {\r\n\t\t\t\tmargin-top: var(--uui-size-layout-1);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbContentWorkspaceViewEditTabElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-content-workspace-view-edit-tab': UmbContentWorkspaceViewEditTabElement;\r\n\t}\r\n}\r\n","import type { UmbContentWorkspaceViewEditTabElement } from './content-editor-tab.element.js';\r\nimport { css, html, customElement, state, repeat } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport type {\r\n\tUmbContentTypeModel,\r\n\tUmbContentTypeStructureManager,\r\n\tUmbPropertyTypeContainerModel,\r\n} from '@umbraco-cms/backoffice/content-type';\r\nimport {\r\n\tUmbContentTypeContainerStructureHelper,\r\n\tUMB_PROPERTY_STRUCTURE_WORKSPACE_CONTEXT,\r\n} from '@umbraco-cms/backoffice/content-type';\r\nimport type { UmbRoute, UmbRouterSlotChangeEvent, UmbRouterSlotInitEvent } from '@umbraco-cms/backoffice/router';\r\nimport { encodeFolderName } from '@umbraco-cms/backoffice/router';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport type { UmbWorkspaceViewElement } from '@umbraco-cms/backoffice/workspace';\r\nimport './content-editor-tab.element.js';\r\n\r\n@customElement('umb-content-workspace-view-edit')\r\nexport class UmbContentWorkspaceViewEditElement extends UmbLitElement implements UmbWorkspaceViewElement {\r\n\t/*\r\n\t// root properties is a possible feature with Bellissima, but as it is new its not fully implemented yet [NL]\r\n\t@state()\r\n\tprivate _hasRootProperties = false;\r\n  */\r\n\r\n\t@state()\r\n\tprivate _hasRootGroups = false;\r\n\r\n\t@state()\r\n\tprivate _routes: UmbRoute[] = [];\r\n\r\n\t@state()\r\n\tprivate _tabs?: Array<UmbPropertyTypeContainerModel>;\r\n\r\n\t@state()\r\n\tprivate _routerPath?: string;\r\n\r\n\t@state()\r\n\tprivate _activePath = '';\r\n\r\n\t#structureManager?: UmbContentTypeStructureManager<UmbContentTypeModel>;\r\n\r\n\tprivate _tabsStructureHelper = new UmbContentTypeContainerStructureHelper<UmbContentTypeModel>(this);\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis._tabsStructureHelper.setIsRoot(true);\r\n\t\tthis._tabsStructureHelper.setContainerChildType('Tab');\r\n\t\tthis.observe(\r\n\t\t\tthis._tabsStructureHelper.mergedContainers,\r\n\t\t\t(tabs) => {\r\n\t\t\t\tthis._tabs = tabs;\r\n\t\t\t\tthis._createRoutes();\r\n\t\t\t},\r\n\t\t\tnull,\r\n\t\t);\r\n\r\n\t\t// _hasRootProperties can be gotten via _tabsStructureHelper.hasProperties. But we do not support root properties currently.\r\n\r\n\t\tthis.consumeContext(UMB_PROPERTY_STRUCTURE_WORKSPACE_CONTEXT, (workspaceContext) => {\r\n\t\t\tthis.#structureManager = workspaceContext?.structure;\r\n\t\t\tthis._tabsStructureHelper.setStructureManager(workspaceContext?.structure);\r\n\t\t\tthis.#observeRootGroups();\r\n\t\t});\r\n\t}\r\n\r\n\tasync #observeRootGroups() {\r\n\t\tif (!this.#structureManager) return;\r\n\r\n\t\tthis.observe(\r\n\t\t\tawait this.#structureManager.hasRootContainers('Group'),\r\n\t\t\t(hasRootGroups) => {\r\n\t\t\t\tthis._hasRootGroups = hasRootGroups;\r\n\t\t\t\tthis._createRoutes();\r\n\t\t\t},\r\n\t\t\t'_observeGroups',\r\n\t\t);\r\n\t}\r\n\r\n\tprivate _createRoutes() {\r\n\t\tif (!this._tabs || !this.#structureManager) return;\r\n\t\tconst routes: UmbRoute[] = [];\r\n\r\n\t\tif (this._hasRootGroups) {\r\n\t\t\troutes.push({\r\n\t\t\t\tpath: 'root',\r\n\t\t\t\tcomponent: () => import('./content-editor-tab.element.js'),\r\n\t\t\t\tsetup: (component) => {\r\n\t\t\t\t\t(component as UmbContentWorkspaceViewEditTabElement).containerId = null;\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (this._tabs.length > 0) {\r\n\t\t\tthis._tabs?.forEach((tab) => {\r\n\t\t\t\tconst tabName = tab.name ?? '';\r\n\t\t\t\troutes.push({\r\n\t\t\t\t\tpath: `tab/${encodeFolderName(tabName)}`,\r\n\t\t\t\t\tcomponent: () => import('./content-editor-tab.element.js'),\r\n\t\t\t\t\tsetup: (component) => {\r\n\t\t\t\t\t\t(component as UmbContentWorkspaceViewEditTabElement).containerId = tab.id;\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (routes.length !== 0) {\r\n\t\t\troutes.push({\r\n\t\t\t\t...routes[0],\r\n\t\t\t\tunique: routes[0].path,\r\n\t\t\t\tpath: '',\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\troutes.push({\r\n\t\t\tpath: `**`,\r\n\t\t\tcomponent: async () => (await import('@umbraco-cms/backoffice/router')).UmbRouteNotFoundElement,\r\n\t\t});\r\n\r\n\t\tthis._routes = routes;\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tif (!this._routes || !this._tabs) return;\r\n\t\treturn html`\r\n\t\t\t<umb-body-layout header-fit-height>\r\n\t\t\t\t${this._routerPath && (this._tabs.length > 1 || (this._tabs.length === 1 && this._hasRootGroups))\r\n\t\t\t\t\t? html` <uui-tab-group slot=\"header\">\r\n\t\t\t\t\t\t\t${this._hasRootGroups && this._tabs.length > 0\r\n\t\t\t\t\t\t\t\t? html`\r\n\t\t\t\t\t\t\t\t\t\t<uui-tab\r\n\t\t\t\t\t\t\t\t\t\t\t.label=${this.localize.term('general_generic')}\r\n\t\t\t\t\t\t\t\t\t\t\t.active=${this._routerPath + '/root' === this._activePath ||\r\n\t\t\t\t\t\t\t\t\t\t\tthis._routerPath + '/' === this._activePath}\r\n\t\t\t\t\t\t\t\t\t\t\t.href=${this._routerPath + '/root'}></uui-tab>\r\n\t\t\t\t\t\t\t\t\t`\r\n\t\t\t\t\t\t\t\t: ''}\r\n\t\t\t\t\t\t\t${repeat(\r\n\t\t\t\t\t\t\t\tthis._tabs,\r\n\t\t\t\t\t\t\t\t(tab) => tab.name,\r\n\t\t\t\t\t\t\t\t(tab, index) => {\r\n\t\t\t\t\t\t\t\t\tconst path = this._routerPath + '/tab/' + encodeFolderName(tab.name || '');\r\n\t\t\t\t\t\t\t\t\treturn html`<uui-tab\r\n\t\t\t\t\t\t\t\t\t\t.label=${this.localize.string(tab.name ?? '#general_unnamed')}\r\n\t\t\t\t\t\t\t\t\t\t.active=${path === this._activePath ||\r\n\t\t\t\t\t\t\t\t\t\t(!this._hasRootGroups && index === 0 && this._routerPath + '/' === this._activePath)}\r\n\t\t\t\t\t\t\t\t\t\t.href=${path}></uui-tab>`;\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</uui-tab-group>`\r\n\t\t\t\t\t: ''}\r\n\r\n\t\t\t\t<umb-router-slot\r\n\t\t\t\t\tinherit-addendum\r\n\t\t\t\t\t.routes=${this._routes}\r\n\t\t\t\t\t@init=${(event: UmbRouterSlotInitEvent) => {\r\n\t\t\t\t\t\tthis._routerPath = event.target.absoluteRouterPath;\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t@change=${(event: UmbRouterSlotChangeEvent) => {\r\n\t\t\t\t\t\tthis._activePath = event.target.absoluteActiveViewPath || '';\r\n\t\t\t\t\t}}>\r\n\t\t\t\t</umb-router-slot>\r\n\t\t\t</umb-body-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\t--uui-tab-background: var(--uui-color-surface);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbContentWorkspaceViewEditElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-content-workspace-view-edit': UmbContentWorkspaceViewEditElement;\r\n\t}\r\n}\r\n"],"names":["_propertyStructureHelper","UmbContentWorkspaceViewEditPropertiesElement","UmbLitElement","__privateAdd","UmbContentTypePropertyStructureHelper","UMB_CONTENT_WORKSPACE_CONTEXT","workspaceContext","__privateGet","properties","value","repeat","property","html","UmbTextStyles","css","__decorateClass","state","customElement","_groupStructureHelper","UmbContentWorkspaceViewEditTabElement","UmbContentTypeContainerStructureHelper","UMB_PROPERTY_STRUCTURE_WORKSPACE_CONTEXT","groups","hasProperties","group","UmbContentWorkspaceViewEditTabElement$1","_structureManager","_UmbContentWorkspaceViewEditElement_instances","observeRootGroups_fn","UmbContentWorkspaceViewEditElement","tabs","__privateSet","__privateMethod","routes","contentEditorTab_element","component","tab","tabName","encodeFolderName","index","path","event","hasRootGroups","UmbContentWorkspaceViewEditElement$1"],"mappings":"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"}