{"version":3,"file":"workspace-has-content-collection.condition-DiREHSAL.js","sources":["../../../src/packages/content/content/collection/workspace-has-content-collection/workspace-has-content-collection.condition.ts"],"sourcesContent":["import { UMB_CONTENT_COLLECTION_WORKSPACE_CONTEXT } from '../content-collection-workspace.context-token.js';\r\nimport type { UmbWorkspaceHasContentCollectionConditionConfig } from './types.js';\r\nimport { UmbConditionBase } from '@umbraco-cms/backoffice/extension-registry';\r\nimport type { UmbConditionControllerArguments, UmbExtensionCondition } from '@umbraco-cms/backoffice/extension-api';\r\nimport type { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\n\r\nconst ObserveSymbol = Symbol();\r\n\r\nexport class UmbWorkspaceHasContentCollectionCondition\r\n\textends UmbConditionBase<UmbWorkspaceHasContentCollectionConditionConfig>\r\n\timplements UmbExtensionCondition\r\n{\r\n\tconstructor(\r\n\t\thost: UmbControllerHost,\r\n\t\targs: UmbConditionControllerArguments<UmbWorkspaceHasContentCollectionConditionConfig>,\r\n\t) {\r\n\t\tsuper(host, args);\r\n\r\n\t\tthis.consumeContext(UMB_CONTENT_COLLECTION_WORKSPACE_CONTEXT, (context) => {\r\n\t\t\tthis.observe(\r\n\t\t\t\tcontext?.contentTypeHasCollection,\r\n\t\t\t\t(hasCollection) => {\r\n\t\t\t\t\tthis.permitted = hasCollection ?? false;\r\n\t\t\t\t},\r\n\t\t\t\tObserveSymbol,\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport { UmbWorkspaceHasContentCollectionCondition as api };\r\n"],"names":["ObserveSymbol","UmbWorkspaceHasContentCollectionCondition","UmbConditionBase","host","args","UMB_CONTENT_COLLECTION_WORKSPACE_CONTEXT","context","hasCollection"],"mappings":";;AAMA,MAAMA,IAAgB,OAAO;AAEtB,MAAMC,UACJC,EAET;AAAA,EACC,YACCC,GACAC,GACC;AACD,UAAMD,GAAMC,CAAI,GAEX,KAAA,eAAeC,GAA0C,CAACC,MAAY;AACrE,WAAA;AAAA,QACJA,GAAS;AAAA,QACT,CAACC,MAAkB;AAClB,eAAK,YAAYA,KAAiB;AAAA,QACnC;AAAA,QACAP;AAAA,MACD;AAAA,IAAA,CACA;AAAA,EAAA;AAEH;"}