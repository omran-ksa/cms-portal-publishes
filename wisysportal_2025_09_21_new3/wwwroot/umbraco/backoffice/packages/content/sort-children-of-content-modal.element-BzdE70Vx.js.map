{"version":3,"file":"sort-children-of-content-modal.element-BzdE70Vx.js","sources":["../../../src/packages/content/content/tree/sort-children-of-content/modal/sort-children-of-content-modal.element.ts"],"sourcesContent":["import type { UmbContentTreeItemModel } from '../../types.js';\r\nimport { customElement } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbSortChildrenOfModalElement } from '@umbraco-cms/backoffice/tree';\r\n\r\n@customElement('umb-sort-children-of-content-modal')\r\nexport class UmbSortChildrenOfContentModalElement extends UmbSortChildrenOfModalElement<UmbContentTreeItemModel> {\r\n\t#localizeDateOptions: Intl.DateTimeFormatOptions = {\r\n\t\tday: 'numeric',\r\n\t\tmonth: 'short',\r\n\t\tyear: 'numeric',\r\n\t\thour: 'numeric',\r\n\t\tminute: '2-digit',\r\n\t};\r\n\r\n\tprotected override _setTableColumns() {\r\n\t\tthis._tableColumns = [\r\n\t\t\t{\r\n\t\t\t\tname: this.localize.term('general_name'),\r\n\t\t\t\talias: 'name',\r\n\t\t\t\tallowSorting: this._hasMorePages() === false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: this.localize.term('content_createDate'),\r\n\t\t\t\talias: 'createDate',\r\n\t\t\t\tallowSorting: this._hasMorePages() === false,\r\n\t\t\t},\r\n\t\t];\r\n\t}\r\n\r\n\tprotected override _createTableItems() {\r\n\t\tthis._tableItems = this._children.map((treeItem) => {\r\n\t\t\t// TODO: implement ItemDataResolver for document and media\r\n\t\t\t// This will fix both the icon and the variant name\r\n\t\t\treturn {\r\n\t\t\t\tid: treeItem.unique,\r\n\t\t\t\ticon: 'icon-document',\r\n\t\t\t\tdata: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolumnAlias: 'name',\r\n\t\t\t\t\t\tvalue: treeItem.name,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolumnAlias: 'createDate',\r\n\t\t\t\t\t\tvalue: this.localize.date(treeItem.createDate, this.#localizeDateOptions),\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\r\n\tprotected override _sortCompare(columnAlias: string, valueA: unknown, valueB: unknown): number {\r\n\t\tif (columnAlias === 'createDate') {\r\n\t\t\treturn Date.parse(valueA as string) - Date.parse(valueB as string);\r\n\t\t}\r\n\r\n\t\treturn super._sortCompare(columnAlias, valueA, valueB);\r\n\t}\r\n\r\n\tprotected override _onLoadMore(event: PointerEvent): void {\r\n\t\tsuper._onLoadMore(event);\r\n\t\t// TODO: make nicer API for enable/disable orderBy for individual columns\r\n\t\tconst allowOrderBy = this._hasMorePages() === false;\r\n\t\tthis._tableColumns[0].allowSorting = allowOrderBy;\r\n\t\tthis._tableColumns[1].allowSorting = allowOrderBy;\r\n\t}\r\n}\r\n\r\nexport { UmbSortChildrenOfContentModalElement as element };\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t['umb-sort-children-of-content-modal']: UmbSortChildrenOfContentModalElement;\r\n\t}\r\n}\r\n"],"names":["_localizeDateOptions","UmbSortChildrenOfContentModalElement","UmbSortChildrenOfModalElement","__privateAdd","treeItem","__privateGet","columnAlias","valueA","valueB","event","allowOrderBy","__decorateClass","customElement"],"mappings":";;;;;;;;uQAAAA;AAKa,IAAAC,IAAN,cAAmDC,EAAuD;AAAA,EAA1G,cAAA;AAAA,UAAA,GAAA,SAAA,GAC6CC,EAAA,MAAAH,GAAA;AAAA,MAClD,KAAK;AAAA,MACL,OAAO;AAAA,MACP,MAAM;AAAA,MACN,MAAM;AAAA,MACN,QAAQ;AAAA,IAAA,CACT;AAAA,EAAA;AAAA,EAEmB,mBAAmB;AACrC,SAAK,gBAAgB;AAAA,MACpB;AAAA,QACC,MAAM,KAAK,SAAS,KAAK,cAAc;AAAA,QACvC,OAAO;AAAA,QACP,cAAc,KAAK,oBAAoB;AAAA,MACxC;AAAA,MACA;AAAA,QACC,MAAM,KAAK,SAAS,KAAK,oBAAoB;AAAA,QAC7C,OAAO;AAAA,QACP,cAAc,KAAK,oBAAoB;AAAA,MAAA;AAAA,IAEzC;AAAA,EAAA;AAAA,EAGkB,oBAAoB;AACtC,SAAK,cAAc,KAAK,UAAU,IAAI,CAACI,OAG/B;AAAA,MACN,IAAIA,EAAS;AAAA,MACb,MAAM;AAAA,MACN,MAAM;AAAA,QACL;AAAA,UACC,aAAa;AAAA,UACb,OAAOA,EAAS;AAAA,QACjB;AAAA,QACA;AAAA,UACC,aAAa;AAAA,UACb,OAAO,KAAK,SAAS,KAAKA,EAAS,YAAYC,QAAKL,CAAoB,CAAA;AAAA,QAAA;AAAA,MACzE;AAAA,IAEF,EACA;AAAA,EAAA;AAAA,EAGiB,aAAaM,GAAqBC,GAAiBC,GAAyB;AAC9F,WAAIF,MAAgB,eACZ,KAAK,MAAMC,CAAgB,IAAI,KAAK,MAAMC,CAAgB,IAG3D,MAAM,aAAaF,GAAaC,GAAQC,CAAM;AAAA,EAAA;AAAA,EAGnC,YAAYC,GAA2B;AACzD,UAAM,YAAYA,CAAK;AAEjB,UAAAC,IAAe,KAAK,cAAA,MAAoB;AACzC,SAAA,cAAc,CAAC,EAAE,eAAeA,GAChC,KAAA,cAAc,CAAC,EAAE,eAAeA;AAAA,EAAA;AAEvC;AA3DCV,IAAA,oBAAA,QAAA;AADYC,IAANU,EAAA;AAAA,EADNC,EAAc,oCAAoC;AAAA,GACtCX,CAAA;"}