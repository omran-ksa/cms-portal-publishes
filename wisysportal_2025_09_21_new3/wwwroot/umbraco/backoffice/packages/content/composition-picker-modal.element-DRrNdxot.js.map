{"version":3,"file":"composition-picker-modal.element-DRrNdxot.js","sources":["../../../src/packages/content/content-type/modals/composition-picker/composition-picker-modal.element.ts"],"sourcesContent":["import type {\r\n\tUmbContentTypeCompositionRepository,\r\n\tUmbContentTypeCompositionCompatibleModel,\r\n\tUmbContentTypeCompositionReferenceModel,\r\n} from '../../composition/index.js';\r\nimport type {\r\n\tUmbCompositionPickerModalData,\r\n\tUmbCompositionPickerModalValue,\r\n} from './composition-picker-modal.token.js';\r\nimport { css, html, customElement, state, repeat, nothing } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbModalBaseElement, umbConfirmModal } from '@umbraco-cms/backoffice/modal';\r\nimport { UmbExtensionApiInitializer } from '@umbraco-cms/backoffice/extension-api';\r\nimport { umbExtensionsRegistry } from '@umbraco-cms/backoffice/extension-registry';\r\n\r\ninterface CompatibleCompositions {\r\n\tpath: string;\r\n\tcompositions: Array<UmbContentTypeCompositionCompatibleModel>;\r\n}\r\n\r\n@customElement('umb-composition-picker-modal')\r\nexport class UmbCompositionPickerModalElement extends UmbModalBaseElement<\r\n\tUmbCompositionPickerModalData,\r\n\tUmbCompositionPickerModalValue\r\n> {\r\n\t// TODO: Loosen this from begin specific to Document Types, so we can have a general interface for composition repositories. [NL]\r\n\t#compositionRepository?: UmbContentTypeCompositionRepository;\r\n\t#unique: string | null = null;\r\n\t#init?: Promise<void>;\r\n\r\n\t@state()\r\n\tprivate _references: Array<UmbContentTypeCompositionReferenceModel> = [];\r\n\r\n\t@state()\r\n\tprivate _compatibleCompositions?: Array<CompatibleCompositions>;\r\n\r\n\t@state()\r\n\tprivate _selection: Array<string> = [];\r\n\r\n\t@state()\r\n\tprivate _usedForInheritance: Array<string> = [];\r\n\r\n\t@state()\r\n\tprivate _usedForComposition: Array<string> = [];\r\n\r\n\toverride connectedCallback() {\r\n\t\tsuper.connectedCallback();\r\n\r\n\t\tconst alias = this.data?.compositionRepositoryAlias;\r\n\t\tif (alias) {\r\n\t\t\tthis.#init = new UmbExtensionApiInitializer(this, umbExtensionsRegistry, alias, [this], (permitted, ctrl) => {\r\n\t\t\t\tthis.#compositionRepository = permitted ? (ctrl.api as UmbContentTypeCompositionRepository) : undefined;\r\n\t\t\t}).asPromise();\r\n\t\t} else {\r\n\t\t\tthrow new Error('No composition repository alias provided');\r\n\t\t}\r\n\r\n\t\tthis._selection = this.data?.selection ?? [];\r\n\t\tthis._usedForInheritance = this.data?.usedForInheritance ?? [];\r\n\t\tthis._usedForComposition = this.data?.usedForComposition ?? [];\r\n\t\tthis.modalContext?.setValue({ selection: this._selection });\r\n\r\n\t\tconst isNew = this.data!.isNew;\r\n\t\tthis.#unique = !isNew ? this.data!.unique : null;\r\n\r\n\t\tthis.#requestReference();\r\n\t\tthis.#requestAvailableCompositions();\r\n\t}\r\n\r\n\tprotected override async _submitModal() {\r\n\t\tconst initSelection = this.data?.selection ?? [];\r\n\t\tconst newSelection = this._selection;\r\n\r\n\t\tconst setA = new Set(newSelection);\r\n\t\tconst existingCompositionHasBeenRemoved = !initSelection.every((item) => setA.has(item));\r\n\r\n\t\tif (existingCompositionHasBeenRemoved) {\r\n\t\t\tawait umbConfirmModal(this, {\r\n\t\t\t\theadline: this.localize.term('general_remove'),\r\n\t\t\t\tcontent: html`<div style=\"max-width:400px\">\r\n\t\t\t\t\t${this.localize.term('contentTypeEditor_compositionRemoveWarning')}\r\n\t\t\t\t</div>`,\r\n\t\t\t\tconfirmLabel: this.localize.term('general_submit'),\r\n\t\t\t\tcolor: 'danger',\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tsuper._submitModal();\r\n\t}\r\n\r\n\tasync #requestReference() {\r\n\t\tawait this.#init;\r\n\t\tif (!this.#unique || !this.#compositionRepository) return;\r\n\r\n\t\tconst { data } = await this.#compositionRepository.getReferences(this.#unique);\r\n\t\tthis._references = data ?? [];\r\n\t}\r\n\r\n\tasync #requestAvailableCompositions() {\r\n\t\tawait this.#init;\r\n\t\tif (!this.#compositionRepository) return;\r\n\r\n\t\t// Notice isElement is not available on all types that can be composed.\r\n\t\tconst isElement = this.data?.isElement ?? undefined;\r\n\t\tconst currentPropertyAliases = this.data?.currentPropertyAliases ?? [];\r\n\r\n\t\tconst { data } = await this.#compositionRepository.availableCompositions({\r\n\t\t\tunique: this.#unique,\r\n\t\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n\t\t\t// @ts-ignore\r\n\t\t\t// TODO: isElement is not available on all types that can be composed.\r\n\t\t\tisElement: isElement,\r\n\t\t\tcurrentCompositeUniques: this._selection,\r\n\t\t\tcurrentPropertyAliases: currentPropertyAliases,\r\n\t\t});\r\n\r\n\t\tif (!data) return;\r\n\r\n\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n\t\t// @ts-expect-error\r\n\t\tconst grouped = Object.groupBy(data, (item) => '/' + item.folderPath.join('/'));\r\n\t\tthis._compatibleCompositions = Object.keys(grouped)\r\n\t\t\t.sort((a, b) => a.localeCompare(b))\r\n\t\t\t.map((key) => ({ path: key, compositions: grouped[key] }));\r\n\t}\r\n\r\n\t#onSelectionAdd(unique: string) {\r\n\t\tthis._selection = [...this._selection, unique];\r\n\t\tthis.modalContext?.setValue({ selection: this._selection });\r\n\t}\r\n\r\n\t#onSelectionRemove(unique: string) {\r\n\t\tthis._selection = this._selection.filter((s) => s !== unique);\r\n\t\tthis.modalContext?.setValue({ selection: this._selection });\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-body-layout headline=\"${this.localize.term('contentTypeEditor_compositions')}\">\r\n\t\t\t\t<uui-box>\r\n\t\t\t\t\t${this._references.length ? this.#renderHasReference() : this.#renderAvailableCompositions()}\r\n\t\t\t\t</uui-box>\r\n\t\t\t\t<div slot=\"actions\">\r\n\t\t\t\t\t<uui-button label=${this.localize.term('general_close')} @click=${this._rejectModal}></uui-button>\r\n\t\t\t\t\t${!this._references.length\r\n\t\t\t\t\t\t? html`\r\n\t\t\t\t\t\t\t\t<uui-button\r\n\t\t\t\t\t\t\t\t\tlabel=${this.localize.term('general_submit')}\r\n\t\t\t\t\t\t\t\t\tlook=\"primary\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"positive\"\r\n\t\t\t\t\t\t\t\t\t@click=${this._submitModal}></uui-button>\r\n\t\t\t\t\t\t\t`\r\n\t\t\t\t\t\t: nothing}\r\n\t\t\t\t</div>\r\n\t\t\t</umb-body-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderHasReference() {\r\n\t\treturn html`\r\n\t\t\t<umb-localize key=\"contentTypeEditor_compositionInUse\">\r\n\t\t\t\tThis Content Type is used in a composition, and therefore cannot be composed itself.\r\n\t\t\t</umb-localize>\r\n\t\t\t<h4>\r\n\t\t\t\t<umb-localize key=\"contentTypeEditor_compositionUsageHeading\">Where is this composition used?</umb-localize>\r\n\t\t\t</h4>\r\n\t\t\t<umb-localize key=\"contentTypeEditor_compositionUsageSpecification\">\r\n\t\t\t\tThis composition is currently used in the composition of the following Content Types:\r\n\t\t\t</umb-localize>\r\n\t\t\t<div class=\"reference-list\">\r\n\t\t\t\t${repeat(\r\n\t\t\t\t\tthis._references,\r\n\t\t\t\t\t(item) => item.unique,\r\n\t\t\t\t\t(item) => html`\r\n\t\t\t\t\t\t<uui-ref-node-document-type\r\n\t\t\t\t\t\t\thref=${'/section/settings/workspace/document-type/edit/' + item.unique}\r\n\t\t\t\t\t\t\tname=${this.localize.string(item.name)}>\r\n\t\t\t\t\t\t\t<umb-icon slot=\"icon\" name=${item.icon}></umb-icon>\r\n\t\t\t\t\t\t</uui-ref-node-document-type>\r\n\t\t\t\t\t`,\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderAvailableCompositions() {\r\n\t\tif (this._compatibleCompositions) {\r\n\t\t\treturn html`\r\n\t\t\t\t<umb-localize key=\"contentTypeEditor_compositionsDescription\">\r\n\t\t\t\t\tInherit tabs and properties from an existing Document Type. New tabs will be<br />added to the current\r\n\t\t\t\t\tDocument Type or merged if a tab with an identical name exists.<br />\r\n\t\t\t\t</umb-localize>\r\n\t\t\t\t<!--- TODO: Implement search functionality\r\n\t\t\t\t<uui-input id=\"search\" placeholder=this.localize.term('placeholders_filter')>\r\n\t\t\t\t\t<uui-icon name=\"icon-search\" slot=\"prepend\"></uui-icon>\r\n\t\t\t\t</uui-input> -->\r\n\t\t\t\t<div class=\"compositions-list\">\r\n\t\t\t\t\t${repeat(\r\n\t\t\t\t\t\tthis._compatibleCompositions,\r\n\t\t\t\t\t\t(folder) => folder.path,\r\n\t\t\t\t\t\t(folder) =>\r\n\t\t\t\t\t\t\thtml`${this._compatibleCompositions!.length > 1\r\n\t\t\t\t\t\t\t\t? html`<strong><umb-icon name=\"icon-folder\"></umb-icon>${folder.path}</strong>`\r\n\t\t\t\t\t\t\t\t: nothing}\r\n\t\t\t\t\t\t\t${this.#renderCompositionsItems(folder.compositions)}`,\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t`;\r\n\t\t} else {\r\n\t\t\treturn html`\r\n\t\t\t\t<umb-localize key=\"contentTypeEditor_noAvailableCompositions\">\r\n\t\t\t\t\tThere are no Content Types available to use as a composition\r\n\t\t\t\t</umb-localize>\r\n\t\t\t`;\r\n\t\t}\r\n\t}\r\n\r\n\t#renderCompositionsItems(compositionsList: Array<UmbContentTypeCompositionCompatibleModel>) {\r\n\t\treturn repeat(\r\n\t\t\tcompositionsList,\r\n\t\t\t(compositions) => compositions.unique,\r\n\t\t\t(compositions) => {\r\n\t\t\t\tconst usedForInheritance = this._usedForInheritance.includes(compositions.unique);\r\n\t\t\t\tconst usedForComposition = this._usedForComposition.includes(compositions.unique);\r\n\t\t\t\t/* The server will return isCompatible as false if the Doc Type is currently being used in a composition. \r\n\t\t\t\tTherefore, we need to account for this in the \"isDisabled\" check to ensure it remains enabled. \r\n\t\t\t\tOtherwise, it would become disabled and couldn't be deselected by the user. */\r\n\t\t\t\tconst isDisabled = usedForInheritance || (compositions.isCompatible === false && !usedForComposition);\r\n\t\t\t\treturn html`\r\n\t\t\t\t\t<uui-menu-item\r\n\t\t\t\t\t\tlabel=${this.localize.string(compositions.name)}\r\n\t\t\t\t\t\t?selectable=${!usedForInheritance}\r\n\t\t\t\t\t\t?disabled=${isDisabled}\r\n\t\t\t\t\t\t@selected=${() => this.#onSelectionAdd(compositions.unique)}\r\n\t\t\t\t\t\t@deselected=${() => this.#onSelectionRemove(compositions.unique)}\r\n\t\t\t\t\t\t?selected=${this._selection.find((unique) => unique === compositions.unique)}>\r\n\t\t\t\t\t\t<umb-icon name=${compositions.icon} slot=\"icon\"></umb-icon>\r\n\t\t\t\t\t</uui-menu-item>\r\n\t\t\t\t`;\r\n\t\t\t},\r\n\t\t);\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\tuui-input {\r\n\t\t\t\tmargin: var(--uui-size-6) 0;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t}\r\n\r\n\t\t\t#search uui-icon {\r\n\t\t\t\tpadding-left: var(--uui-size-3);\r\n\t\t\t}\r\n\r\n\t\t\t.reference-list {\r\n\t\t\t\tmargin-block: var(--uui-size-3);\r\n\t\t\t\tdisplay: grid;\r\n\t\t\t\tgap: var(--uui-size-1);\r\n\t\t\t}\r\n\r\n\t\t\t.compositions-list strong {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: var(--uui-size-3);\r\n\t\t\t}\r\n\r\n\t\t\t.compositions-list {\r\n\t\t\t\tmargin-block: var(--uui-size-3);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbCompositionPickerModalElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-composition-picker-modal': UmbCompositionPickerModalElement;\r\n\t}\r\n}\r\n"],"names":["_compositionRepository","_unique","_init","_UmbCompositionPickerModalElement_instances","requestReference_fn","requestAvailableCompositions_fn","onSelectionAdd_fn","onSelectionRemove_fn","renderHasReference_fn","renderAvailableCompositions_fn","renderCompositionsItems_fn","UmbCompositionPickerModalElement","UmbModalBaseElement","__privateAdd","alias","__privateSet","UmbExtensionApiInitializer","umbExtensionsRegistry","permitted","ctrl","isNew","__privateMethod","initSelection","newSelection","setA","item","umbConfirmModal","html","nothing","__privateGet","data","isElement","currentPropertyAliases","grouped","a","b","key","unique","s","repeat","folder","compositionsList","compositions","usedForInheritance","usedForComposition","isDisabled","css","__decorateClass","state","customElement","UmbCompositionPickerModalElement$1"],"mappings":";;;;;;;;;;wYAAAA,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC;AAoBa,IAAAC,IAAN,cAA+CC,EAGpD;AAAA,EAHK,cAAA;AAAA,UAAA,GAAA,SAAA,GAAAC,EAAA,MAAAV,CAAA,GAKNU,EAAA,MAAAb,CAAA,GACyBa,EAAA,MAAAZ,GAAA,IAAA,GACzBY,EAAA,MAAAX,CAAA,GAGA,KAAQ,cAA8D,CAAC,GAMvE,KAAQ,aAA4B,CAAC,GAGrC,KAAQ,sBAAqC,CAAC,GAG9C,KAAQ,sBAAqC,CAAC;AAAA,EAAA;AAAA,EAErC,oBAAoB;AAC5B,UAAM,kBAAkB;AAElB,UAAAY,IAAQ,KAAK,MAAM;AACzB,QAAIA;AACE,MAAAC,EAAA,MAAAb,GAAQ,IAAIc,EAA2B,MAAMC,GAAuBH,GAAO,CAAC,IAAI,GAAG,CAACI,GAAWC,MAAS;AACvG,QAAAJ,EAAA,MAAAf,GAAyBkB,IAAaC,EAAK,MAA8C,MAAA;AAAA,MAAA,CAC9F,EAAE,UAAU,CAAA;AAAA;AAEP,YAAA,IAAI,MAAM,0CAA0C;AAG3D,SAAK,aAAa,KAAK,MAAM,aAAa,CAAC,GAC3C,KAAK,sBAAsB,KAAK,MAAM,sBAAsB,CAAC,GAC7D,KAAK,sBAAsB,KAAK,MAAM,sBAAsB,CAAC,GAC7D,KAAK,cAAc,SAAS,EAAE,WAAW,KAAK,YAAY;AAEpD,UAAAC,IAAQ,KAAK,KAAM;AACzB,IAAAL,EAAA,MAAKd,GAAWmB,IAA4B,OAApB,KAAK,KAAM,MAAS,GAE5CC,EAAA,MAAKlB,GAALC,CAAA,EAAA,KAAA,IAAA,GACAiB,EAAA,MAAKlB,GAALE,CAAA,EAAA,KAAA,IAAA;AAAA,EAAA;AAAA,EAGD,MAAyB,eAAe;AACvC,UAAMiB,IAAgB,KAAK,MAAM,aAAa,CAAC,GACzCC,IAAe,KAAK,YAEpBC,IAAO,IAAI,IAAID,CAAY;AAGjC,IAF0C,CAACD,EAAc,MAAM,CAACG,MAASD,EAAK,IAAIC,CAAI,CAAC,KAGtF,MAAMC,EAAgB,MAAM;AAAA,MAC3B,UAAU,KAAK,SAAS,KAAK,gBAAgB;AAAA,MAC7C,SAASC;AAAA,OACN,KAAK,SAAS,KAAK,4CAA4C,CAAC;AAAA;AAAA,MAEnE,cAAc,KAAK,SAAS,KAAK,gBAAgB;AAAA,MACjD,OAAO;AAAA,IAAA,CACP,GAGF,MAAM,aAAa;AAAA,EAAA;AAAA,EAiDX,SAAS;AACV,WAAAA;AAAA,gCACuB,KAAK,SAAS,KAAK,gCAAgC,CAAC;AAAA;AAAA,OAE7E,KAAK,YAAY,SAASN,EAAA,MAAKlB,MAAL,KAA6B,IAAA,IAAAkB,EAAA,MAAKlB,MAAL,KAAmC,IAAA,CAAA;AAAA;AAAA;AAAA,yBAGxE,KAAK,SAAS,KAAK,eAAe,CAAC,WAAW,KAAK,YAAY;AAAA,OAChF,KAAK,YAAY,SAQjByB,IAPAD;AAAA;AAAA,iBAES,KAAK,SAAS,KAAK,gBAAgB,CAAC;AAAA;AAAA;AAAA,kBAGnC,KAAK,YAAY;AAAA,QAEpB;AAAA;AAAA;AAAA;AAAA,EAAA;AAwHf;AAtPC3B,IAAA,oBAAA,QAAA;AACAC,IAAA,oBAAA,QAAA;AACAC,IAAA,oBAAA,QAAA;AAPMC,IAAA,oBAAA,QAAA;AAqEAC,IAAiB,iBAAG;AAEzB,MADA,MAAMyB,EAAK,MAAA3B,CAAA,GACP,CAAC2B,EAAA,MAAK5B,CAAW,KAAA,CAAC4B,QAAK7B,CAAwB,EAAA;AAE7C,QAAA,EAAE,MAAA8B,MAAS,MAAMD,QAAK7B,CAAuB,EAAA,cAAc6B,QAAK5B,CAAO,CAAA;AACxE,OAAA,cAAc6B,KAAQ,CAAC;AAC7B;AAEMzB,IAA6B,iBAAG;AAEjC,MADJ,MAAMwB,EAAK,MAAA3B,CAAA,GACP,CAAC2B,QAAK7B,CAAwB,EAAA;AAG5B,QAAA+B,IAAY,KAAK,MAAM,aAAa,QACpCC,IAAyB,KAAK,MAAM,0BAA0B,CAAC,GAE/D,EAAE,MAAAF,EAAK,IAAI,MAAMD,EAAA,MAAK7B,GAAuB,sBAAsB;AAAA,IACxE,QAAQ6B,EAAK,MAAA5B,CAAA;AAAA;AAAA;AAAA;AAAA,IAIb,WAAA8B;AAAA,IACA,yBAAyB,KAAK;AAAA,IAC9B,wBAAAC;AAAA,EAAA,CACA;AAED,MAAI,CAACF,EAAM;AAIL,QAAAG,IAAU,OAAO,QAAQH,GAAM,CAACL,MAAS,MAAMA,EAAK,WAAW,KAAK,GAAG,CAAC;AACzE,OAAA,0BAA0B,OAAO,KAAKQ,CAAO,EAChD,KAAK,CAACC,GAAGC,MAAMD,EAAE,cAAcC,CAAC,CAAC,EACjC,IAAI,CAACC,OAAS,EAAE,MAAMA,GAAK,cAAcH,EAAQG,CAAG,EAAA,EAAI;AAC3D;AAEA9B,IAAe,SAAC+B,GAAgB;AAC/B,OAAK,aAAa,CAAC,GAAG,KAAK,YAAYA,CAAM,GAC7C,KAAK,cAAc,SAAS,EAAE,WAAW,KAAK,YAAY;AAC3D;AAEA9B,IAAkB,SAAC8B,GAAgB;AAClC,OAAK,aAAa,KAAK,WAAW,OAAO,CAACC,MAAMA,MAAMD,CAAM,GAC5D,KAAK,cAAc,SAAS,EAAE,WAAW,KAAK,YAAY;AAC3D;AAwBA7B,IAAmB,WAAG;AACd,SAAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAWHY;AAAA,IACD,KAAK;AAAA,IACL,CAACd,MAASA,EAAK;AAAA,IACf,CAACA,MAASE;AAAA;AAAA,cAED,oDAAoDF,EAAK,MAAM;AAAA,cAC/D,KAAK,SAAS,OAAOA,EAAK,IAAI,CAAC;AAAA,oCACTA,EAAK,IAAI;AAAA;AAAA;AAAA,EAGxC,CAAA;AAAA;AAAA;AAGJ;AAEAhB,IAA4B,WAAG;AAC9B,SAAI,KAAK,0BACDkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAUHY;AAAA,IACD,KAAK;AAAA,IACL,CAACC,MAAWA,EAAO;AAAA,IACnB,CAACA,MACAb,IAAO,KAAK,wBAAyB,SAAS,IAC3CA,oDAAuDa,EAAO,IAAI,cAClEZ,CAAO;AAAA,SACRP,EAAK,MAAAlB,GAAAO,CAAA,EAAL,KAA8B,MAAA8B,EAAO,YAAa,CAAA;AAAA,EACrD,CAAA;AAAA;AAAA,OAIIb;AAAA;AAAA;AAAA;AAAA;AAMT;AAEAjB,IAAwB,SAAC+B,GAAmE;AACpF,SAAAF;AAAA,IACNE;AAAA,IACA,CAACC,MAAiBA,EAAa;AAAA,IAC/B,CAACA,MAAiB;AACjB,YAAMC,IAAqB,KAAK,oBAAoB,SAASD,EAAa,MAAM,GAC1EE,IAAqB,KAAK,oBAAoB,SAASF,EAAa,MAAM,GAI1EG,IAAaF,KAAuBD,EAAa,iBAAiB,MAAS,CAACE;AAC3E,aAAAjB;AAAA;AAAA,cAEG,KAAK,SAAS,OAAOe,EAAa,IAAI,CAAC;AAAA,oBACjC,CAACC,CAAkB;AAAA,kBACrBE,CAAU;AAAA,kBACV,MAAMxB,EAAA,MAAKlB,GAALG,CAAA,EAAA,KAAA,MAAqBoC,EAAa,MAAO,CAAA;AAAA,oBAC7C,MAAMrB,EAAA,MAAKlB,GAALI,CAAA,EAAA,KAAA,MAAwBmC,EAAa,MAAO,CAAA;AAAA,kBACpD,KAAK,WAAW,KAAK,CAACL,MAAWA,MAAWK,EAAa,MAAM,CAAC;AAAA,uBAC3DA,EAAa,IAAI;AAAA;AAAA;AAAA,IAAA;AAAA,EAItC;AACD;AA5NY/B,EA8NI,SAAS;AAAA,EACxBmC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA2BD;AAhPQC,EAAA;AAAA,EADPC,EAAM;AAAA,GATKrC,EAUJ,WAAA,eAAA,CAAA;AAGAoC,EAAA;AAAA,EADPC,EAAM;AAAA,GAZKrC,EAaJ,WAAA,2BAAA,CAAA;AAGAoC,EAAA;AAAA,EADPC,EAAM;AAAA,GAfKrC,EAgBJ,WAAA,cAAA,CAAA;AAGAoC,EAAA;AAAA,EADPC,EAAM;AAAA,GAlBKrC,EAmBJ,WAAA,uBAAA,CAAA;AAGAoC,EAAA;AAAA,EADPC,EAAM;AAAA,GArBKrC,EAsBJ,WAAA,uBAAA,CAAA;AAtBIA,IAANoC,EAAA;AAAA,EADNE,EAAc,8BAA8B;AAAA,GAChCtC,CAAA;AA6Pb,MAAAuC,IAAevC;"}