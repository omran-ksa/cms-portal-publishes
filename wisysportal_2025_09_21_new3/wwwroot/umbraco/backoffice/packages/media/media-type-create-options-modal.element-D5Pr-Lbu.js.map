{"version":3,"file":"media-type-create-options-modal.element-D5Pr-Lbu.js","sources":["../../../src/packages/media/media-types/entity-actions/create/modal/media-type-create-options-modal.element.ts"],"sourcesContent":["import { UMB_MEDIA_TYPE_FOLDER_REPOSITORY_ALIAS } from '../../../constants.js';\r\nimport type { UmbMediaTypeCreateOptionsModalData } from './constants.js';\r\nimport { html, customElement } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbModalBaseElement } from '@umbraco-cms/backoffice/modal';\r\nimport { UmbCreateFolderEntityAction } from '@umbraco-cms/backoffice/tree';\r\nimport { UmbDeprecation } from '@umbraco-cms/backoffice/utils';\r\n\r\n/**\r\n * @deprecated This element is deprecated and will be removed in v.17.0.0.\r\n * Please use the UMB_ENTITY_CREATE_OPTION_ACTION_LIST_MODAL instead.\r\n * @exports\r\n * @class UmbMediaTypeCreateOptionsModalElement\r\n * @augments {UmbModalBaseElement<UmbDataTypeCreateOptionsModalData>}\r\n */\r\n@customElement('umb-media-type-create-options-modal')\r\nexport class UmbMediaTypeCreateOptionsModalElement extends UmbModalBaseElement<UmbMediaTypeCreateOptionsModalData> {\r\n\t#createFolderAction?: UmbCreateFolderEntityAction;\r\n\r\n\toverride connectedCallback(): void {\r\n\t\tsuper.connectedCallback();\r\n\t\tif (!this.data?.parent) throw new Error('A parent is required to create a folder');\r\n\r\n\t\tnew UmbDeprecation({\r\n\t\t\tdeprecated: 'umb-media-type-create-options-modal',\r\n\t\t\tremoveInVersion: '17.0.0',\r\n\t\t\tsolution: 'Use UMB_ENTITY_CREATE_OPTION_ACTION_LIST_MODAL instead',\r\n\t\t}).warn();\r\n\r\n\t\t// TODO: render the info from this instance in the list of actions\r\n\t\tthis.#createFolderAction = new UmbCreateFolderEntityAction(this, {\r\n\t\t\tunique: this.data.parent.unique,\r\n\t\t\tentityType: this.data.parent.entityType,\r\n\t\t\tmeta: {\r\n\t\t\t\ticon: 'icon-folder',\r\n\t\t\t\tlabel: 'New Folder...',\r\n\t\t\t\tfolderRepositoryAlias: UMB_MEDIA_TYPE_FOLDER_REPOSITORY_ALIAS,\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tasync #onCreateFolderClick(event: PointerEvent) {\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tawait this.#createFolderAction\r\n\t\t\t?.execute()\r\n\t\t\t.then(() => this.modalContext?.submit())\r\n\t\t\t.catch(() => undefined);\r\n\t}\r\n\r\n\t// close the modal when navigating to data type\r\n\t#onNavigate() {\r\n\t\tthis.modalContext?.submit();\r\n\t}\r\n\r\n\t#onCancel() {\r\n\t\tthis.modalContext?.reject();\r\n\t}\r\n\r\n\t#getCreateHref() {\r\n\t\treturn `section/settings/workspace/media-type/create/parent/${this.data?.parent.entityType}/${\r\n\t\t\tthis.data?.parent.unique || 'null'\r\n\t\t}`;\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-body-layout headline=\"Create Media Type\">\r\n\t\t\t\t<uui-box>\r\n\t\t\t\t\t<!-- TODO: construct url -->\r\n\t\t\t\t\t<uui-menu-item href=${this.#getCreateHref()} label=\"New Media Type...\" @click=${this.#onNavigate}>\r\n\t\t\t\t\t\t<uui-icon slot=\"icon\" name=\"icon-autofill\"></uui-icon>\r\n\t\t\t\t\t</uui-menu-item>\r\n\t\t\t\t\t<uui-menu-item @click=${this.#onCreateFolderClick} label=\"New Folder...\">\r\n\t\t\t\t\t\t<uui-icon slot=\"icon\" name=\"icon-folder\"></uui-icon>}\r\n\t\t\t\t\t</uui-menu-item>\r\n\t\t\t\t</uui-box>\r\n\t\t\t\t<uui-button slot=\"actions\" id=\"cancel\" label=\"Cancel\" @click=\"${this.#onCancel}\">Cancel</uui-button>\r\n\t\t\t</umb-body-layout>\r\n\t\t`;\r\n\t}\r\n}\r\n\r\nexport default UmbMediaTypeCreateOptionsModalElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-media-type-create-options-modal': UmbMediaTypeCreateOptionsModalElement;\r\n\t}\r\n}\r\n"],"names":["_createFolderAction","_UmbMediaTypeCreateOptionsModalElement_instances","onCreateFolderClick_fn","onNavigate_fn","onCancel_fn","getCreateHref_fn","UmbMediaTypeCreateOptionsModalElement","UmbModalBaseElement","__privateAdd","UmbDeprecation","__privateSet","UmbCreateFolderEntityAction","UMB_MEDIA_TYPE_FOLDER_REPOSITORY_ALIAS","html","__privateMethod","event","__privateGet","__decorateClass","customElement","UmbMediaTypeCreateOptionsModalElement$1"],"mappings":";;;;;;;;;;;wYAAAA,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC;AAea,IAAAC,IAAN,cAAoDC,EAAwD;AAAA,EAA5G,cAAA;AAAA,UAAA,GAAA,SAAA,GAAAC,EAAA,MAAAP,CAAA,GACNO,EAAA,MAAAR,CAAA;AAAA,EAAA;AAAA,EAES,oBAA0B;AAElC,QADA,MAAM,kBAAkB,GACpB,CAAC,KAAK,MAAM,OAAc,OAAA,IAAI,MAAM,yCAAyC;AAEjF,QAAIS,EAAe;AAAA,MAClB,YAAY;AAAA,MACZ,iBAAiB;AAAA,MACjB,UAAU;AAAA,IACV,CAAA,EAAE,KAAK,GAGHC,EAAA,MAAAV,GAAsB,IAAIW,EAA4B,MAAM;AAAA,MAChE,QAAQ,KAAK,KAAK,OAAO;AAAA,MACzB,YAAY,KAAK,KAAK,OAAO;AAAA,MAC7B,MAAM;AAAA,QACL,MAAM;AAAA,QACN,OAAO;AAAA,QACP,uBAAuBC;AAAA,MAAA;AAAA,IACxB,CACA,CAAA;AAAA,EAAA;AAAA,EA2BO,SAAS;AACV,WAAAC;AAAA;AAAA;AAAA;AAAA,2BAIkBC,EAAK,MAAAb,GAAAI,CAAA,EAAL,KAAqB,IAAA,CAAA,qCAAqCS,QAAKb,GAAWE,CAAA,CAAA;AAAA;AAAA;AAAA,6BAGxEW,QAAKb,GAAoBC,CAAA,CAAA;AAAA;AAAA;AAAA;AAAA,oEAIcY,QAAKb,GAASG,CAAA,CAAA;AAAA;AAAA;AAAA,EAAA;AAIlF;AAhECJ,IAAA,oBAAA,QAAA;AADMC,IAAA,oBAAA,QAAA;AAyBAC,IAAoB,eAACa,GAAqB;AAC/C,EAAAA,EAAM,gBAAgB,GAEtB,MAAMC,EAAK,MAAAhB,CAAA,GACR,QAAQ,EACT,KAAK,MAAM,KAAK,cAAc,OAAO,CAAC,EACtC,MAAM,MAAM;AAAA,GAAS;AACxB;AAGAG,IAAW,WAAG;AACb,OAAK,cAAc,OAAO;AAC3B;AAEAC,IAAS,WAAG;AACX,OAAK,cAAc,OAAO;AAC3B;AAEAC,IAAc,WAAG;AACT,SAAA,uDAAuD,KAAK,MAAM,OAAO,UAAU,IACzF,KAAK,MAAM,OAAO,UAAU,MAC7B;AACD;AA/CYC,IAANW,EAAA;AAAA,EADNC,EAAc,qCAAqC;AAAA,GACvCZ,CAAA;AAmEb,MAAAa,IAAeb;"}