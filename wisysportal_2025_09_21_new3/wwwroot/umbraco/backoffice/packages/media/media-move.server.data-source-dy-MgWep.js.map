{"version":3,"file":"media-move.server.data-source-dy-MgWep.js","sources":["../../../src/packages/media/media/entity-actions/move-to/repository/media-move.server.data-source.ts"],"sourcesContent":["import { MediaService } from '@umbraco-cms/backoffice/external/backend-api';\r\nimport type { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport { tryExecute } from '@umbraco-cms/backoffice/resources';\r\nimport type { UmbMoveDataSource, UmbMoveToRequestArgs } from '@umbraco-cms/backoffice/tree';\r\n\r\n/**\r\n * Move Media Server Data Source\r\n * @class UmbMoveMediaServerDataSource\r\n */\r\nexport class UmbMoveMediaServerDataSource implements UmbMoveDataSource {\r\n\t#host: UmbControllerHost;\r\n\r\n\t/**\r\n\t * Creates an instance of UmbMoveMediaServerDataSource.\r\n\t * @param {UmbControllerHost} host - The controller host for this controller to be appended to\r\n\t * @memberof UmbMoveMediaServerDataSource\r\n\t */\r\n\tconstructor(host: UmbControllerHost) {\r\n\t\tthis.#host = host;\r\n\t}\r\n\r\n\t/**\r\n\t * Move an item for the given id to the target unique\r\n\t * @param {string} unique\r\n\t * @param {(string | null)} targetUnique\r\n\t * @param args\r\n\t * @returns {*}\r\n\t * @memberof UmbMoveMediaServerDataSource\r\n\t */\r\n\tasync moveTo(args: UmbMoveToRequestArgs) {\r\n\t\tif (!args.unique) throw new Error('Unique is missing');\r\n\t\tif (args.destination.unique === undefined) throw new Error('Destination unique is missing');\r\n\r\n\t\treturn tryExecute(\r\n\t\t\tthis.#host,\r\n\t\t\tMediaService.putMediaByIdMove({\r\n\t\t\t\tpath: { id: args.unique },\r\n\t\t\t\tbody: {\r\n\t\t\t\t\ttarget: args.destination.unique ? { id: args.destination.unique } : null,\r\n\t\t\t\t},\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n}\r\n"],"names":["UmbMoveMediaServerDataSource","#host","host","args","tryExecute","MediaService"],"mappings":";;AASO,MAAMA,EAA0D;AAAA,EACtEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,YAAYC,GAAyB;AACpC,SAAKD,KAAQC;AAAA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWd,MAAM,OAAOC,GAA4B;AACxC,QAAI,CAACA,EAAK,OAAc,OAAA,IAAI,MAAM,mBAAmB;AACrD,QAAIA,EAAK,YAAY,WAAW,OAAiB,OAAA,IAAI,MAAM,+BAA+B;AAEnF,WAAAC;AAAA,MACN,KAAKH;AAAA,MACLI,EAAa,iBAAiB;AAAA,QAC7B,MAAM,EAAE,IAAIF,EAAK,OAAO;AAAA,QACxB,MAAM;AAAA,UACL,QAAQA,EAAK,YAAY,SAAS,EAAE,IAAIA,EAAK,YAAY,WAAW;AAAA,QAAA;AAAA,MAErE,CAAA;AAAA,IACF;AAAA,EAAA;AAEF;"}