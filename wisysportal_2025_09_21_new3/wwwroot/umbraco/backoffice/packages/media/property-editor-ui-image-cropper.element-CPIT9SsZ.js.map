{"version":3,"file":"property-editor-ui-image-cropper.element-CPIT9SsZ.js","sources":["../../../src/packages/media/media/property-editors/image-cropper/property-editor-ui-image-cropper.element.ts"],"sourcesContent":["import type { UmbImageCropperPropertyEditorValue, UmbInputImageCropperElement } from '../../components/index.js';\r\nimport { html, customElement, property, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport type {\r\n\tUmbPropertyEditorUiElement,\r\n\tUmbPropertyEditorConfigCollection,\r\n} from '@umbraco-cms/backoffice/property-editor';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UMB_VALIDATION_EMPTY_LOCALIZATION_KEY, UmbFormControlMixin } from '@umbraco-cms/backoffice/validation';\r\n\r\nimport '../../components/input-image-cropper/input-image-cropper.element.js';\r\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\n\r\n/**\r\n * @element umb-property-editor-ui-image-cropper\r\n */\r\n@customElement('umb-property-editor-ui-image-cropper')\r\nexport class UmbPropertyEditorUIImageCropperElement\r\n\textends UmbFormControlMixin<UmbImageCropperPropertyEditorValue | undefined, typeof UmbLitElement, undefined>(\r\n\t\tUmbLitElement,\r\n\t)\r\n\timplements UmbPropertyEditorUiElement\r\n{\r\n\t/**\r\n\t * Sets the input to mandatory, meaning validation will fail if the value is empty.\r\n\t * @type {boolean}\r\n\t */\r\n\t@property({ type: Boolean })\r\n\tmandatory?: boolean;\r\n\r\n\t@property({ type: String })\r\n\tmandatoryMessage = UMB_VALIDATION_EMPTY_LOCALIZATION_KEY;\r\n\r\n\t@state()\r\n\tcrops: UmbImageCropperPropertyEditorValue['crops'] = [];\r\n\r\n\tpublic set config(config: UmbPropertyEditorConfigCollection | undefined) {\r\n\t\tthis.crops = config?.getValueByAlias<UmbImageCropperPropertyEditorValue['crops']>('crops') ?? [];\r\n\t}\r\n\r\n\toverride firstUpdated() {\r\n\t\tthis.addFormControlElement(this.shadowRoot!.querySelector('umb-input-image-cropper')!);\r\n\t}\r\n\r\n\toverride focus() {\r\n\t\treturn this.shadowRoot?.querySelector('umb-input-image-cropper')?.focus();\r\n\t}\r\n\r\n\t#onChange(e: Event) {\r\n\t\tthis.value = (e.target as UmbInputImageCropperElement).value;\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`<umb-input-image-cropper\r\n\t\t\t@change=${this.#onChange}\r\n\t\t\t.value=${this.value}\r\n\t\t\t.crops=${this.crops}\r\n\t\t\t.required=${this.mandatory}\r\n\t\t\t.requiredMessage=${this.mandatoryMessage}></umb-input-image-cropper>`;\r\n\t}\r\n}\r\n\r\nexport default UmbPropertyEditorUIImageCropperElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-property-editor-ui-image-cropper': UmbPropertyEditorUIImageCropperElement;\r\n\t}\r\n}\r\n"],"names":["_UmbPropertyEditorUIImageCropperElement_instances","onChange_fn","UmbPropertyEditorUIImageCropperElement","UmbFormControlMixin","UmbLitElement","__privateAdd","UMB_VALIDATION_EMPTY_LOCALIZATION_KEY","config","html","__privateMethod","UmbChangeEvent","__decorateClass","property","state","customElement","UmbPropertyEditorUIImageCropperElement$1"],"mappings":";;;;;;;;;;;8OAAAA,GAAAC;AAgBO,IAAMC,IAAN,cACEC;AAAA,EACPC;AACD,EAED;AAAA,EALO,cAAA;AAAA,UAAA,GAAA,SAAA,GAAAC,EAAA,MAAAL,CAAA,GAca,KAAA,mBAAAM,GAGnB,KAAA,QAAqD,CAAC;AAAA,EAAA;AAAA,EAEtD,IAAW,OAAOC,GAAuD;AACxE,SAAK,QAAQA,GAAQ,gBAA6D,OAAO,KAAK,CAAC;AAAA,EAAA;AAAA,EAGvF,eAAe;AACvB,SAAK,sBAAsB,KAAK,WAAY,cAAc,yBAAyB,CAAE;AAAA,EAAA;AAAA,EAG7E,QAAQ;AAChB,WAAO,KAAK,YAAY,cAAc,yBAAyB,GAAG,MAAM;AAAA,EAAA;AAAA,EAQhE,SAAS;AACV,WAAAC;AAAA,aACIC,QAAKT,GAASC,CAAA,CAAA;AAAA,YACf,KAAK,KAAK;AAAA,YACV,KAAK,KAAK;AAAA,eACP,KAAK,SAAS;AAAA,sBACP,KAAK,gBAAgB;AAAA,EAAA;AAE3C;AA5COD,IAAA,oBAAA,QAAA;AA+BNC,IAAS,SAAC,GAAU;AACd,OAAA,QAAS,EAAE,OAAuC,OAClD,KAAA,cAAc,IAAIS,GAAgB;AACxC;AAvBAC,EAAA;AAAA,EADCC,EAAS,EAAE,MAAM,QAAS,CAAA;AAAA,GAVfV,EAWZ,WAAA,aAAA,CAAA;AAGAS,EAAA;AAAA,EADCC,EAAS,EAAE,MAAM,OAAQ,CAAA;AAAA,GAbdV,EAcZ,WAAA,oBAAA,CAAA;AAGAS,EAAA;AAAA,EADCE,EAAM;AAAA,GAhBKX,EAiBZ,WAAA,SAAA,CAAA;AAjBYA,IAANS,EAAA;AAAA,EADNG,EAAc,sCAAsC;AAAA,GACxCZ,CAAA;AA8Cb,MAAAa,IAAeb;"}