{"version":3,"file":"media-move.repository-CVbQGMH6.js","sources":["../../../src/packages/media/media/entity-actions/move-to/repository/media-move.repository.ts"],"sourcesContent":["import { UmbMoveMediaServerDataSource } from './media-move.server.data-source.js';\r\nimport { UMB_NOTIFICATION_CONTEXT } from '@umbraco-cms/backoffice/notification';\r\nimport type { UmbMoveRepository, UmbMoveToRequestArgs } from '@umbraco-cms/backoffice/tree';\r\nimport { UmbRepositoryBase } from '@umbraco-cms/backoffice/repository';\r\n\r\nexport class UmbMoveMediaRepository extends UmbRepositoryBase implements UmbMoveRepository {\r\n\t#moveSource = new UmbMoveMediaServerDataSource(this);\r\n\r\n\tasync requestMoveTo(args: UmbMoveToRequestArgs) {\r\n\t\tconst { error } = await this.#moveSource.moveTo(args);\r\n\r\n\t\tif (!error) {\r\n\t\t\tconst notificationContext = await this.getContext(UMB_NOTIFICATION_CONTEXT);\r\n\t\t\tif (!notificationContext) {\r\n\t\t\t\tthrow new Error('Notification context not found.');\r\n\t\t\t}\r\n\t\t\tconst notification = { data: { message: `Moved` } };\r\n\t\t\tnotificationContext.peek('positive', notification);\r\n\t\t}\r\n\r\n\t\treturn { error };\r\n\t}\r\n}\r\n\r\nexport { UmbMoveMediaRepository as api };\r\n"],"names":["UmbMoveMediaRepository","UmbRepositoryBase","#moveSource","UmbMoveMediaServerDataSource","args","error","notificationContext","UMB_NOTIFICATION_CONTEXT","notification"],"mappings":";;;AAKO,MAAMA,UAA+BC,EAA+C;AAAA,EAC1FC,KAAc,IAAIC,EAA6B,IAAI;AAAA,EAEnD,MAAM,cAAcC,GAA4B;AAC/C,UAAM,EAAE,OAAAC,EAAM,IAAI,MAAM,KAAKH,GAAY,OAAOE,CAAI;AAEpD,QAAI,CAACC,GAAO;AACX,YAAMC,IAAsB,MAAM,KAAK,WAAWC,CAAwB;AAC1E,UAAI,CAACD;AACE,cAAA,IAAI,MAAM,iCAAiC;AAElD,YAAME,IAAe,EAAE,MAAM,EAAE,SAAS,UAAU;AAC9B,MAAAF,EAAA,KAAK,YAAYE,CAAY;AAAA,IAAA;AAGlD,WAAO,EAAE,OAAAH,EAAM;AAAA,EAAA;AAEjB;"}