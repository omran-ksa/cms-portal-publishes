{"version":3,"file":"property-value-cloner-block-grid.cloner-u37_S2gb.js","sources":["../../../src/packages/block/block-grid/property-value-cloner/property-value-cloner-block-grid.cloner.ts"],"sourcesContent":["import { UMB_BLOCK_GRID_PROPERTY_EDITOR_SCHEMA_ALIAS } from '../constants.js';\r\nimport type { UmbBlockGridLayoutModel, UmbBlockGridValueModel } from '../types.js';\r\nimport { UmbBlockPropertyValueCloner, type UmbBlockPropertyValueClonerArgs } from '@umbraco-cms/backoffice/block';\r\n\r\nexport class UmbBlockGridPropertyValueCloner extends UmbBlockPropertyValueCloner<\r\n\tUmbBlockGridValueModel,\r\n\tUmbBlockGridLayoutModel\r\n> {\r\n\tconstructor(args: UmbBlockPropertyValueClonerArgs) {\r\n\t\tsuper(UMB_BLOCK_GRID_PROPERTY_EDITOR_SCHEMA_ALIAS, args);\r\n\t}\r\n\r\n\t_cloneLayout(\r\n\t\tlayouts: Array<UmbBlockGridLayoutModel> | undefined,\r\n\t): Promise<Array<UmbBlockGridLayoutModel> | undefined> | undefined {\r\n\t\treturn layouts ? Promise.all(layouts.map(this.#cloneLayoutEntry)) : undefined;\r\n\t}\r\n\r\n\t#cloneLayoutEntry = async (layout: UmbBlockGridLayoutModel): Promise<UmbBlockGridLayoutModel> => {\r\n\t\t// Clone the specific layout entry:\r\n\t\tconst entryClone = await this._cloneBlock(layout);\r\n\t\tif (entryClone.areas) {\r\n\t\t\t// And then clone the items of its areas:\r\n\t\t\tentryClone.areas = await Promise.all(\r\n\t\t\t\tentryClone.areas.map(async (area) => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...area,\r\n\t\t\t\t\t\titems: await Promise.all(area.items.map(this.#cloneLayoutEntry)),\r\n\t\t\t\t\t};\r\n\t\t\t\t}),\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn entryClone;\r\n\t};\r\n}\r\n\r\nexport { UmbBlockGridPropertyValueCloner as api };\r\n"],"names":["UmbBlockGridPropertyValueCloner","UmbBlockPropertyValueCloner","args","UMB_BLOCK_GRID_PROPERTY_EDITOR_SCHEMA_ALIAS","layouts","#cloneLayoutEntry","layout","entryClone","area"],"mappings":";;AAIO,MAAMA,UAAwCC,EAGnD;AAAA,EACD,YAAYC,GAAuC;AAClD,UAAMC,GAA6CD,CAAI;AAAA,EAAA;AAAA,EAGxD,aACCE,GACkE;AAC3D,WAAAA,IAAU,QAAQ,IAAIA,EAAQ,IAAI,KAAKC,EAAiB,CAAC,IAAI;AAAA,EAAA;AAAA,EAGrEA,KAAoB,OAAOC,MAAsE;AAEhG,UAAMC,IAAa,MAAM,KAAK,YAAYD,CAAM;AAChD,WAAIC,EAAW,UAEHA,EAAA,QAAQ,MAAM,QAAQ;AAAA,MAChCA,EAAW,MAAM,IAAI,OAAOC,OACpB;AAAA,QACN,GAAGA;AAAA,QACH,OAAO,MAAM,QAAQ,IAAIA,EAAK,MAAM,IAAI,KAAKH,EAAiB,CAAC;AAAA,MAChE,EACA;AAAA,IACF,IAEME;AAAA,EACR;AACD;"}