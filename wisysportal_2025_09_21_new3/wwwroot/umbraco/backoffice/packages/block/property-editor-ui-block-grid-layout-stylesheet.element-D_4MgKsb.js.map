{"version":3,"file":"property-editor-ui-block-grid-layout-stylesheet.element-D_4MgKsb.js","sources":["../../../src/packages/block/block-grid/property-editors/block-grid-layout-stylesheet/property-editor-ui-block-grid-layout-stylesheet.element.ts"],"sourcesContent":["// Needed to disable the import/no-duplicates rule, cause otherwise we do not get the custom element registered:\r\n\r\nimport type { UmbInputStaticFileElement } from '@umbraco-cms/backoffice/static-file';\r\n\r\nimport '@umbraco-cms/backoffice/static-file';\r\nimport { html, customElement, property, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport type {\r\n\tUmbPropertyEditorUiElement,\r\n\tUmbPropertyEditorConfigCollection,\r\n} from '@umbraco-cms/backoffice/property-editor';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { UmbServerFilePathUniqueSerializer } from '@umbraco-cms/backoffice/server-file-system';\r\nimport type { UmbNumberRangeValueType } from '@umbraco-cms/backoffice/models';\r\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\n\r\n@customElement('umb-property-editor-ui-block-grid-layout-stylesheet')\r\nexport class UmbPropertyEditorUIBlockGridLayoutStylesheetElement\r\n\textends UmbLitElement\r\n\timplements UmbPropertyEditorUiElement\r\n{\r\n\t#pickableFilter = (item: any) => item.unique.endsWith('css');\r\n\t#singleItemMode = false;\r\n\t// TODO: get rid of UmbServerFilePathUniqueSerializer in v.15 [NL]\r\n\t#serverFilePathUniqueSerializer = new UmbServerFilePathUniqueSerializer();\r\n\r\n\t@state()\r\n\tprivate _value?: string | Array<string>;\r\n\r\n\t@property({ attribute: false })\r\n\tpublic set value(value: string | Array<string> | undefined) {\r\n\t\tif (Array.isArray(value)) {\r\n\t\t\tthis._value = value.map((unique) => this.#serverFilePathUniqueSerializer.toUnique(unique));\r\n\t\t} else if (value) {\r\n\t\t\tthis._value = this.#serverFilePathUniqueSerializer.toUnique(value);\r\n\t\t} else {\r\n\t\t\tthis._value = undefined;\r\n\t\t}\r\n\t}\r\n\tpublic get value(): string | Array<string> | undefined {\r\n\t\tif (Array.isArray(this._value)) {\r\n\t\t\treturn this._value.map((unique) => this.#serverFilePathUniqueSerializer.toServerPath(unique) ?? '');\r\n\t\t} else if (this._value) {\r\n\t\t\treturn this.#serverFilePathUniqueSerializer.toServerPath(this._value) ?? '';\r\n\t\t} else {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic set config(config: UmbPropertyEditorConfigCollection | undefined) {\r\n\t\tthis.#singleItemMode = config?.getValueByAlias<boolean>('singleItemMode') ?? false;\r\n\t\tconst validationLimit = config?.getValueByAlias<UmbNumberRangeValueType>('validationLimit');\r\n\r\n\t\tthis._limitMin = validationLimit?.min ?? 0;\r\n\t\tthis._limitMax = this.#singleItemMode ? 1 : (validationLimit?.max ?? Infinity);\r\n\t}\r\n\r\n\t@state()\r\n\tprivate _limitMin: number = 0;\r\n\t@state()\r\n\tprivate _limitMax: number = Infinity;\r\n\r\n\tprivate _onChange(event: CustomEvent) {\r\n\t\tif (this.#singleItemMode) {\r\n\t\t\tthis._value = (event.target as UmbInputStaticFileElement).selection[0];\r\n\t\t} else {\r\n\t\t\tthis._value = (event.target as UmbInputStaticFileElement).selection;\r\n\t\t}\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\t// TODO: Implement mandatory?\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-input-static-file\r\n\t\t\t\t@change=${this._onChange}\r\n\t\t\t\t.pickableFilter=${this.#pickableFilter}\r\n\t\t\t\t.selection=${this._value ? (Array.isArray(this._value) ? this._value : [this._value]) : []}\r\n\t\t\t\t.min=${this._limitMin}\r\n\t\t\t\t.max=${this._limitMax}></umb-input-static-file>\r\n\t\t\t<br />\r\n\t\t\t<a href=\"/umbraco/backoffice/css/umbraco-blockgridlayout.css\" target=\"_blank\"\r\n\t\t\t\t>Link to default layout stylesheet</a\r\n\t\t\t>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [UmbTextStyles];\r\n}\r\n\r\nexport default UmbPropertyEditorUIBlockGridLayoutStylesheetElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-property-editor-ui-block-grid-layout-stylesheet': UmbPropertyEditorUIBlockGridLayoutStylesheetElement;\r\n\t}\r\n}\r\n"],"names":["_pickableFilter","_singleItemMode","_serverFilePathUniqueSerializer","UmbPropertyEditorUIBlockGridLayoutStylesheetElement","UmbLitElement","__privateAdd","item","UmbServerFilePathUniqueSerializer","value","unique","__privateGet","config","__privateSet","validationLimit","event","UmbChangeEvent","html","UmbTextStyles","__decorateClass","state","property","customElement","UmbPropertyEditorUIBlockGridLayoutStylesheetElement$1"],"mappings":";;;;;;;;;;;;gVAAAA,GAAAC,GAAAC;AAiBa,IAAAC,IAAN,cACEC,EAET;AAAA,EAHO,cAAA;AAAA,UAAA,GAAA,SAAA,GAINC,EAAA,MAAAL,GAAkB,CAACM,MAAcA,EAAK,OAAO,SAAS,KAAK,CAAA,GACzCD,EAAA,MAAAJ,GAAA,EAAA,GAElBI,EAAA,MAAAH,GAAkC,IAAIK,EAAkC,CAAA,GAkCxE,KAAQ,YAAoB,GAE5B,KAAQ,YAAoB;AAAA,EAAA;AAAA,EA9B5B,IAAW,MAAMC,GAA2C;AACvD,IAAA,MAAM,QAAQA,CAAK,IACjB,KAAA,SAASA,EAAM,IAAI,CAACC,MAAWC,EAAK,MAAAR,CAAA,EAAgC,SAASO,CAAM,CAAC,IAC/ED,IACV,KAAK,SAASE,EAAA,MAAKR,CAAgC,EAAA,SAASM,CAAK,IAEjE,KAAK,SAAS;AAAA,EACf;AAAA,EAED,IAAW,QAA4C;AACtD,WAAI,MAAM,QAAQ,KAAK,MAAM,IACrB,KAAK,OAAO,IAAI,CAACC,MAAWC,QAAKR,CAAgC,EAAA,aAAaO,CAAM,KAAK,EAAE,IACxF,KAAK,SACRC,EAAK,MAAAR,CAAA,EAAgC,aAAa,KAAK,MAAM,KAAK,KAElE;AAAA,EACR;AAAA,EAGD,IAAW,OAAOS,GAAuD;AACxE,IAAAC,EAAA,MAAKX,GAAkBU,GAAQ,gBAAyB,gBAAgB,KAAK,EAAA;AACvE,UAAAE,IAAkBF,GAAQ,gBAAyC,iBAAiB;AAErF,SAAA,YAAYE,GAAiB,OAAO,GACzC,KAAK,YAAYH,EAAA,MAAKT,CAAkB,IAAA,IAAKY,GAAiB,OAAO;AAAA,EAAA;AAAA,EAQ9D,UAAUC,GAAoB;AACrC,IAAIJ,QAAKT,CAAiB,IACzB,KAAK,SAAUa,EAAM,OAAqC,UAAU,CAAC,IAEhE,KAAA,SAAUA,EAAM,OAAqC,WAEtD,KAAA,cAAc,IAAIC,GAAgB;AAAA,EAAA;AAAA;AAAA,EAI/B,SAAS;AACV,WAAAC;AAAA;AAAA,cAEK,KAAK,SAAS;AAAA,sBACNN,QAAKV,CAAe,CAAA;AAAA,iBACzB,KAAK,SAAU,MAAM,QAAQ,KAAK,MAAM,IAAI,KAAK,SAAS,CAAC,KAAK,MAAM,IAAK,CAAE,CAAA;AAAA,WACnF,KAAK,SAAS;AAAA,WACd,KAAK,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAA;AASzB;AAnECA,IAAA,oBAAA,QAAA;AACAC,IAAA,oBAAA,QAAA;AAEAC,IAAA,oBAAA,QAAA;AAPYC,EAsEI,SAAS,CAACc,CAAa;AA5D/BC,EAAA;AAAA,EADPC,EAAM;AAAA,GATKhB,EAUJ,WAAA,UAAA,CAAA;AAGGe,EAAA;AAAA,EADVE,EAAS,EAAE,WAAW,GAAO,CAAA;AAAA,GAZlBjB,EAaD,WAAA,SAAA,CAAA;AA4BHe,EAAA;AAAA,EADPC,EAAM;AAAA,GAxCKhB,EAyCJ,WAAA,aAAA,CAAA;AAEAe,EAAA;AAAA,EADPC,EAAM;AAAA,GA1CKhB,EA2CJ,WAAA,aAAA,CAAA;AA3CIA,IAANe,EAAA;AAAA,EADNG,EAAc,qDAAqD;AAAA,GACvDlB,CAAA;AAyEb,MAAAmB,IAAenB;"}