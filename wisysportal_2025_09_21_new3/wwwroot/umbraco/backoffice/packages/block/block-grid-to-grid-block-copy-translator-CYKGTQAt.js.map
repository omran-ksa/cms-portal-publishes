{"version":3,"file":"block-grid-to-grid-block-copy-translator-CYKGTQAt.js","sources":["../../../src/packages/block/block-grid/clipboard/grid-block/copy/block-grid-to-grid-block-copy-translator.ts"],"sourcesContent":["import type { UmbBlockGridValueModel } from '../../../types.js';\r\nimport { UMB_BLOCK_GRID_PROPERTY_EDITOR_SCHEMA_ALIAS } from '../../../property-editors/constants.js';\r\nimport type { UmbGridBlockClipboardEntryValueModel } from '../../types.js';\r\nimport { UmbControllerBase } from '@umbraco-cms/backoffice/class-api';\r\nimport type { UmbClipboardCopyPropertyValueTranslator } from '@umbraco-cms/backoffice/clipboard';\r\n\r\nexport class UmbBlockGridToGridBlockClipboardCopyPropertyValueTranslator\r\n\textends UmbControllerBase\r\n\timplements UmbClipboardCopyPropertyValueTranslator<UmbBlockGridValueModel, UmbGridBlockClipboardEntryValueModel>\r\n{\r\n\tasync translate(propertyValue: UmbBlockGridValueModel) {\r\n\t\tif (!propertyValue) {\r\n\t\t\tthrow new Error('Property value is missing.');\r\n\t\t}\r\n\t\tconst valueClone = structuredClone(propertyValue);\r\n\r\n\t\tconst layout = valueClone.layout?.[UMB_BLOCK_GRID_PROPERTY_EDITOR_SCHEMA_ALIAS] ?? undefined;\r\n\t\tconst contentData = valueClone.contentData;\r\n\t\tconst settingsData = valueClone.settingsData;\r\n\r\n\t\tif (!layout?.length) {\r\n\t\t\tthrow new Error('No layouts found.');\r\n\t\t}\r\n\r\n\t\tlayout?.forEach((layoutItem) => {\r\n\t\t\t// @ts-expect-error - We are removing the $type property from the layout item\r\n\t\t\tdelete layoutItem.$type;\r\n\t\t});\r\n\r\n\t\tconst gridBlockValue: UmbGridBlockClipboardEntryValueModel = {\r\n\t\t\tcontentData,\r\n\t\t\tlayout,\r\n\t\t\tsettingsData,\r\n\t\t};\r\n\r\n\t\treturn gridBlockValue;\r\n\t}\r\n}\r\n\r\nexport { UmbBlockGridToGridBlockClipboardCopyPropertyValueTranslator as api };\r\n"],"names":["UmbBlockGridToGridBlockClipboardCopyPropertyValueTranslator","UmbControllerBase","propertyValue","valueClone","layout","UMB_BLOCK_GRID_PROPERTY_EDITOR_SCHEMA_ALIAS","contentData","settingsData","layoutItem"],"mappings":";;AAMO,MAAMA,UACJC,EAET;AAAA,EACC,MAAM,UAAUC,GAAuC;AACtD,QAAI,CAACA;AACE,YAAA,IAAI,MAAM,4BAA4B;AAEvC,UAAAC,IAAa,gBAAgBD,CAAa,GAE1CE,IAASD,EAAW,SAASE,CAA2C,KAAK,QAC7EC,IAAcH,EAAW,aACzBI,IAAeJ,EAAW;AAE5B,QAAA,CAACC,GAAQ;AACN,YAAA,IAAI,MAAM,mBAAmB;AAG5B,WAAAA,GAAA,QAAQ,CAACI,MAAe;AAE/B,aAAOA,EAAW;AAAA,IAAA,CAClB,GAE4D;AAAA,MAC5D,aAAAF;AAAA,MACA,QAAAF;AAAA,MACA,cAAAG;AAAA,IACD;AAAA,EAEO;AAET;"}