{"version":3,"file":"section-view-examine-searchers-CWoWVijM.js","sources":["../../../src/packages/search/examine-management-dashboard/views/section-view-examine-searchers.ts"],"sourcesContent":["import type { UmbSearchFieldPresentationModel, UmbSearchResultModel } from '../../types.js';\r\nimport { UMB_EXAMINE_FIELDS_SETTINGS_MODAL, UMB_EXAMINE_FIELDS_VIEWER_MODAL } from '../modal/constants.js';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { css, html, nothing, customElement, state, query, property } from '@umbraco-cms/backoffice/external/lit';\r\nimport { umbOpenModal } from '@umbraco-cms/backoffice/modal';\r\nimport { UMB_WORKSPACE_MODAL } from '@umbraco-cms/backoffice/workspace';\r\nimport { UmbModalRouteRegistrationController } from '@umbraco-cms/backoffice/router';\r\nimport { SearcherService } from '@umbraco-cms/backoffice/external/backend-api';\r\nimport { UmbLitElement, umbFocus } from '@umbraco-cms/backoffice/lit-element';\r\nimport { tryExecute } from '@umbraco-cms/backoffice/resources';\r\n\r\ninterface ExposedSearchResultField {\r\n\tname: string;\r\n\texposed: boolean;\r\n}\r\n\r\n@customElement('umb-dashboard-examine-searcher')\r\nexport class UmbDashboardExamineSearcherElement extends UmbLitElement {\r\n\t@property()\r\n\tsearcherName!: string;\r\n\r\n\t@state()\r\n\tprivate _searchResults?: UmbSearchResultModel[];\r\n\r\n\t@state()\r\n\tprivate _exposedFields?: ExposedSearchResultField[];\r\n\r\n\t@state()\r\n\tprivate _searchLoading = false;\r\n\r\n\t@query('#search-input')\r\n\tprivate _searchInput!: HTMLInputElement;\r\n\r\n\t@state()\r\n\tprivate _workspacePath = 'aa';\r\n\r\n\tprivate _onKeyPress(e: KeyboardEvent) {\r\n\t\tif (e.key == 'Enter') {\r\n\t\t\tthis._onSearch();\r\n\t\t}\r\n\t}\r\n\r\n\t#entityType = '';\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tnew UmbModalRouteRegistrationController(this, UMB_WORKSPACE_MODAL)\r\n\t\t\t.addAdditionalPath(':entityType')\r\n\t\t\t.onSetup((routingInfo) => {\r\n\t\t\t\treturn { data: { entityType: routingInfo.entityType, preset: {} } };\r\n\t\t\t})\r\n\t\t\t.observeRouteBuilder((routeBuilder) => {\r\n\t\t\t\tthis._workspacePath = routeBuilder({ entityType: this.#entityType });\r\n\t\t\t});\r\n\t}\r\n\r\n\tprivate async _onSearch() {\r\n\t\tif (!this._searchInput.value.length) return;\r\n\t\tthis._searchLoading = true;\r\n\r\n\t\tconst { data } = await tryExecute(\r\n\t\t\tthis,\r\n\t\t\tSearcherService.getSearcherBySearcherNameQuery({\r\n\t\t\t\tpath: { searcherName: this.searcherName },\r\n\t\t\t\tquery: {\r\n\t\t\t\t\tterm: this._searchInput.value,\r\n\t\t\t\t\ttake: 100,\r\n\t\t\t\t\tskip: 0,\r\n\t\t\t\t},\r\n\t\t\t}),\r\n\t\t);\r\n\r\n\t\tthis._searchResults = data?.items ?? [];\r\n\t\tthis._updateFieldFilter();\r\n\t\tthis._searchLoading = false;\r\n\t}\r\n\r\n\tprivate _updateFieldFilter() {\r\n\t\tthis._searchResults?.map((doc) => {\r\n\t\t\tconst document = doc.fields?.filter((field) => {\r\n\t\t\t\treturn field.name?.toUpperCase() !== 'NODENAME';\r\n\t\t\t});\r\n\t\t\tif (document) {\r\n\t\t\t\tconst newFieldNames = document.map((field) => {\r\n\t\t\t\t\treturn field.name ?? '';\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// TODO: I don't get this code, not sure what the purpose is, it seems like a mistake: [NL]\r\n\t\t\t\tthis._exposedFields = this._exposedFields\r\n\t\t\t\t\t? this._exposedFields.filter((field) => {\r\n\t\t\t\t\t\t\treturn { name: field.name, exposed: field.exposed };\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t: newFieldNames?.map((name) => {\r\n\t\t\t\t\t\t\treturn { name, exposed: false };\r\n\t\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tasync #onFieldFilterClick() {\r\n\t\tconst value = await umbOpenModal(this, UMB_EXAMINE_FIELDS_SETTINGS_MODAL, {\r\n\t\t\tvalue: { fields: this._exposedFields ?? [] },\r\n\t\t}).catch(() => undefined);\r\n\r\n\t\tthis._exposedFields = value?.fields;\r\n\t}\r\n\r\n\tasync #onFieldViewClick(rowData: UmbSearchResultModel) {\r\n\t\tawait umbOpenModal(this, UMB_EXAMINE_FIELDS_VIEWER_MODAL, {\r\n\t\t\tmodal: {\r\n\t\t\t\ttype: 'sidebar',\r\n\t\t\t\tsize: 'medium',\r\n\t\t\t},\r\n\t\t\tdata: { searchResult: rowData, name: this.getSearchResultNodeName(rowData) },\r\n\t\t}).catch(() => undefined);\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<uui-box headline=${this.localize.term('general_search')}>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t<umb-localize key=\"examineManagement_searchDescription\"\r\n\t\t\t\t\t\t>Search the ${this.searcherName} and view the results</umb-localize\r\n\t\t\t\t\t>\r\n\t\t\t\t</p>\r\n\t\t\t\t<div class=\"flex\">\r\n\t\t\t\t\t<uui-input\r\n\t\t\t\t\t\ttype=\"search\"\r\n\t\t\t\t\t\tid=\"search-input\"\r\n\t\t\t\t\t\tplaceholder=${this.localize.term('placeholders_filter')}\r\n\t\t\t\t\t\tlabel=${this.localize.term('placeholders_filter')}\r\n\t\t\t\t\t\t@keypress=${this._onKeyPress}\r\n\t\t\t\t\t\t${umbFocus()}>\r\n\t\t\t\t\t</uui-input>\r\n\t\t\t\t\t<uui-button\r\n\t\t\t\t\t\tcolor=\"positive\"\r\n\t\t\t\t\t\tlook=\"primary\"\r\n\t\t\t\t\t\tlabel=${this.localize.term('general_search')}\r\n\t\t\t\t\t\t@click=\"${this._onSearch}\"></uui-button>\r\n\t\t\t\t</div>\r\n\t\t\t\t${this.renderSearchResults()}\r\n\t\t\t</uui-box>\r\n\t\t`;\r\n\t}\r\n\r\n\t// Find the field named 'nodeName' and return its value if it exists in the fields array\r\n\tprivate getSearchResultNodeName(searchResult: UmbSearchResultModel): string {\r\n\t\tconst nodeNameField = searchResult.fields?.find((field) => field.name?.toUpperCase() === 'NODENAME');\r\n\t\treturn nodeNameField?.values?.join(', ') ?? '';\r\n\t}\r\n\r\n\t#getEntityTypeFromIndexType(indexType: string) {\r\n\t\tswitch (indexType) {\r\n\t\t\tcase 'content':\r\n\t\t\t\treturn 'document';\r\n\t\t\tdefault:\r\n\t\t\t\treturn indexType;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate renderSearchResults() {\r\n\t\tif (this._searchLoading) return html`<uui-loader></uui-loader>`;\r\n\t\tif (!this._searchResults) return nothing;\r\n\t\tif (!this._searchResults.length) {\r\n\t\t\treturn html`<p>${this.localize.term('examineManagement_noResults')}</p>`;\r\n\t\t}\r\n\t\treturn html`<div class=\"table-container\">\r\n\t\t\t<uui-scroll-container>\r\n\t\t\t\t<uui-table class=\"search\">\r\n\t\t\t\t\t<uui-table-head>\r\n\t\t\t\t\t\t<uui-table-head-cell style=\"width:0\">Score</uui-table-head-cell>\r\n\t\t\t\t\t\t<uui-table-head-cell style=\"width:0\">${this.localize.term('general_id')}</uui-table-head-cell>\r\n\t\t\t\t\t\t<uui-table-head-cell>${this.localize.term('general_name')}</uui-table-head-cell>\r\n\t\t\t\t\t\t<uui-table-head-cell>${this.localize.term('examineManagement_fields')}</uui-table-head-cell>\r\n\t\t\t\t\t\t${this.renderHeadCells()}\r\n\t\t\t\t\t</uui-table-head>\r\n\t\t\t\t\t${this._searchResults?.map((rowData) => {\r\n\t\t\t\t\t\tconst indexType = rowData.fields?.find((field) => field.name === '__IndexType')?.values?.join(', ') ?? '';\r\n\t\t\t\t\t\tthis.#entityType = this.#getEntityTypeFromIndexType(indexType);\r\n\t\t\t\t\t\tconst unique = rowData.fields?.find((field) => field.name === '__Key')?.values?.join(', ') ?? '';\r\n\r\n\t\t\t\t\t\treturn html`<uui-table-row>\r\n\t\t\t\t\t\t\t<uui-table-cell> ${rowData.score} </uui-table-cell>\r\n\t\t\t\t\t\t\t<uui-table-cell> ${rowData.id} </uui-table-cell>\r\n\t\t\t\t\t\t\t<uui-table-cell>\r\n\t\t\t\t\t\t\t\t<uui-button\r\n\t\t\t\t\t\t\t\t\tlook=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tlabel=${this.localize.term('actions_editContent')}\r\n\t\t\t\t\t\t\t\t\thref=${this._workspacePath + this.#entityType + '/edit/' + unique}>\r\n\t\t\t\t\t\t\t\t\t${this.getSearchResultNodeName(rowData)}\r\n\t\t\t\t\t\t\t\t</uui-button>\r\n\t\t\t\t\t\t\t</uui-table-cell>\r\n\t\t\t\t\t\t\t<uui-table-cell>\r\n\t\t\t\t\t\t\t\t<uui-button\r\n\t\t\t\t\t\t\t\t\tclass=\"bright\"\r\n\t\t\t\t\t\t\t\t\tlook=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tlabel=${this.localize.term('examineManagement_fieldValues')}\r\n\t\t\t\t\t\t\t\t\t@click=${() => this.#onFieldViewClick(rowData)}>\r\n\t\t\t\t\t\t\t\t\t${rowData.fields ? Object.keys(rowData.fields).length : ''}\r\n\t\t\t\t\t\t\t\t\t${this.localize.term('examineManagement_fields')}\r\n\t\t\t\t\t\t\t\t</uui-button>\r\n\t\t\t\t\t\t\t</uui-table-cell>\r\n\t\t\t\t\t\t\t${rowData.fields ? this.renderBodyCells(rowData.fields) : ''}\r\n\t\t\t\t\t\t</uui-table-row>`;\r\n\t\t\t\t\t})}\r\n\t\t\t\t</uui-table>\r\n\t\t\t</uui-scroll-container>\r\n\t\t\t<button class=\"field-adder\" @click=\"${this.#onFieldFilterClick}\">\r\n\t\t\t\t<uui-icon-registry-essential>\r\n\t\t\t\t\t<uui-tag look=\"secondary\">\r\n\t\t\t\t\t\t<uui-icon name=\"add\"></uui-icon>\r\n\t\t\t\t\t</uui-tag>\r\n\t\t\t\t</uui-icon-registry-essential>\r\n\t\t\t</button>\r\n\t\t</div>`;\r\n\t}\r\n\r\n\trenderHeadCells() {\r\n\t\treturn html`${this._exposedFields?.map((field) => {\r\n\t\t\treturn field.exposed\r\n\t\t\t\t? html`<uui-table-head-cell class=\"exposed-field\">\r\n\t\t\t\t\t\t<div class=\"exposed-field-container\">\r\n\t\t\t\t\t\t\t<span>${field.name}</span>\r\n\t\t\t\t\t\t\t<uui-button\r\n\t\t\t\t\t\t\t\tlook=\"secondary\"\r\n\t\t\t\t\t\t\t\tlabel=\"${this.localize.term('actions_remove')} ${field.name}\"\r\n\t\t\t\t\t\t\t\tcompact\r\n\t\t\t\t\t\t\t\t@click=\"${() => {\r\n\t\t\t\t\t\t\t\t\tthis._exposedFields = this._exposedFields?.map((f) => {\r\n\t\t\t\t\t\t\t\t\t\treturn f.name === field.name ? { name: f.name, exposed: false } : f;\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}}\"\r\n\t\t\t\t\t\t\t\t>x</uui-button\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</uui-table-head-cell>`\r\n\t\t\t\t: html``;\r\n\t\t})}`;\r\n\t}\r\n\r\n\trenderBodyCells(cellData: UmbSearchFieldPresentationModel[]) {\r\n\t\treturn html`${this._exposedFields?.map((slot) => {\r\n\t\t\treturn cellData.map((field) => {\r\n\t\t\t\treturn slot.exposed && field.name == slot.name\r\n\t\t\t\t\t? html`<uui-table-cell clip-text>${field.values}</uui-table-cell>`\r\n\t\t\t\t\t: html``;\r\n\t\t\t});\r\n\t\t})}`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t}\r\n\r\n\t\t\tuui-box p {\r\n\t\t\t\tmargin-top: 0;\r\n\t\t\t}\r\n\r\n\t\t\tdiv.flex {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t}\r\n\t\t\tdiv.flex > uui-button {\r\n\t\t\t\tpadding-left: var(--uui-size-space-4);\r\n\t\t\t\theight: 0;\r\n\t\t\t}\r\n\r\n\t\t\tuui-input {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tmargin-bottom: var(--uui-size-space-5);\r\n\t\t\t}\r\n\r\n\t\t\tuui-table-head-cell {\r\n\t\t\t\ttext-transform: capitalize;\r\n\t\t\t}\r\n\r\n\t\t\tuui-table-row:last-child uui-table-cell {\r\n\t\t\t\tpadding-bottom: 0;\r\n\t\t\t}\r\n\r\n\t\t\tuui-table-cell {\r\n\t\t\t\tmin-width: 100px;\r\n\t\t\t}\r\n\r\n\t\t\tbutton.bright {\r\n\t\t\t\tfont-style: italic;\r\n\t\t\t\tcolor: var(--uui-color-positive-emphasis);\r\n\t\t\t}\r\n\r\n\t\t\t.field-adder {\r\n\t\t\t\tline-height: 0;\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t\tvertical-align: top;\r\n\t\t\t\tbackground: transparent;\r\n\t\t\t\tborder: none;\r\n\t\t\t}\r\n\r\n\t\t\t.table-container uui-scroll-container {\r\n\t\t\t\tpadding-bottom: var(--uui-size-space-4);\r\n\t\t\t\tmax-width: 100%;\r\n\t\t\t\toverflow-x: scroll;\r\n\t\t\t\tflex: 1;\r\n\t\t\t}\r\n\r\n\t\t\t.table-container {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: flex-start;\r\n\t\t\t}\r\n\t\t\tuui-tag {\r\n\t\t\t\tmargin-block: var(--uui-size-5, 15px);\r\n\t\t\t}\r\n\r\n\t\t\t.exposed-field uui-button {\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tfont-weight: normal;\r\n\t\t\t\tfont-size: 10px;\r\n\t\t\t\theight: 10px;\r\n\t\t\t\twidth: 10px;\r\n\t\t\t\tmargin-top: -5px;\r\n\t\t\t}\r\n\r\n\t\t\t.exposed-field-container {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbDashboardExamineSearcherElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-dashboard-examine-searcher': UmbDashboardExamineSearcherElement;\r\n\t}\r\n}\r\n"],"names":["_entityType","_UmbDashboardExamineSearcherElement_instances","onFieldFilterClick_fn","onFieldViewClick_fn","getEntityTypeFromIndexType_fn","UmbDashboardExamineSearcherElement","UmbLitElement","__privateAdd","UmbModalRouteRegistrationController","UMB_WORKSPACE_MODAL","routingInfo","routeBuilder","__privateGet","data","tryExecute","SearcherService","doc","document","field","newFieldNames","name","html","umbFocus","searchResult","rowData","indexType","__privateSet","__privateMethod","unique","nothing","f","cellData","slot","value","umbOpenModal","UMB_EXAMINE_FIELDS_SETTINGS_MODAL","UMB_EXAMINE_FIELDS_VIEWER_MODAL","UmbTextStyles","css","__decorateClass","property","state","query","customElement","UmbDashboardExamineSearcherElement$1"],"mappings":"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"}