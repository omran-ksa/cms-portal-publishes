{"version":3,"file":"dictionary-export.repository-C3VvjbdC.js","sources":["../../../src/packages/dictionary/repository/export/dictionary-export.server.data-source.ts","../../../src/packages/dictionary/repository/export/dictionary-export.repository.ts"],"sourcesContent":["import { DictionaryService } from '@umbraco-cms/backoffice/external/backend-api';\r\nimport type { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport { tryExecute } from '@umbraco-cms/backoffice/resources';\r\n\r\nexport class UmbDictionaryExportServerDataSource {\r\n\t#host: UmbControllerHost;\r\n\r\n\tconstructor(host: UmbControllerHost) {\r\n\t\tthis.#host = host;\r\n\t}\r\n\r\n\t/**\r\n\t * @description - Export a Dictionary, optionally including child items.\r\n\t * @param {string} unique\r\n\t * @param {boolean} includeChildren\r\n\t * @returns {*}\r\n\t * @memberof UmbDictionaryExportServerDataSource\r\n\t */\r\n\tasync export(unique: string, includeChildren: boolean) {\r\n\t\treturn await tryExecute(\r\n\t\t\tthis.#host,\r\n\t\t\tDictionaryService.getDictionaryByIdExport({ path: { id: unique }, query: { includeChildren } }),\r\n\t\t);\r\n\t}\r\n}\r\n","import { UmbDictionaryExportServerDataSource } from './dictionary-export.server.data-source.js';\r\nimport { UmbRepositoryBase } from '@umbraco-cms/backoffice/repository';\r\nimport type { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\n\r\nexport class UmbDictionaryExportRepository extends UmbRepositoryBase {\r\n\t#exportSource: UmbDictionaryExportServerDataSource;\r\n\r\n\tconstructor(host: UmbControllerHost) {\r\n\t\tsuper(host);\r\n\t\tthis.#exportSource = new UmbDictionaryExportServerDataSource(host);\r\n\t}\r\n\r\n\t/**\r\n\t * @description - Export a Dictionary, optionally including child items.\r\n\t * @param {string} unique\r\n\t * @param {boolean} [includeChildren]\r\n\t * @returns {*}\r\n\t * @memberof UmbDictionaryExportRepository\r\n\t */\r\n\tasync requestExport(unique: string, includeChildren = false) {\r\n\t\tif (!unique) {\r\n\t\t\tthrow new Error('Unique is missing');\r\n\t\t}\r\n\r\n\t\treturn this.#exportSource.export(unique, includeChildren);\r\n\t}\r\n}\r\n\r\nexport { UmbDictionaryExportRepository as api };\r\n"],"names":["UmbDictionaryExportServerDataSource","#host","host","unique","includeChildren","tryExecute","DictionaryService","UmbDictionaryExportRepository","UmbRepositoryBase","#exportSource"],"mappings":";;;AAIO,MAAMA,EAAoC;AAAA,EAChDC;AAAA,EAEA,YAAYC,GAAyB;AACpC,SAAKD,KAAQC;AAAA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUd,MAAM,OAAOC,GAAgBC,GAA0B;AACtD,WAAO,MAAMC;AAAA,MACZ,KAAKJ;AAAA,MACLK,EAAkB,wBAAwB,EAAE,MAAM,EAAE,IAAIH,KAAU,OAAO,EAAE,iBAAAC,IAAmB,CAAA;AAAA,IAC/F;AAAA,EAAA;AAEF;ACpBO,MAAMG,UAAsCC,EAAkB;AAAA,EACpEC;AAAA,EAEA,YAAYP,GAAyB;AACpC,UAAMA,CAAI,GACL,KAAAO,KAAgB,IAAIT,EAAoCE,CAAI;AAAA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUlE,MAAM,cAAcC,GAAgBC,IAAkB,IAAO;AAC5D,QAAI,CAACD;AACE,YAAA,IAAI,MAAM,mBAAmB;AAGpC,WAAO,KAAKM,GAAc,OAAON,GAAQC,CAAe;AAAA,EAAA;AAE1D;"}