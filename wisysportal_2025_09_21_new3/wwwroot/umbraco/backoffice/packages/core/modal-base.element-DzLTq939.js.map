{"version":3,"file":"modal-base.element-DzLTq939.js","sources":["../../../src/packages/core/modal/component/modal-base.element.ts"],"sourcesContent":["import type { UmbModalRejectReason, UmbModalContext } from '../context/index.js';\r\nimport type { ManifestModal, UmbModalExtensionElement } from '../extensions/types.js';\r\nimport { property } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\n\r\nexport abstract class UmbModalBaseElement<\r\n\t\tModalDataType extends object = object,\r\n\t\tModalValueType = unknown,\r\n\t\tModalManifestType extends ManifestModal = ManifestModal,\r\n\t>\r\n\textends UmbLitElement\r\n\timplements UmbModalExtensionElement<ModalDataType, ModalValueType, ModalManifestType>\r\n{\r\n\t#value: ModalValueType = {} as ModalValueType;\r\n\r\n\t@property({ type: Object, attribute: false })\r\n\tpublic manifest?: ModalManifestType;\r\n\r\n\t#modalContext?: UmbModalContext<ModalDataType, ModalValueType> | undefined;\r\n\t@property({ attribute: false })\r\n\tpublic set modalContext(context: UmbModalContext<ModalDataType, ModalValueType> | undefined) {\r\n\t\tthis.#modalContext = context;\r\n\t\tif (context) {\r\n\t\t\tthis.observe(\r\n\t\t\t\tcontext.value,\r\n\t\t\t\t(value) => {\r\n\t\t\t\t\tconst oldValue = this.#value;\r\n\t\t\t\t\tthis.#value = value;\r\n\t\t\t\t\tthis.requestUpdate('value', oldValue);\r\n\t\t\t\t\t// Idea: we could implement a callback method on class.\r\n\t\t\t\t},\r\n\t\t\t\t'observeModalContextValue',\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\tpublic get modalContext(): UmbModalContext<ModalDataType, ModalValueType> | undefined {\r\n\t\treturn this.#modalContext;\r\n\t}\r\n\r\n\t@property({ attribute: false })\r\n\tpublic set data(value: ModalDataType | undefined) {\r\n\t\tthis._data = value;\r\n\t}\r\n\tpublic get data(): ModalDataType | undefined {\r\n\t\treturn this._data;\r\n\t}\r\n\tprivate _data?: ModalDataType | undefined;\r\n\r\n\t@property({ attribute: false })\r\n\tpublic set value(value: ModalValueType) {\r\n\t\tthis.#modalContext?.setValue(value);\r\n\t}\r\n\tpublic get value(): ModalValueType {\r\n\t\treturn this.#value;\r\n\t}\r\n\r\n\tpublic updateValue(partialValue: Partial<ModalValueType>) {\r\n\t\tthis.#modalContext?.updateValue(partialValue);\r\n\t}\r\n\r\n\t/**\r\n\t * Submits the modal\r\n\t * @protected\r\n\t * @memberof UmbModalBaseElement\r\n\t */\r\n\tprotected _submitModal() {\r\n\t\tthis.#modalContext?.submit();\r\n\t}\r\n\r\n\t/**\r\n\t * Rejects the modal\r\n\t * @param reason\r\n\t * @protected\r\n\t * @memberof UmbModalBaseElement\r\n\t */\r\n\tprotected _rejectModal(reason?: UmbModalRejectReason) {\r\n\t\tthis.#modalContext?.reject(reason);\r\n\t}\r\n}\r\n"],"names":["UmbModalBaseElement","UmbLitElement","#value","#modalContext","context","value","oldValue","partialValue","reason","__decorateClass","property"],"mappings":";;;;;;;AAKO,MAAeA,UAKbC,EAET;AAAA,EACCC,KAAyB,CAAC;AAAA,EAK1BC;AAAA,EAEA,IAAW,aAAaC,GAAqE;AAC5F,SAAKD,KAAgBC,GACjBA,KACE,KAAA;AAAA,MACJA,EAAQ;AAAA,MACR,CAACC,MAAU;AACV,cAAMC,IAAW,KAAKJ;AACtB,aAAKA,KAASG,GACT,KAAA,cAAc,SAASC,CAAQ;AAAA,MAErC;AAAA,MACA;AAAA,IACD;AAAA,EACD;AAAA,EAED,IAAW,eAA2E;AACrF,WAAO,KAAKH;AAAA,EAAA;AAAA,EAIb,IAAW,KAAKE,GAAkC;AACjD,SAAK,QAAQA;AAAA,EAAA;AAAA,EAEd,IAAW,OAAkC;AAC5C,WAAO,KAAK;AAAA,EAAA;AAAA,EAKb,IAAW,MAAMA,GAAuB;AAClC,SAAAF,IAAe,SAASE,CAAK;AAAA,EAAA;AAAA,EAEnC,IAAW,QAAwB;AAClC,WAAO,KAAKH;AAAA,EAAA;AAAA,EAGN,YAAYK,GAAuC;AACpD,SAAAJ,IAAe,YAAYI,CAAY;AAAA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQnC,eAAe;AACxB,SAAKJ,IAAe,OAAO;AAAA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASlB,aAAaK,GAA+B;AAChD,SAAAL,IAAe,OAAOK,CAAM;AAAA,EAAA;AAEnC;AA9DQC,EAAA;AAAA,EADNC,EAAS,EAAE,MAAM,QAAQ,WAAW,GAAO,CAAA;AAAA,GAVvBV,EAWd,WAAA,YAAA,CAAA;AAIIS,EAAA;AAAA,EADVC,EAAS,EAAE,WAAW,GAAO,CAAA;AAAA,GAdTV,EAeV,WAAA,gBAAA,CAAA;AAoBAS,EAAA;AAAA,EADVC,EAAS,EAAE,WAAW,GAAO,CAAA;AAAA,GAlCTV,EAmCV,WAAA,QAAA,CAAA;AASAS,EAAA;AAAA,EADVC,EAAS,EAAE,WAAW,GAAO,CAAA;AAAA,GA3CTV,EA4CV,WAAA,SAAA,CAAA;"}