{"version":3,"file":"index.js","sources":["../../../../src/packages/core/modal/controller/open-modal.controller.ts","../../../../src/packages/core/modal/common/confirm/confirm-modal.token.ts","../../../../src/packages/core/modal/common/confirm/confirm-modal.controller.ts","../../../../src/packages/core/modal/common/discard-changes/discard-changes-modal.tokent.ts","../../../../src/packages/core/modal/common/error-viewer/error-viewer-modal.token.ts","../../../../src/packages/core/modal/common/item-picker/item-picker-modal.token.ts"],"sourcesContent":["import { UMB_MODAL_MANAGER_CONTEXT } from '../context/modal-manager.context.js';\r\nimport type { UmbModalToken } from '../token/modal-token.js';\r\nimport type { UmbModalContextClassArgs } from '../context/modal.context.js';\r\nimport { UmbControllerBase } from '@umbraco-cms/backoffice/class-api';\r\nimport type { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\n\r\nexport class UmbOpenModalController extends UmbControllerBase {\r\n\tasync open<\r\n\t\tModalData extends { [key: string]: any } = { [key: string]: any },\r\n\t\tModalValue = unknown,\r\n\t\tModalAliasTypeAsToken extends UmbModalToken = UmbModalToken<ModalData, ModalValue>,\r\n\t>(\r\n\t\tmodalAlias: UmbModalToken<ModalData, ModalValue> | string,\r\n\t\targs: UmbModalContextClassArgs<ModalAliasTypeAsToken> = {},\r\n\t): Promise<ModalValue> {\r\n\t\tconst modalManagerContext = await this.getContext(UMB_MODAL_MANAGER_CONTEXT);\r\n\t\tif (!modalManagerContext) {\r\n\t\t\tthis.destroy();\r\n\t\t\tthrow new Error('Modal manager not found.');\r\n\t\t}\r\n\r\n\t\tconst modalContext = modalManagerContext.open(this, modalAlias, args);\r\n\r\n\t\treturn await modalContext.onSubmit().finally(() => {\r\n\t\t\tthis.destroy();\r\n\t\t});\r\n\t}\r\n}\r\n\r\n/**\r\n *\r\n * @param host {UmbControllerHost} - The host controller\r\n * @param modalAlias\r\n * @param args {UmbConfirmModalArgs} - The data to pass to the modal\r\n * @returns {UmbConfirmModalController} The modal controller instance\r\n */\r\nexport function umbOpenModal<\r\n\tModalData extends { [key: string]: any } = { [key: string]: any },\r\n\tModalValue = unknown,\r\n\tModalAliasTypeAsToken extends UmbModalToken = UmbModalToken<ModalData, ModalValue>,\r\n>(\r\n\thost: UmbControllerHost,\r\n\tmodalAlias: UmbModalToken<ModalData, ModalValue> | string,\r\n\targs: UmbModalContextClassArgs<ModalAliasTypeAsToken> = {},\r\n): Promise<ModalValue> {\r\n\treturn new UmbOpenModalController(host).open(modalAlias, args);\r\n}\r\n","import { UmbModalToken } from '../../token/index.js';\r\nimport type { TemplateResult } from '@umbraco-cms/backoffice/external/lit';\r\n\r\nexport interface UmbConfirmModalData {\r\n\theadline: string;\r\n\tcontent: TemplateResult | string;\r\n\tcolor?: 'positive' | 'danger' | 'warning';\r\n\tcancelLabel?: string;\r\n\tconfirmLabel?: string;\r\n}\r\n\r\nexport type UmbConfirmModalValue = undefined;\r\n\r\nexport const UMB_CONFIRM_MODAL = new UmbModalToken<UmbConfirmModalData, UmbConfirmModalValue>('Umb.Modal.Confirm', {\r\n\tmodal: {\r\n\t\ttype: 'dialog',\r\n\t},\r\n});\r\n","import { UmbOpenModalController } from '../../controller/open-modal.controller.js';\r\nimport { UMB_CONFIRM_MODAL, type UmbConfirmModalData } from './confirm-modal.token.js';\r\nimport type { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\n\r\n/** @deprecated use `UmbConfirmModalData`, will be removed in v.17 */\r\n// eslint-disable-next-line @typescript-eslint/no-empty-object-type\r\nexport interface UmbConfirmModalArgs extends UmbConfirmModalData {}\r\n\r\n/**\r\n *\r\n * @param host {UmbControllerHost} - The host controller\r\n * @param args {UmbConfirmModalData} - The data to pass to the modal\r\n * @param data\r\n * @returns {UmbOpenModalController} The modal controller instance\r\n */\r\nexport function umbConfirmModal(host: UmbControllerHost, data: UmbConfirmModalData) {\r\n\treturn new UmbOpenModalController(host).open(UMB_CONFIRM_MODAL, { data });\r\n}\r\n","import { UmbModalToken } from '../../token/index.js';\r\n\r\nexport const UMB_DISCARD_CHANGES_MODAL = new UmbModalToken('Umb.Modal.DiscardChanges', {\r\n\tmodal: {\r\n\t\ttype: 'dialog',\r\n\t},\r\n});\r\n","import type { UmbPeekErrorArgs } from '../../../notification/types.js';\r\nimport { UmbModalToken } from '../../token/index.js';\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-empty-object-type\r\nexport interface UmbErrorViewerModalData extends UmbPeekErrorArgs {}\r\n\r\nexport type UmbErrorViewerModalValue = undefined;\r\n\r\nexport const UMB_ERROR_VIEWER_MODAL = new UmbModalToken<UmbErrorViewerModalData, UmbErrorViewerModalValue>(\r\n\t'Umb.Modal.ErrorViewer',\r\n\t{\r\n\t\tmodal: {\r\n\t\t\ttype: 'sidebar',\r\n\t\t\tsize: 'medium',\r\n\t\t},\r\n\t},\r\n);\r\n","import { UmbModalToken } from '../../token/index.js';\r\n\r\nexport type UmbItemPickerModalData = {\r\n\theadline: string;\r\n\titems: Array<UmbItemPickerModel>;\r\n};\r\n\r\nexport type UmbItemPickerModel = {\r\n\tdescription?: string;\r\n\ticon?: string;\r\n\tlabel: string;\r\n\tvalue: string;\r\n};\r\n\r\nexport const UMB_ITEM_PICKER_MODAL = new UmbModalToken<UmbItemPickerModalData, UmbItemPickerModel>(\r\n\t'Umb.Modal.ItemPicker',\r\n\t{\r\n\t\tmodal: {\r\n\t\t\ttype: 'sidebar',\r\n\t\t\tsize: 'small',\r\n\t\t},\r\n\t},\r\n);\r\n"],"names":["UmbOpenModalController","UmbControllerBase","modalAlias","args","modalManagerContext","UMB_MODAL_MANAGER_CONTEXT","umbOpenModal","host","UMB_CONFIRM_MODAL","UmbModalToken","umbConfirmModal","data","UMB_DISCARD_CHANGES_MODAL","UMB_ERROR_VIEWER_MODAL","UMB_ITEM_PICKER_MODAL"],"mappings":";;;;;;;;AAMO,MAAMA,UAA+BC,EAAkB;AAAA,EAC7D,MAAM,KAKLC,GACAC,IAAwD,IAClC;AACtB,UAAMC,IAAsB,MAAM,KAAK,WAAWC,CAAyB;AAC3E,QAAI,CAACD;AACJ,iBAAK,QAAQ,GACP,IAAI,MAAM,0BAA0B;AAK3C,WAAO,MAFcA,EAAoB,KAAK,MAAMF,GAAYC,CAAI,EAE1C,SAAS,EAAE,QAAQ,MAAM;AAClD,WAAK,QAAQ;AAAA,IAAA,CACb;AAAA,EAAA;AAEH;AASO,SAASG,EAKfC,GACAL,GACAC,IAAwD,CAAA,GAClC;AACtB,SAAO,IAAIH,EAAuBO,CAAI,EAAE,KAAKL,GAAYC,CAAI;AAC9D;ACjCa,MAAAK,IAAoB,IAAIC,EAAyD,qBAAqB;AAAA,EAClH,OAAO;AAAA,IACN,MAAM;AAAA,EAAA;AAER,CAAC;ACFe,SAAAC,EAAgBH,GAAyBI,GAA2B;AAC5E,SAAA,IAAIX,EAAuBO,CAAI,EAAE,KAAKC,GAAmB,EAAE,MAAAG,GAAM;AACzE;ACfa,MAAAC,IAA4B,IAAIH,EAAc,4BAA4B;AAAA,EACtF,OAAO;AAAA,IACN,MAAM;AAAA,EAAA;AAER,CAAC,GCEYI,IAAyB,IAAIJ;AAAA,EACzC;AAAA,EACA;AAAA,IACC,OAAO;AAAA,MACN,MAAM;AAAA,MACN,MAAM;AAAA,IAAA;AAAA,EACP;AAEF,GCFaK,IAAwB,IAAIL;AAAA,EACxC;AAAA,EACA;AAAA,IACC,OAAO;AAAA,MACN,MAAM;AAAA,MACN,MAAM;AAAA,IAAA;AAAA,EACP;AAEF;"}