{"version":3,"file":"folder-update-modal.element-lb_DUsFa.js","sources":["../../../src/packages/core/tree/folder/modal/folder-update-modal.element.ts"],"sourcesContent":["import { UmbFolderModalElementBase } from './folder-modal-element-base.js';\r\nimport type { UmbFolderUpdateModalData, UmbFolderUpdateModalValue } from './folder-update-modal.token.js';\r\nimport { customElement } from '@umbraco-cms/backoffice/external/lit';\r\n\r\n@customElement('umb-folder-update-modal')\r\nexport class UmbFolderModalElement extends UmbFolderModalElementBase<\r\n\tUmbFolderUpdateModalData,\r\n\tUmbFolderUpdateModalValue\r\n> {\r\n\tasync init() {\r\n\t\tif (!this.folderRepository) throw new Error('A folder repository is required to load a folder');\r\n\t\tif (!this.data?.unique) throw new Error('A unique is required to load folder');\r\n\r\n\t\tconst { data } = await this.folderRepository.requestByUnique(this.data.unique);\r\n\r\n\t\tif (data) {\r\n\t\t\tthis.value = { folder: data };\r\n\t\t}\r\n\t}\r\n\r\n\tasync onFormSubmit({ name }: { name: string }) {\r\n\t\tif (!this.folderRepository) throw new Error('A folder repository is required to update a folder');\r\n\t\tif (this.value.folder === undefined) throw new Error('The folder was not initialized correctly');\r\n\r\n\t\tconst { data } = await this.folderRepository.save({\r\n\t\t\t...this.value.folder,\r\n\t\t\tname,\r\n\t\t});\r\n\r\n\t\tif (data) {\r\n\t\t\tthis.value = { folder: data };\r\n\t\t\tthis._submitModal();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default UmbFolderModalElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-folder-update-modal': UmbFolderModalElement;\r\n\t}\r\n}\r\n"],"names":["UmbFolderModalElement","UmbFolderModalElementBase","data","name","__decorateClass","customElement","UmbFolderModalElement$1"],"mappings":";;;;;;;AAKa,IAAAA,IAAN,cAAoCC,EAGzC;AAAA,EACD,MAAM,OAAO;AACZ,QAAI,CAAC,KAAK,iBAAwB,OAAA,IAAI,MAAM,kDAAkD;AAC9F,QAAI,CAAC,KAAK,MAAM,OAAc,OAAA,IAAI,MAAM,qCAAqC;AAEvE,UAAA,EAAE,MAAAC,EAAS,IAAA,MAAM,KAAK,iBAAiB,gBAAgB,KAAK,KAAK,MAAM;AAE7E,IAAIA,MACE,KAAA,QAAQ,EAAE,QAAQA,EAAK;AAAA,EAC7B;AAAA,EAGD,MAAM,aAAa,EAAE,MAAAC,KAA0B;AAC9C,QAAI,CAAC,KAAK,iBAAwB,OAAA,IAAI,MAAM,oDAAoD;AAChG,QAAI,KAAK,MAAM,WAAW,OAAiB,OAAA,IAAI,MAAM,0CAA0C;AAE/F,UAAM,EAAE,MAAAD,EAAK,IAAI,MAAM,KAAK,iBAAiB,KAAK;AAAA,MACjD,GAAG,KAAK,MAAM;AAAA,MACd,MAAAC;AAAA,IAAA,CACA;AAED,IAAID,MACE,KAAA,QAAQ,EAAE,QAAQA,EAAK,GAC5B,KAAK,aAAa;AAAA,EACnB;AAEF;AA7BaF,IAANI,EAAA;AAAA,EADNC,EAAc,yBAAyB;AAAA,GAC3BL,CAAA;AA+Bb,MAAAM,IAAeN;"}