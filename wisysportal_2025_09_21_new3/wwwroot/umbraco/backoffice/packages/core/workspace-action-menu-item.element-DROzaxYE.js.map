{"version":3,"file":"workspace-action-menu-item.element-DROzaxYE.js","sources":["../../../src/packages/core/workspace/components/workspace-action-menu-item/default/workspace-action-menu-item.element.ts"],"sourcesContent":["import type { UmbWorkspaceActionMenuItem } from '../types.js';\r\nimport type {\r\n\tManifestWorkspaceActionMenuItemDefaultKind,\r\n\tMetaWorkspaceActionMenuItemDefaultKind,\r\n} from '../../../extensions/types.js';\r\nimport { UmbActionExecutedEvent } from '@umbraco-cms/backoffice/event';\r\nimport { html, customElement, property, state, ifDefined, nothing } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport type { UUIMenuItemEvent } from '@umbraco-cms/backoffice/external/uui';\r\n\r\n@customElement('umb-workspace-action-menu-item')\r\nexport class UmbWorkspaceActionMenuItemElement<\r\n\tMetaType extends MetaWorkspaceActionMenuItemDefaultKind = MetaWorkspaceActionMenuItemDefaultKind,\r\n\tApiType extends UmbWorkspaceActionMenuItem<MetaType> = UmbWorkspaceActionMenuItem<MetaType>,\r\n> extends UmbLitElement {\r\n\t#api?: ApiType;\r\n\r\n\t@state()\r\n\t_href?: string;\r\n\r\n\t@property({ attribute: false })\r\n\tpublic manifest?: ManifestWorkspaceActionMenuItemDefaultKind<MetaType>;\r\n\r\n\tpublic set api(api: ApiType | undefined) {\r\n\t\tthis.#api = api;\r\n\r\n\t\t// TODO: Fix so when we use a HREF it does not refresh the page?\r\n\t\tthis.#api?.getHref?.().then((href) => {\r\n\t\t\tthis._href = href;\r\n\t\t\t// TODO: Do we need to update the component here? [NL]\r\n\t\t});\r\n\t}\r\n\r\n\tasync #onClickLabel(event: UUIMenuItemEvent) {\r\n\t\tif (!this._href) {\r\n\t\t\tevent.stopPropagation();\r\n\t\t\tawait this.#api?.execute().catch(() => {});\r\n\t\t}\r\n\t\tthis.dispatchEvent(new UmbActionExecutedEvent());\r\n\t}\r\n\r\n\t// TODO: we need to stop the regular click event from bubbling up to the table so it doesn't select the row.\r\n\t// This should probably be handled in the UUI Menu item component. so we don't dispatch a label-click event and click event at the same time.\r\n\t#onClick(event: PointerEvent) {\r\n\t\tevent.stopPropagation();\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<uui-menu-item\r\n\t\t\t\tlabel=${ifDefined(\r\n\t\t\t\t\tthis.manifest?.meta.label ? this.localize.string(this.manifest.meta.label) : this.manifest?.name,\r\n\t\t\t\t)}\r\n\t\t\t\thref=${ifDefined(this._href)}\r\n\t\t\t\t@click-label=${this.#onClickLabel}\r\n\t\t\t\t@click=${this.#onClick}>\r\n\t\t\t\t${this.manifest?.meta.icon\r\n\t\t\t\t\t? html`<umb-icon slot=\"icon\" name=\"${this.manifest?.meta.icon}\"></umb-icon>`\r\n\t\t\t\t\t: nothing}\r\n\t\t\t</uui-menu-item>\r\n\t\t`;\r\n\t}\r\n}\r\n\r\nexport default UmbWorkspaceActionMenuItemElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-workspace-action-menu-item': UmbWorkspaceActionMenuItemElement;\r\n\t}\r\n}\r\n"],"names":["_api","_UmbWorkspaceActionMenuItemElement_instances","onClickLabel_fn","onClick_fn","UmbWorkspaceActionMenuItemElement","UmbLitElement","__privateAdd","api","__privateSet","__privateGet","href","html","ifDefined","__privateMethod","nothing","event","UmbActionExecutedEvent","__decorateClass","state","property","customElement","UmbWorkspaceActionMenuItemElement$1"],"mappings":";;;;;;;;;wXAAAA,GAAAC,GAAAC,GAAAC;AAWa,IAAAC,IAAN,cAGGC,EAAc;AAAA,EAHjB,cAAA;AAAA,UAAA,GAAA,SAAA,GAAAC,EAAA,MAAAL,CAAA,GAINK,EAAA,MAAAN,CAAA;AAAA,EAAA;AAAA,EAQA,IAAW,IAAIO,GAA0B;AACxC,IAAAC,EAAA,MAAKR,GAAOO,CAAA,GAGZE,EAAA,MAAKT,CAAM,GAAA,UAAA,EAAY,KAAK,CAACU,MAAS;AACrC,WAAK,QAAQA;AAAA,IAAA,CAEb;AAAA,EAAA;AAAA,EAiBO,SAAS;AACV,WAAAC;AAAA;AAAA,YAEGC;AAAA,MACP,KAAK,UAAU,KAAK,QAAQ,KAAK,SAAS,OAAO,KAAK,SAAS,KAAK,KAAK,IAAI,KAAK,UAAU;AAAA,IAC5F,CAAA;AAAA,WACMA,EAAU,KAAK,KAAK,CAAC;AAAA,mBACbC,QAAKZ,GAAaC,CAAA,CAAA;AAAA,aACxBW,QAAKZ,GAAQE,CAAA,CAAA;AAAA,MACpB,KAAK,UAAU,KAAK,OACnBQ,gCAAmC,KAAK,UAAU,KAAK,IAAI,kBAC3DG,CAAO;AAAA;AAAA;AAAA,EAAA;AAId;AA/CCd,IAAA,oBAAA,QAAA;AAJMC,IAAA,oBAAA,QAAA;AAsBAC,IAAa,eAACa,GAAyB;AACxC,EAAC,KAAK,UACTA,EAAM,gBAAgB,GACtB,MAAMN,EAAK,MAAAT,CAAA,GAAM,QAAQ,EAAE,MAAM,MAAM;AAAA,EAAA,CAAE,IAErC,KAAA,cAAc,IAAIgB,GAAwB;AAChD;AAIAb,IAAQ,SAACY,GAAqB;AAC7B,EAAAA,EAAM,gBAAgB;AACvB;AA3BAE,EAAA;AAAA,EADCC,EAAM;AAAA,GANKd,EAOZ,WAAA,SAAA,CAAA;AAGOa,EAAA;AAAA,EADNE,EAAS,EAAE,WAAW,GAAO,CAAA;AAAA,GATlBf,EAUL,WAAA,YAAA,CAAA;AAVKA,IAANa,EAAA;AAAA,EADNG,EAAc,gCAAgC;AAAA,GAClChB,CAAA;AAqDb,MAAAiB,IAAejB;"}