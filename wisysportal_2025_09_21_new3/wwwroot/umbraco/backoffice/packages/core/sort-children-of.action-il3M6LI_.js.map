{"version":3,"file":"sort-children-of.action-il3M6LI_.js","sources":["../../../src/packages/core/tree/entity-actions/sort-children-of/sort-children-of.action.ts"],"sourcesContent":["import { UMB_SORT_CHILDREN_OF_MODAL } from './modal/index.js';\r\nimport type { MetaEntityActionSortChildrenOfKind } from './types.js';\r\nimport { UmbEntityActionBase, UmbRequestReloadChildrenOfEntityEvent } from '@umbraco-cms/backoffice/entity-action';\r\nimport { umbOpenModal } from '@umbraco-cms/backoffice/modal';\r\nimport { UMB_ACTION_EVENT_CONTEXT } from '@umbraco-cms/backoffice/action';\r\n\r\nexport class UmbSortChildrenOfEntityAction extends UmbEntityActionBase<MetaEntityActionSortChildrenOfKind> {\r\n\toverride async execute() {\r\n\t\tawait umbOpenModal(this, this._getModalToken(), {\r\n\t\t\tdata: {\r\n\t\t\t\tunique: this.args.unique,\r\n\t\t\t\tentityType: this.args.entityType,\r\n\t\t\t\tsortChildrenOfRepositoryAlias: this.args.meta.sortChildrenOfRepositoryAlias,\r\n\t\t\t\ttreeRepositoryAlias: this.args.meta.treeRepositoryAlias,\r\n\t\t\t},\r\n\t\t}).catch(() => undefined);\r\n\r\n\t\tconst eventContext = await this.getContext(UMB_ACTION_EVENT_CONTEXT);\r\n\t\tif (!eventContext) throw new Error('Event context is not available');\r\n\r\n\t\teventContext.dispatchEvent(\r\n\t\t\tnew UmbRequestReloadChildrenOfEntityEvent({\r\n\t\t\t\tunique: this.args.unique,\r\n\t\t\t\tentityType: this.args.entityType,\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tprotected _getModalToken() {\r\n\t\treturn UMB_SORT_CHILDREN_OF_MODAL;\r\n\t}\r\n}\r\n\r\nexport default UmbSortChildrenOfEntityAction;\r\n"],"names":["UmbSortChildrenOfEntityAction","UmbEntityActionBase","umbOpenModal","eventContext","UMB_ACTION_EVENT_CONTEXT","UmbRequestReloadChildrenOfEntityEvent","UMB_SORT_CHILDREN_OF_MODAL"],"mappings":";;;;;AAMO,MAAMA,UAAsCC,EAAwD;AAAA,EAC1G,MAAe,UAAU;AACxB,UAAMC,EAAa,MAAM,KAAK,eAAA,GAAkB;AAAA,MAC/C,MAAM;AAAA,QACL,QAAQ,KAAK,KAAK;AAAA,QAClB,YAAY,KAAK,KAAK;AAAA,QACtB,+BAA+B,KAAK,KAAK,KAAK;AAAA,QAC9C,qBAAqB,KAAK,KAAK,KAAK;AAAA,MAAA;AAAA,IACrC,CACA,EAAE,MAAM,MAAA;AAAA,KAAe;AAExB,UAAMC,IAAe,MAAM,KAAK,WAAWC,CAAwB;AACnE,QAAI,CAACD,EAAoB,OAAA,IAAI,MAAM,gCAAgC;AAEtD,IAAAA,EAAA;AAAA,MACZ,IAAIE,EAAsC;AAAA,QACzC,QAAQ,KAAK,KAAK;AAAA,QAClB,YAAY,KAAK,KAAK;AAAA,MACtB,CAAA;AAAA,IACF;AAAA,EAAA;AAAA,EAGS,iBAAiB;AACnB,WAAAC;AAAA,EAAA;AAET;"}