{"version":3,"file":"error-viewer-modal.element-Cj59P4uM.js","sources":["../../../src/packages/core/modal/common/error-viewer/error-viewer-modal.element.ts"],"sourcesContent":["import { UmbModalBaseElement } from '../../component/modal-base.element.js';\r\nimport type { UmbErrorViewerModalData, UmbErrorViewerModalValue } from './error-viewer-modal.token.js';\r\nimport { css, customElement, html, nothing, state } from '@umbraco-cms/backoffice/external/lit';\r\n\r\n@customElement('umb-error-viewer-modal')\r\nexport class UmbErrorViewerModalElement extends UmbModalBaseElement<UmbErrorViewerModalData, UmbErrorViewerModalValue> {\r\n\t@state()\r\n\t_displayError?: string;\r\n\r\n\t@state()\r\n\t_displayLang?: string;\r\n\r\n\t// Code adapted from https://stackoverflow.com/a/57668208/12787\r\n\t// Licensed under the permissions of the CC BY-SA 4.0 DEED\r\n\t#stringify(obj: any): string {\r\n\t\tlet output = '{';\r\n\t\tfor (const key in obj) {\r\n\t\t\tlet value = obj[key];\r\n\t\t\tif (typeof value === 'function') {\r\n\t\t\t\tvalue = value.toString();\r\n\t\t\t} else if (value instanceof Array) {\r\n\t\t\t\tvalue = JSON.stringify(value);\r\n\t\t\t} else if (typeof value === 'object') {\r\n\t\t\t\tvalue = this.#stringify(value);\r\n\t\t\t} else {\r\n\t\t\t\tvalue = `\"${value}\"`;\r\n\t\t\t}\r\n\t\t\toutput += `\\n  ${key}: ${value},`;\r\n\t\t}\r\n\t\treturn output + '\\n}';\r\n\t}\r\n\r\n\tpublic override set data(value: UmbErrorViewerModalData | undefined) {\r\n\t\tsuper.data = value;\r\n\t\t// is JSON:\r\n\t\tif (typeof value === 'string') {\r\n\t\t\tthis._displayLang = 'String';\r\n\t\t\tthis._displayError = value;\r\n\t\t} else {\r\n\t\t\tthis._displayLang = 'JSON';\r\n\t\t\tthis._displayError = this.#stringify(value);\r\n\t\t}\r\n\t}\r\n\tpublic override get data(): UmbErrorViewerModalData | undefined {\r\n\t\treturn super.data;\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-body-layout headline=${this.localize.term('defaultdialogs_seeErrorDialogHeadline')} main-no-padding>\r\n\t\t\t\t${this.data\r\n\t\t\t\t\t? html`<umb-code-block language=${this._displayLang ?? ''} copy>${this._displayError}</umb-code-block>`\r\n\t\t\t\t\t: nothing}\r\n\t\t\t\t<div slot=\"actions\">\r\n\t\t\t\t\t<uui-button label=${this.localize.term('general_close')} @click=${this._rejectModal}></uui-button>\r\n\t\t\t\t</div>\r\n\t\t\t</umb-body-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\tumb-code-block {\r\n\t\t\t\tborder: none;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbErrorViewerModalElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-error-viewer-modal': UmbErrorViewerModalElement;\r\n\t}\r\n}\r\n"],"names":["_UmbErrorViewerModalElement_instances","stringify_fn","UmbErrorViewerModalElement","UmbModalBaseElement","__privateAdd","value","__privateMethod","html","nothing","obj","output","key","css","__decorateClass","state","customElement","UmbErrorViewerModalElement$1"],"mappings":";;;;;;;;8OAAAA,GAAAC;AAKa,IAAAC,IAAN,cAAyCC,EAAuE;AAAA,EAAhH,cAAA;AAAA,UAAA,GAAA,SAAA,GAAAC,EAAA,MAAAJ,CAAA;AAAA,EAAA;AAAA,EA2BN,IAAoB,KAAKK,GAA4C;AACpE,UAAM,OAAOA,GAET,OAAOA,KAAU,YACpB,KAAK,eAAe,UACpB,KAAK,gBAAgBA,MAErB,KAAK,eAAe,QACf,KAAA,gBAAgBC,EAAK,MAAAN,GAAAC,CAAA,EAAL,KAAgB,MAAAI,CAAA;AAAA,EACtC;AAAA,EAED,IAAoB,OAA4C;AAC/D,WAAO,MAAM;AAAA,EAAA;AAAA,EAGL,SAAS;AACV,WAAAE;AAAA,+BACsB,KAAK,SAAS,KAAK,uCAAuC,CAAC;AAAA,MACpF,KAAK,OACJA,6BAAgC,KAAK,gBAAgB,EAAE,SAAS,KAAK,aAAa,sBAClFC,CAAO;AAAA;AAAA,yBAEW,KAAK,SAAS,KAAK,eAAe,CAAC,WAAW,KAAK,YAAY;AAAA;AAAA;AAAA;AAAA,EAAA;AAcxF;AA/DOR,IAAA,oBAAA,QAAA;AASNC,IAAU,SAACQ,GAAkB;AAC5B,MAAIC,IAAS;AACb,aAAWC,KAAOF,GAAK;AAClB,QAAAJ,IAAQI,EAAIE,CAAG;AACf,IAAA,OAAON,KAAU,aACpBA,IAAQA,EAAM,SAAS,IACbA,aAAiB,QACnBA,IAAA,KAAK,UAAUA,CAAK,IAClB,OAAOA,KAAU,WACnBA,IAAAC,EAAA,MAAKN,MAAL,KAAgB,MAAAK,CAAA,IAExBA,IAAQ,IAAIA,CAAK,KAERK,KAAA;AAAA,IAAOC,CAAG,KAAKN,CAAK;AAAA,EAAA;AAE/B,SAAOK,IAAS;AAAA;AACjB;AAzBYR,EAuDI,SAAS;AAAA,EACxBU;AAAA;AAAA;AAAA;AAAA;AAAA;AAMD;AA5DAC,EAAA;AAAA,EADCC,EAAM;AAAA,GADKZ,EAEZ,WAAA,iBAAA,CAAA;AAGAW,EAAA;AAAA,EADCC,EAAM;AAAA,GAJKZ,EAKZ,WAAA,gBAAA,CAAA;AALYA,IAANW,EAAA;AAAA,EADNE,EAAc,wBAAwB;AAAA,GAC1Bb,CAAA;AAiEb,MAAAc,IAAed;"}