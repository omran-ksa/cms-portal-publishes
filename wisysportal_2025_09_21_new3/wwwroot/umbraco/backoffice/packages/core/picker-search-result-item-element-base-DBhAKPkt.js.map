{"version":3,"file":"picker-search-result-item-element-base-DBhAKPkt.js","sources":["../../../src/packages/core/picker/picker.context.token.ts","../../../src/packages/core/picker/search/result-item/picker-search-result-item-element-base.ts"],"sourcesContent":["import type { UmbPickerContext } from './picker.context.js';\r\nimport { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\n\r\nexport const UMB_PICKER_CONTEXT = new UmbContextToken<UmbPickerContext>('UmbPickerContext');\r\n","import type { UmbPickerContext } from '../../picker.context.js';\r\nimport { UMB_PICKER_CONTEXT } from '../../picker.context.token.js';\r\nimport type { UmbNamedEntityModel } from '@umbraco-cms/backoffice/entity';\r\nimport { html, nothing, property, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\n\r\nexport abstract class UmbPickerSearchResultItemElementBase<ItemType extends UmbNamedEntityModel> extends UmbLitElement {\r\n\t#item: ItemType | undefined;\r\n\r\n\tprotected pickerContext?: UmbPickerContext;\r\n\r\n\t@property({ type: Object })\r\n\tpublic set item(value: ItemType | undefined) {\r\n\t\tthis.#item = value;\r\n\t\tthis.#observeIsSelected();\r\n\t}\r\n\tpublic get item(): ItemType | undefined {\r\n\t\treturn this.#item;\r\n\t}\r\n\r\n\t@property({ type: Boolean })\r\n\tdisabled?: boolean;\r\n\r\n\t@state()\r\n\t_isSelected = false;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_PICKER_CONTEXT, (context) => {\r\n\t\t\tthis.pickerContext = context;\r\n\t\t\tthis.#observeIsSelected();\r\n\t\t});\r\n\t}\r\n\r\n\t#observeIsSelected() {\r\n\t\tconst selectionManager = this.pickerContext?.selection;\r\n\t\tif (!selectionManager) return;\r\n\r\n\t\tconst unique = this.item?.unique;\r\n\t\tif (unique === undefined) return;\r\n\r\n\t\tthis.observe(selectionManager.selection, () => {\r\n\t\t\tthis._isSelected = selectionManager.isSelected(unique);\r\n\t\t});\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tconst item = this.item;\r\n\t\tif (!item) return nothing;\r\n\t\treturn html`\r\n\t\t\t<umb-ref-item\r\n\t\t\t\tname=${item.name}\r\n\t\t\t\tselect-only\r\n\t\t\t\t?selectable=${!this.disabled}\r\n\t\t\t\t?selected=${this._isSelected}\r\n\t\t\t\t?disabled=${this.disabled}\r\n\t\t\t\t@deselected=${() => this.pickerContext?.selection.deselect(item.unique)}\r\n\t\t\t\t@selected=${() => this.pickerContext?.selection.select(item.unique)}>\r\n\t\t\t</umb-ref-item>\r\n\t\t`;\r\n\t}\r\n}\r\n"],"names":["UMB_PICKER_CONTEXT","UmbContextToken","UmbPickerSearchResultItemElementBase","UmbLitElement","context","#observeIsSelected","#item","value","selectionManager","unique","item","html","nothing","__decorateClass","property","state"],"mappings":";;;AAGa,MAAAA,IAAqB,IAAIC,EAAkC,kBAAkB;;;;;;ACGnF,MAAeC,UAAmFC,EAAc;AAAA,EAoBtH,cAAc;AACP,UAAA,GAHO,KAAA,cAAA,IAKR,KAAA,eAAeH,GAAoB,CAACI,MAAY;AACpD,WAAK,gBAAgBA,GACrB,KAAKC,GAAmB;AAAA,IAAA,CACxB;AAAA,EAAA;AAAA,EAzBFC;AAAA,EAKA,IAAW,KAAKC,GAA6B;AAC5C,SAAKD,KAAQC,GACb,KAAKF,GAAmB;AAAA,EAAA;AAAA,EAEzB,IAAW,OAA6B;AACvC,WAAO,KAAKC;AAAA,EAAA;AAAA,EAkBbD,KAAqB;AACd,UAAAG,IAAmB,KAAK,eAAe;AAC7C,QAAI,CAACA,EAAkB;AAEjB,UAAAC,IAAS,KAAK,MAAM;AAC1B,IAAIA,MAAW,UAEV,KAAA,QAAQD,EAAiB,WAAW,MAAM;AACzC,WAAA,cAAcA,EAAiB,WAAWC,CAAM;AAAA,IAAA,CACrD;AAAA,EAAA;AAAA,EAGO,SAAS;AACjB,UAAMC,IAAO,KAAK;AACd,WAACA,IACEC;AAAA;AAAA,WAEED,EAAK,IAAI;AAAA;AAAA,kBAEF,CAAC,KAAK,QAAQ;AAAA,gBAChB,KAAK,WAAW;AAAA,gBAChB,KAAK,QAAQ;AAAA,kBACX,MAAM,KAAK,eAAe,UAAU,SAASA,EAAK,MAAM,CAAC;AAAA,gBAC3D,MAAM,KAAK,eAAe,UAAU,OAAOA,EAAK,MAAM,CAAC;AAAA;AAAA,MATnDE;AAAA,EASmD;AAIvE;AAlDYC,EAAA;AAAA,EADVC,EAAS,EAAE,MAAM,OAAQ,CAAA;AAAA,GALLZ,EAMV,WAAA,QAAA,CAAA;AASXW,EAAA;AAAA,EADCC,EAAS,EAAE,MAAM,QAAS,CAAA;AAAA,GAdNZ,EAerB,WAAA,YAAA,CAAA;AAGAW,EAAA;AAAA,EADCE,EAAM;AAAA,GAjBcb,EAkBrB,WAAA,eAAA,CAAA;"}