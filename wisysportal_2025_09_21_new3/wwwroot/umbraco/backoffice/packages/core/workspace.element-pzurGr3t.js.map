{"version":3,"file":"workspace.element-pzurGr3t.js","sources":["../../../src/packages/core/workspace/workspace.context-token.ts","../../../src/packages/core/workspace/conditions/const.ts","../../../src/packages/core/workspace/components/workspace-action-menu/workspace-action-menu.element.ts","../../../src/packages/core/workspace/contexts/tokens/entity-workspace.context-token.ts","../../../src/packages/core/workspace/contexts/tokens/publishable-workspace.context-token.ts","../../../src/packages/core/workspace/contexts/tokens/routable-workspace.context-token.ts","../../../src/packages/core/workspace/contexts/tokens/submittable-tree-entity-workspace.context-token.ts","../../../src/packages/core/workspace/contexts/tokens/submittable-workspace.context-token.ts","../../../src/packages/core/workspace/contexts/tokens/saveable-workspace.context-token.ts","../../../src/packages/core/workspace/contexts/tokens/variant-workspace.context-token.ts","../../../src/packages/core/workspace/paths.ts","../../../src/packages/core/workspace/components/workspace-editor/workspace-editor.element.ts","../../../src/packages/core/workspace/components/workspace-entity-action-menu/workspace-entity-action-menu.element.ts","../../../src/packages/core/workspace/components/workspace-footer/workspace-footer.element.ts","../../../src/packages/core/workspace/namable/namable-workspace.context-token.ts","../../../src/packages/core/workspace/components/workspace-header-name-editable/workspace-header-name-editable.element.ts","../../../src/packages/core/workspace/components/workspace-split-view/workspace-split-view.context.ts","../../../src/packages/core/workspace/components/workspace-split-view/workspace-split-view-variant-selector.element.ts","../../../src/packages/core/workspace/components/workspace-split-view/workspace-split-view.element.ts","../../../src/packages/core/workspace/entity-detail/global-components/entity-detail-forbidden.element.ts","../../../src/packages/core/workspace/entity-detail/global-components/entity-detail-not-found.element.ts","../../../src/packages/core/workspace/entity-detail/entity-detail-workspace.context-token.ts","../../../src/packages/core/workspace/entity-detail/global-components/entity-detail-workspace-editor.element.ts","../../../src/packages/core/workspace/entity-detail/entity-named-detail-workspace.context-token.ts","../../../src/packages/core/workspace/info-app/global-components/workspace-info-app-layout.element.ts","../../../src/packages/core/workspace/modals/workspace-modal.element.ts","../../../src/packages/core/workspace/modals/workspace-modal.token.ts","../../../src/packages/core/workspace/workspace.element.ts"],"sourcesContent":["import type { UmbWorkspaceContext } from './workspace-context.interface.js';\r\nimport { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\n\r\nexport const UMB_WORKSPACE_CONTEXT = new UmbContextToken<UmbWorkspaceContext>('UmbWorkspaceContext');\r\n","/**\r\n * Workspace entity is new condition alias\r\n */\r\nexport const UMB_WORKSPACE_ENTITY_IS_NEW_CONDITION_ALIAS = 'Umb.Condition.WorkspaceEntityIsNew';\r\n\r\n/**\r\n * Workspace alias condition alias\r\n */\r\nexport const UMB_WORKSPACE_CONDITION_ALIAS = 'Umb.Condition.WorkspaceAlias';\r\n","import type { ManifestWorkspaceActionMenuItem } from '../../extensions/types.js';\r\nimport { css, html, customElement, property, state, nothing, repeat } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport type { UUIInterfaceColor, UUIInterfaceLook } from '@umbraco-cms/backoffice/external/uui';\r\nimport type { UmbExtensionElementAndApiInitializer } from '@umbraco-cms/backoffice/extension-api';\r\n\r\n@customElement('umb-workspace-action-menu')\r\nexport class UmbWorkspaceActionMenuElement extends UmbLitElement {\r\n\t@property()\r\n\tlook: UUIInterfaceLook = 'secondary';\r\n\r\n\t@property()\r\n\tcolor: UUIInterfaceColor = 'default';\r\n\r\n\t@property({ type: Array, attribute: false })\r\n\titems: Array<UmbExtensionElementAndApiInitializer<ManifestWorkspaceActionMenuItem>> = [];\r\n\r\n\t@state()\r\n\t_popoverOpen = false;\r\n\r\n\t#onPopoverToggle(event: ToggleEvent) {\r\n\t\t// TODO: This ignorer is just neede for JSON SCHEMA TO WORK, As its not updated with latest TS jet.\r\n\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n\t\t// @ts-ignore\r\n\t\tthis._popoverOpen = event.newState === 'open';\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tif (!this.items?.length) return nothing;\r\n\r\n\t\treturn html`<uui-button\r\n\t\t\t\tid=\"popover-trigger\"\r\n\t\t\t\tpopovertarget=\"workspace-action-popover\"\r\n\t\t\t\tlook=\"${this.look}\"\r\n\t\t\t\tcolor=\"${this.color}\"\r\n\t\t\t\tlabel=${this.localize.term('visuallyHiddenTexts_tabExpand')}\r\n\t\t\t\tcompact>\r\n\t\t\t\t<uui-symbol-expand id=\"expand-symbol\" .open=${this._popoverOpen}></uui-symbol-expand>\r\n\t\t\t</uui-button>\r\n\t\t\t<uui-popover-container\r\n\t\t\t\tid=\"workspace-action-popover\"\r\n\t\t\t\tmargin=\"6\"\r\n\t\t\t\tplacement=\"top-end\"\r\n\t\t\t\t@toggle=${this.#onPopoverToggle}>\r\n\t\t\t\t<umb-popover-layout id=\"workspace-action-popover-layout\">\r\n\t\t\t\t\t<uui-scroll-container>\r\n\t\t\t\t\t\t${repeat(\r\n\t\t\t\t\t\t\tthis.items,\r\n\t\t\t\t\t\t\t(ext) => ext.alias,\r\n\t\t\t\t\t\t\t(ext) => ext.component,\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</uui-scroll-container>\r\n\t\t\t\t</umb-popover-layout>\r\n\t\t\t</uui-popover-container>`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\t--uui-menu-item-flat-structure: 1;\r\n\t\t\t}\r\n\r\n\t\t\t#expand-symbol {\r\n\t\t\t\t/* TODO: remove this hack and use a proper UUI symbol for this */\r\n\t\t\t\ttransform: rotate(-90deg);\r\n\t\t\t}\r\n\r\n\t\t\t#expand-symbol[open] {\r\n\t\t\t\ttransform: rotate(0deg);\r\n\t\t\t}\r\n\r\n\t\t\t#workspace-action-popover {\r\n\t\t\t\tmin-width: 200px;\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\t#popover-trigger {\r\n\t\t\t\t--uui-button-padding-top-factor: 0;\r\n\t\t\t\t--uui-button-padding-bottom-factor: 0.125;\r\n\t\t\t}\r\n\r\n\t\t\t#workspace-action-popover-layout {\r\n      \t\t\toverflow: visible;\r\n    \t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-workspace-action-menu': UmbWorkspaceActionMenuElement;\r\n\t}\r\n}\r\n","import type { UmbWorkspaceContext } from '../../workspace-context.interface.js';\r\nimport type { UmbEntityWorkspaceContext } from './entity-workspace-context.interface.js';\r\nimport { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\n\r\nexport const UMB_ENTITY_WORKSPACE_CONTEXT = new UmbContextToken<UmbWorkspaceContext, UmbEntityWorkspaceContext>(\r\n\t'UmbWorkspaceContext',\r\n\tundefined,\r\n\t(context): context is UmbEntityWorkspaceContext => (context as any).getUnique !== undefined,\r\n);\r\n","import type { UmbWorkspaceContext } from '../../types.js';\r\nimport type { UmbPublishableWorkspaceContext } from './publishable-workspace-context.interface.js';\r\nimport { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\n\r\nexport const UMB_PUBLISHABLE_WORKSPACE_CONTEXT = new UmbContextToken<\r\n\tUmbWorkspaceContext,\r\n\tUmbPublishableWorkspaceContext\r\n>('UmbWorkspaceContext', undefined, (context): context is UmbPublishableWorkspaceContext => 'publish' in context);\r\n","import type { UmbWorkspaceContext } from '../../workspace-context.interface.js';\r\nimport type { UmbRoutableWorkspaceContext } from './routable-workspace-context.interface.js';\r\nimport { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\n\r\nexport const UMB_ROUTABLE_WORKSPACE_CONTEXT = new UmbContextToken<UmbWorkspaceContext, UmbRoutableWorkspaceContext>(\r\n\t'UmbWorkspaceContext',\r\n\tundefined,\r\n\t(context): context is UmbRoutableWorkspaceContext => 'routes' in context,\r\n);\r\n","import type { UmbWorkspaceContext } from '../../types.js';\r\nimport type { UmbSubmittableTreeEntityWorkspaceContext } from './submittable-tree-entity-workspace-context.interface.js';\r\nimport { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\n\r\nexport const UMB_SUBMITTABLE_TREE_ENTITY_WORKSPACE_CONTEXT = new UmbContextToken<\r\n\tUmbWorkspaceContext,\r\n\tUmbSubmittableTreeEntityWorkspaceContext\r\n>(\r\n\t'UmbWorkspaceContext',\r\n\tundefined,\r\n\t(context): context is UmbSubmittableTreeEntityWorkspaceContext =>\r\n\t\t'requestSubmit' in context && '_internal_createUnderParent' in context,\r\n);\r\n","import type { UmbWorkspaceContext } from '../../types.js';\r\nimport type { UmbSubmittableWorkspaceContext } from './submittable-workspace-context.interface.js';\r\nimport { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\n\r\nexport const UMB_SUBMITTABLE_WORKSPACE_CONTEXT = new UmbContextToken<\r\n\tUmbWorkspaceContext,\r\n\tUmbSubmittableWorkspaceContext\r\n>('UmbWorkspaceContext', undefined, (context): context is UmbSubmittableWorkspaceContext => 'requestSubmit' in context);\r\n","import type { UmbWorkspaceContext } from '../../types.js';\r\nimport type { UmbSaveableWorkspaceContext } from './saveable-workspace-context.interface.js';\r\nimport { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\n\r\nexport const UMB_SAVEABLE_WORKSPACE_CONTEXT = new UmbContextToken<UmbWorkspaceContext, UmbSaveableWorkspaceContext>(\r\n\t'UmbWorkspaceContext',\r\n\tundefined,\r\n\t(context): context is UmbSaveableWorkspaceContext => 'requestSave' in context,\r\n);\r\n","import type { UmbWorkspaceContext } from '../../workspace-context.interface.js';\r\nimport type { UmbVariantDatasetWorkspaceContext } from './variant-dataset-workspace-context.interface.js';\r\nimport { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\n\r\nexport const UMB_VARIANT_WORKSPACE_CONTEXT = new UmbContextToken<\r\n\tUmbWorkspaceContext,\r\n\tUmbVariantDatasetWorkspaceContext\r\n>('UmbWorkspaceContext', undefined, (context): context is UmbVariantDatasetWorkspaceContext => 'variants' in context);\r\n","import { UmbPathPattern } from '@umbraco-cms/backoffice/router';\r\nimport { UMB_SECTION_PATH_PATTERN } from '@umbraco-cms/backoffice/section';\r\n\r\nexport const UMB_WORKSPACE_PATH_PATTERN = new UmbPathPattern<\r\n\t{ entityType: string },\r\n\ttypeof UMB_SECTION_PATH_PATTERN.ABSOLUTE_PARAMS\r\n>('workspace/:entityType', UMB_SECTION_PATH_PATTERN);\r\n\r\nexport const UMB_WORKSPACE_VIEW_PATH_PATTERN = new UmbPathPattern<\r\n\t{ viewPathname: string },\r\n\ttypeof UMB_WORKSPACE_PATH_PATTERN.ABSOLUTE_PARAMS\r\n>('view/:viewPathname', UMB_WORKSPACE_PATH_PATTERN);\r\n","import type { ManifestWorkspaceView } from '../../extensions/types.js';\r\nimport { UMB_WORKSPACE_VIEW_PATH_PATTERN } from '../../paths.js';\r\nimport { css, customElement, html, nothing, property, repeat, state, when } from '@umbraco-cms/backoffice/external/lit';\r\nimport { createExtensionElement, UmbExtensionsManifestInitializer } from '@umbraco-cms/backoffice/extension-api';\r\nimport { umbExtensionsRegistry } from '@umbraco-cms/backoffice/extension-registry';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport type { UmbRoute, UmbRouterSlotInitEvent, UmbRouterSlotChangeEvent } from '@umbraco-cms/backoffice/router';\r\n\r\n/**\r\n * @element umb-workspace-editor\r\n * @description\r\n * @slot icon - Slot for icon\r\n * @slot header - Slot for workspace header\r\n * @slot name - Slot for name\r\n * @slot footer - Slot for workspace footer\r\n * @slot actions - Slot for workspace footer actions\r\n * @slot - slot for main content\r\n * @class UmbWorkspaceEditor\r\n * @augments {UmbLitElement}\r\n */\r\n@customElement('umb-workspace-editor')\r\nexport class UmbWorkspaceEditorElement extends UmbLitElement {\r\n\t@property()\r\n\tpublic headline = '';\r\n\r\n\t@property({ type: Boolean })\r\n\tpublic hideNavigation = false;\r\n\r\n\t@property({ type: Boolean })\r\n\tpublic enforceNoFooter = false;\r\n\r\n\t@property({ attribute: 'back-path' })\r\n\tpublic backPath?: string;\r\n\r\n\t@property({ type: Boolean })\r\n\tpublic loading = false;\r\n\r\n\t@state()\r\n\tprivate _workspaceViews: Array<ManifestWorkspaceView> = [];\r\n\r\n\t@state()\r\n\tprivate _routes?: UmbRoute[];\r\n\r\n\t@state()\r\n\tprivate _routerPath?: string;\r\n\r\n\t@state()\r\n\tprivate _activePath?: string;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tnew UmbExtensionsManifestInitializer(this, umbExtensionsRegistry, 'workspaceView', null, (workspaceViews) => {\r\n\t\t\tthis._workspaceViews = workspaceViews.map((view) => view.manifest);\r\n\t\t\tthis._createRoutes();\r\n\t\t});\r\n\t}\r\n\r\n\tprivate _createRoutes() {\r\n\t\tlet newRoutes: UmbRoute[] = [];\r\n\r\n\t\tif (this._workspaceViews.length > 0) {\r\n\t\t\tnewRoutes = this._workspaceViews.map((manifest) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tpath: UMB_WORKSPACE_VIEW_PATH_PATTERN.generateLocal({ viewPathname: manifest.meta.pathname }),\r\n\t\t\t\t\tcomponent: () => createExtensionElement(manifest),\r\n\t\t\t\t\tsetup: (component) => {\r\n\t\t\t\t\t\tif (component) {\r\n\t\t\t\t\t\t\t(component as any).manifest = manifest;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t});\r\n\r\n\t\t\t// Duplicate first workspace and use it for the empty path scenario. [NL]\r\n\t\t\tnewRoutes.push({ ...newRoutes[0], unique: newRoutes[0].path, path: '' });\r\n\t\t}\r\n\r\n\t\t// Add a catch-all route for not found\r\n\t\t// This will be the last route, so it will only match if no other routes match or if no workspace views are defined.\r\n\t\tnewRoutes.push({\r\n\t\t\tpath: `**`,\r\n\t\t\tcomponent: async () => (await import('@umbraco-cms/backoffice/router')).UmbRouteNotFoundElement,\r\n\t\t});\r\n\r\n\t\tthis._routes = newRoutes;\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-body-layout main-no-padding .headline=${this.headline} ?loading=${this.loading}>\r\n\t\t\t\t${this.#renderBackButton()}\r\n\t\t\t\t<slot name=\"header\" slot=\"header\"></slot>\r\n\t\t\t\t<slot name=\"action-menu\" slot=\"action-menu\"></slot>\r\n\t\t\t\t${this.#renderViews()} ${this.#renderRoutes()}\r\n\t\t\t\t<slot></slot>\r\n\t\t\t\t${when(\r\n\t\t\t\t\t!this.enforceNoFooter,\r\n\t\t\t\t\t() => html`\r\n\t\t\t\t\t\t<umb-workspace-footer slot=\"footer\" data-mark=\"workspace:footer\">\r\n\t\t\t\t\t\t\t<slot name=\"footer-info\"></slot>\r\n\t\t\t\t\t\t\t<slot name=\"actions\" slot=\"actions\" data-mark=\"workspace:footer-actions\"></slot>\r\n\t\t\t\t\t\t</umb-workspace-footer>\r\n\t\t\t\t\t`,\r\n\t\t\t\t)}\r\n\t\t\t</umb-body-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderViews() {\r\n\t\treturn html`\r\n\t\t\t${!this.hideNavigation && this._workspaceViews.length > 1\r\n\t\t\t\t? html`\r\n\t\t\t\t\t\t<uui-tab-group slot=\"navigation\" data-mark=\"workspace:view-links\">\r\n\t\t\t\t\t\t\t${repeat(\r\n\t\t\t\t\t\t\t\tthis._workspaceViews,\r\n\t\t\t\t\t\t\t\t(view) => view.alias,\r\n\t\t\t\t\t\t\t\t(view, index) =>\r\n\t\t\t\t\t\t\t\t\t// Notice how we use index 0 to determine which workspace that is active with empty path. [NL]\r\n\t\t\t\t\t\t\t\t\thtml`\r\n\t\t\t\t\t\t\t\t\t\t<uui-tab\r\n\t\t\t\t\t\t\t\t\t\t\thref=\"${this._routerPath}/view/${view.meta.pathname}\"\r\n\t\t\t\t\t\t\t\t\t\t\t.label=\"${view.meta.label ? this.localize.string(view.meta.label) : view.name}\"\r\n\t\t\t\t\t\t\t\t\t\t\t?active=${'view/' + view.meta.pathname === this._activePath ||\r\n\t\t\t\t\t\t\t\t\t\t\t(index === 0 && this._activePath === '')}\r\n\t\t\t\t\t\t\t\t\t\t\tdata-mark=\"workspace:view-link:${view.alias}\">\r\n\t\t\t\t\t\t\t\t\t\t\t<umb-icon slot=\"icon\" name=${view.meta.icon}></umb-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t${view.meta.label ? this.localize.string(view.meta.label) : view.name}\r\n\t\t\t\t\t\t\t\t\t\t</uui-tab>\r\n\t\t\t\t\t\t\t\t\t`,\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</uui-tab-group>\r\n\t\t\t\t\t`\r\n\t\t\t\t: nothing}\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderBackButton() {\r\n\t\tif (!this.backPath) return nothing;\r\n\t\treturn html`\r\n\t\t\t<uui-button\r\n\t\t\t\tslot=\"header\"\r\n\t\t\t\tclass=\"back-button\"\r\n\t\t\t\tcompact\r\n\t\t\t\thref=${this.backPath}\r\n\t\t\t\tlabel=${this.localize.term('general_back')}\r\n\t\t\t\tdata-mark=\"action:back\">\r\n\t\t\t\t<uui-icon name=\"icon-arrow-left\"></uui-icon>\r\n\t\t\t</uui-button>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderRoutes() {\r\n\t\tif (!this._routes || this._routes.length === 0) return nothing;\r\n\t\treturn html`\r\n\t\t\t<umb-router-slot\r\n\t\t\t\tinherit-addendum\r\n\t\t\t\tid=\"router-slot\"\r\n\t\t\t\t.routes=${this._routes}\r\n\t\t\t\t@init=${(event: UmbRouterSlotInitEvent) => {\r\n\t\t\t\t\tthis._routerPath = event.target.absoluteRouterPath;\r\n\t\t\t\t}}\r\n\t\t\t\t@change=${(event: UmbRouterSlotChangeEvent) => {\r\n\t\t\t\t\tthis._activePath = event.target.localActiveViewPath;\r\n\t\t\t\t}}></umb-router-slot>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t#router-slot {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t.back-button {\r\n\t\t\t\tmargin-right: var(--uui-size-space-4);\r\n\t\t\t}\r\n\r\n\t\t\tuui-input {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\r\n\t\t\tuui-tab-group {\r\n\t\t\t\t--uui-tab-divider: var(--uui-color-border);\r\n\t\t\t\tborder-left: 1px solid var(--uui-color-border);\r\n\t\t\t\tborder-right: 1px solid var(--uui-color-border);\r\n\t\t\t}\r\n\r\n\t\t\tumb-extension-slot[slot='actions'] {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tgap: var(--uui-size-space-2);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-workspace-editor': UmbWorkspaceEditorElement;\r\n\t}\r\n}\r\n","import { UMB_ENTITY_WORKSPACE_CONTEXT } from '../../contexts/index.js';\r\nimport { html, customElement, state, nothing, css } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport type { UmbEntityUnique } from '@umbraco-cms/backoffice/entity';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\n@customElement('umb-workspace-entity-action-menu')\r\nexport class UmbWorkspaceEntityActionMenuElement extends UmbLitElement {\r\n\tprivate _workspaceContext?: typeof UMB_ENTITY_WORKSPACE_CONTEXT.TYPE;\r\n\r\n\t@state()\r\n\tprivate _unique?: UmbEntityUnique;\r\n\r\n\t@state()\r\n\tprivate _entityType?: string;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_ENTITY_WORKSPACE_CONTEXT, (context) => {\r\n\t\t\tthis._workspaceContext = context;\r\n\t\t\tthis.observe(this._workspaceContext?.unique, (unique) => {\r\n\t\t\t\tthis._unique = unique;\r\n\t\t\t\t// TODO: the context does not have an observable for the entity type, so we need to use the\r\n\t\t\t\t// getEntityType method until we can add an observable for it.\r\n\t\t\t\tthis._entityType = this._workspaceContext?.getEntityType();\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tif (!this._entityType) return nothing;\r\n\t\tif (this._unique === undefined) return nothing;\r\n\r\n\t\treturn html`<umb-entity-actions-dropdown>\r\n\t\t\t<uui-symbol-more\r\n\t\t\t\tslot=\"label\"\r\n\t\t\t\tdata-mark=\"workspace:action-menu-button\"\r\n\t\t\t\tlabel=${this.localize.term('general_actions')}></uui-symbol-more>\r\n\t\t</umb-entity-actions-dropdown>`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tmargin-left: calc(var(--uui-size-layout-1) * -1);\r\n\t\t\t}\r\n\r\n\t\t\tumb-entity-actions-dropdown {\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-workspace-entity-action-menu': UmbWorkspaceEntityActionMenuElement;\r\n\t}\r\n}\r\n","import { UMB_SUBMITTABLE_WORKSPACE_CONTEXT } from '../../contexts/index.js';\r\nimport type { ManifestWorkspaceAction, MetaWorkspaceAction } from '../../extensions/types.js';\r\nimport type { UmbWorkspaceActionArgs } from '../workspace-action/types.js';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { css, html, customElement, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport type { UmbModalContext } from '@umbraco-cms/backoffice/modal';\r\nimport { UMB_MODAL_CONTEXT } from '@umbraco-cms/backoffice/modal';\r\n\r\n/**\r\n *\r\n * @param manifest\r\n * @returns\r\n */\r\nfunction ExtensionApiArgsMethod(\r\n\tmanifest: ManifestWorkspaceAction<MetaWorkspaceAction>,\r\n): [UmbWorkspaceActionArgs<MetaWorkspaceAction>] {\r\n\treturn [{ meta: manifest.meta }];\r\n}\r\n\r\n/**\r\n * @element umb-workspace-footer\r\n * @slot - Slot for workspace footer items\r\n * @slot actions - Slot for workspace actions\r\n * @class UmbWorkspaceFooterLayout\r\n * @augments {UmbLitElement}\r\n */\r\n// TODO: stop naming this something with layout. as its not just an layout. it hooks up with extensions.\r\n@customElement('umb-workspace-footer')\r\nexport class UmbWorkspaceFooterLayoutElement extends UmbLitElement {\r\n\t@state()\r\n\t_withinModal = false;\r\n\r\n\t@state()\r\n\t_modalContext?: UmbModalContext;\r\n\r\n\t@state()\r\n\t_isNew?: boolean;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.consumeContext(UMB_SUBMITTABLE_WORKSPACE_CONTEXT, (context) => {\r\n\t\t\tthis._isNew = context?.getIsNew();\r\n\t\t});\r\n\t\tthis.consumeContext(UMB_MODAL_CONTEXT, (context) => {\r\n\t\t\tthis._modalContext = context;\r\n\t\t});\r\n\t}\r\n\r\n\t#rejectModal = () => {\r\n\t\tthis._modalContext?.reject();\r\n\t};\r\n\r\n\t// TODO: Some event/callback from umb-extension-slot that can be utilized to hide the footer, if empty.\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-footer-layout>\r\n\t\t\t\t<umb-extension-slot type=\"workspaceFooterApp\"></umb-extension-slot>\r\n\t\t\t\t<slot></slot>\r\n\t\t\t\t${this._modalContext\r\n\t\t\t\t\t? html`<uui-button\r\n\t\t\t\t\t\t\tslot=\"actions\"\r\n\t\t\t\t\t\t\tlabel=${this._isNew ? 'Cancel' : 'Close'}\r\n\t\t\t\t\t\t\t@click=${this.#rejectModal}></uui-button>`\r\n\t\t\t\t\t: ''}\r\n\t\t\t\t<slot name=\"actions\" slot=\"actions\"></slot>\r\n\t\t\t\t<umb-extension-with-api-slot\r\n\t\t\t\t\tslot=\"actions\"\r\n\t\t\t\t\ttype=\"workspaceAction\"\r\n\t\t\t\t\t.apiArgs=${ExtensionApiArgsMethod}></umb-extension-with-api-slot>\r\n\r\n\t\t\t\t<slot name=\"actions\" slot=\"actions\"></slot>\r\n\t\t\t</umb-footer-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t/* prevents text in action buttons from wrapping */\r\n\t\t\tumb-extension-with-api-slot {\r\n\t\t\t\ttext-wrap: nowrap;\r\n\t\t\t}\r\n\r\n\t\t\tumb-extension-slot[slot='actions'] {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tgap: var(--uui-size-space-2);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-workspace-footer': UmbWorkspaceFooterLayoutElement;\r\n\t}\r\n}\r\n","import type { UmbWorkspaceContext } from '../workspace-context.interface.js';\r\nimport type { UmbNamableWorkspaceContext } from './namable-workspace-context.interface.js';\r\nimport { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\n\r\nexport const UMB_NAMABLE_WORKSPACE_CONTEXT = new UmbContextToken<UmbWorkspaceContext, UmbNamableWorkspaceContext>(\r\n\t'UmbWorkspaceContext',\r\n\tundefined,\r\n\t(context): context is UmbNamableWorkspaceContext => (context as any).getName !== undefined,\r\n);\r\n","import { UMB_NAMABLE_WORKSPACE_CONTEXT } from '../../namable/index.js';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { css, html, customElement, state, property } from '@umbraco-cms/backoffice/external/lit';\r\nimport { umbFocus, UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport type { UUIInputElement } from '@umbraco-cms/backoffice/external/uui';\r\nimport { UUIInputEvent } from '@umbraco-cms/backoffice/external/uui';\r\nimport { umbBindToValidation } from '@umbraco-cms/backoffice/validation';\r\n\r\n@customElement('umb-workspace-header-name-editable')\r\nexport class UmbWorkspaceHeaderNameEditableElement extends UmbLitElement {\r\n\t/**\r\n\t * The label for the inner input.\r\n\t * @attr\r\n\t */\r\n\t@property()\r\n\tlabel?: string;\r\n\r\n\t/**\r\n\t * The placeholder for the inner input.\r\n\t * @attr\r\n\t */\r\n\t@property()\r\n\tplaceholder?: string;\r\n\r\n\t/**\r\n\t * The readonly state of the inner input.\r\n\t * @attr\r\n\t */\r\n\treadonly = false;\r\n\r\n\t@state()\r\n\tprivate _name = '';\r\n\r\n\t@state()\r\n\tprivate _isWritableName = true;\r\n\r\n\t#workspaceContext?: typeof UMB_NAMABLE_WORKSPACE_CONTEXT.TYPE;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_NAMABLE_WORKSPACE_CONTEXT, (workspaceContext) => {\r\n\t\t\tthis.#workspaceContext = workspaceContext;\r\n\t\t\tthis.#observeName();\r\n\t\t\tthis.#observeNameWriteGuardRules();\r\n\t\t});\r\n\t}\r\n\r\n\t#observeNameWriteGuardRules() {\r\n\t\tthis.observe(\r\n\t\t\tthis.#workspaceContext?.nameWriteGuard?.isPermittedForName(),\r\n\t\t\t(isPermitted) => {\r\n\t\t\t\tthis._isWritableName = isPermitted ?? true;\r\n\t\t\t},\r\n\t\t\t'umbObserveWorkspaceNameWriteGuardRules',\r\n\t\t);\r\n\t}\r\n\r\n\t#observeName() {\r\n\t\tif (!this.#workspaceContext) return;\r\n\t\tthis.observe(\r\n\t\t\tthis.#workspaceContext.name,\r\n\t\t\t(name) => {\r\n\t\t\t\tif (name !== this._name) {\r\n\t\t\t\t\tthis._name = name ?? '';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'observeWorkspaceName',\r\n\t\t);\r\n\t}\r\n\r\n\t#onNameInput(event: UUIInputEvent) {\r\n\t\tif (event instanceof UUIInputEvent) {\r\n\t\t\tconst target = event.composedPath()[0] as UUIInputElement;\r\n\r\n\t\t\tif (typeof target?.value === 'string') {\r\n\t\t\t\tthis.#workspaceContext?.setName(target.value);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`<uui-input\r\n\t\t\tid=\"nameInput\"\r\n\t\t\tdata-mark=\"input:workspace-name\"\r\n\t\t\t.value=${this._name}\r\n\t\t\t@input=\"${this.#onNameInput}\"\r\n\t\t\tlabel=${this.label ?? this.localize.term('placeholders_entername')}\r\n\t\t\tplaceholder=${this.placeholder ?? this.localize.term('placeholders_entername')}\r\n\t\t\t?readonly=${this.readonly || !this._isWritableName}\r\n\t\t\trequired\r\n\t\t\t${umbBindToValidation(this, `$.name`, this._name)}\r\n\t\t\t${umbFocus()}></uui-input>`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: contents;\r\n\t\t\t}\r\n\r\n\t\t\t#nameInput {\r\n\t\t\t\tflex: 1 1 auto;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-workspace-header-name-editable': UmbWorkspaceHeaderNameEditableElement;\r\n\t}\r\n}\r\n","import { UMB_VARIANT_WORKSPACE_CONTEXT } from '../../contexts/index.js';\r\nimport { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\nimport type { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport { UmbContextBase } from '@umbraco-cms/backoffice/class-api';\r\nimport { UmbBooleanState, UmbNumberState } from '@umbraco-cms/backoffice/observable-api';\r\nimport { UmbVariantId } from '@umbraco-cms/backoffice/variant';\r\nimport type { UmbPropertyDatasetContext } from '@umbraco-cms/backoffice/property';\r\nimport { UMB_MARK_ATTRIBUTE_NAME } from '@umbraco-cms/backoffice/const';\r\nimport type { UmbValidationController } from '@umbraco-cms/backoffice/validation';\r\n\r\nexport class UmbWorkspaceSplitViewContext extends UmbContextBase {\r\n\t//\r\n\t#variantVariantValidationContext?: UmbValidationController;\r\n\t#workspaceContext?: typeof UMB_VARIANT_WORKSPACE_CONTEXT.TYPE;\r\n\tpublic getWorkspaceContext() {\r\n\t\treturn this.#workspaceContext;\r\n\t}\r\n\r\n\t#datasetContext?: UmbPropertyDatasetContext;\r\n\r\n\t#index = new UmbNumberState(undefined);\r\n\tindex = this.#index.asObservable();\r\n\r\n\t#isNew = new UmbBooleanState(undefined);\r\n\tisNew = this.#isNew.asObservable();\r\n\r\n\t//#variantId = new UmbClassState<UmbVariantId | undefined>(undefined);\r\n\t//variantId = this.#variantId.asObservable();\r\n\r\n\tconstructor(host: UmbControllerHost) {\r\n\t\tsuper(host, UMB_WORKSPACE_SPLIT_VIEW_CONTEXT);\r\n\r\n\t\tthis.consumeContext(UMB_VARIANT_WORKSPACE_CONTEXT, (context) => {\r\n\t\t\tthis.#workspaceContext = context;\r\n\t\t\tthis._observeVariant();\r\n\t\t\tthis.#observeIsNew();\r\n\t\t});\r\n\r\n\t\tthis.observe(this.index, () => {\r\n\t\t\tthis._observeVariant();\r\n\t\t});\r\n\t}\r\n\r\n\t#observeIsNew() {\r\n\t\tthis.observe(\r\n\t\t\tthis.#workspaceContext?.isNew,\r\n\t\t\t(isNew) => {\r\n\t\t\t\tthis.#isNew.setValue(isNew ?? false);\r\n\t\t\t},\r\n\t\t\t'umbObserveIsNew',\r\n\t\t);\r\n\t}\r\n\r\n\tprivate _observeVariant() {\r\n\t\tif (!this.#workspaceContext) return;\r\n\r\n\t\tconst index = this.#index.getValue();\r\n\t\tif (index === undefined) return;\r\n\r\n\t\tthis.observe(\r\n\t\t\tthis.#workspaceContext.splitView.activeVariantByIndex(index),\r\n\t\t\tasync (activeVariantInfo) => {\r\n\t\t\t\tif (this.#variantVariantValidationContext) {\r\n\t\t\t\t\tthis.#variantVariantValidationContext.unprovide();\r\n\t\t\t\t}\r\n\t\t\t\tif (!activeVariantInfo) return;\r\n\r\n\t\t\t\tthis.#datasetContext?.destroy();\r\n\t\t\t\tconst variantId = UmbVariantId.Create(activeVariantInfo);\r\n\r\n\t\t\t\tconst validationContext = this.#workspaceContext?.getVariantValidationContext(variantId);\r\n\t\t\t\tif (validationContext) {\r\n\t\t\t\t\tvalidationContext.provideAt(this);\r\n\t\t\t\t\tthis.#variantVariantValidationContext = validationContext;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.#datasetContext = this.#workspaceContext?.createPropertyDatasetContext(this, variantId);\r\n\t\t\t\tthis.getHostElement().setAttribute(UMB_MARK_ATTRIBUTE_NAME, 'workspace-split-view:' + variantId.toString());\r\n\t\t\t},\r\n\t\t\t'_observeActiveVariant',\r\n\t\t);\r\n\t}\r\n\r\n\tpublic switchVariant(variant: UmbVariantId) {\r\n\t\tconst index = this.#index.value;\r\n\t\tif (index === undefined) return;\r\n\t\tthis.#workspaceContext?.splitView.switchVariant(index, variant);\r\n\t}\r\n\r\n\tpublic closeSplitView() {\r\n\t\tconst index = this.#index.value;\r\n\t\tif (index === undefined) return;\r\n\t\tthis.#workspaceContext?.splitView.closeSplitView(index);\r\n\t}\r\n\r\n\tpublic openSplitView(variant: UmbVariantId) {\r\n\t\tthis.#workspaceContext?.splitView.openSplitView(variant);\r\n\t}\r\n\r\n\tpublic getSplitViewIndex() {\r\n\t\treturn this.#index.getValue();\r\n\t}\r\n\tpublic setSplitViewIndex(index: number) {\r\n\t\tthis.#index.setValue(index);\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * concept this class could have methods to set and get the culture and segment of the active variant? just by using the index.\r\n\t */\r\n\r\n\t/*\r\n\tpublic destroy(): void {\r\n\r\n\t}\r\n\t*/\r\n}\r\n\r\nexport const UMB_WORKSPACE_SPLIT_VIEW_CONTEXT = new UmbContextToken<UmbWorkspaceSplitViewContext>(\r\n\t'UmbWorkspaceSplitViewContext',\r\n);\r\n","import type { UmbVariantDatasetWorkspaceContext } from '../../contexts/index.js';\r\nimport { UMB_WORKSPACE_SPLIT_VIEW_CONTEXT } from './workspace-split-view.context.js';\r\nimport { css, customElement, html, nothing, query, ref, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { UmbVariantId } from '@umbraco-cms/backoffice/variant';\r\nimport { UmbDataPathVariantQuery, umbBindToValidation } from '@umbraco-cms/backoffice/validation';\r\nimport { UMB_PROPERTY_DATASET_CONTEXT, isNameablePropertyDatasetContext } from '@umbraco-cms/backoffice/property';\r\nimport { UUIInputEvent } from '@umbraco-cms/backoffice/external/uui';\r\nimport type { UmbEntityVariantModel, UmbEntityVariantOptionModel } from '@umbraco-cms/backoffice/variant';\r\nimport type { UUIInputElement, UUIPopoverContainerElement } from '@umbraco-cms/backoffice/external/uui';\r\nimport type { DocumentVariantStateModel } from '@umbraco-cms/backoffice/external/backend-api';\r\n\r\n@customElement('umb-workspace-split-view-variant-selector')\r\nexport class UmbWorkspaceSplitViewVariantSelectorElement<\r\n\tVariantOptionModelType extends\r\n\t\tUmbEntityVariantOptionModel<UmbEntityVariantModel> = UmbEntityVariantOptionModel<UmbEntityVariantModel>,\r\n> extends UmbLitElement {\r\n\t@query('#popover')\r\n\tprivate _popoverElement?: UUIPopoverContainerElement;\r\n\r\n\t@state()\r\n\tprivate _variantOptions: Array<VariantOptionModelType> = [];\r\n\r\n\t@state()\r\n\tprivate _cultureVariantOptions: Array<VariantOptionModelType> = [];\r\n\r\n\t@state()\r\n\t_activeVariants: Array<UmbVariantId> = [];\r\n\r\n\t#splitViewContext?: typeof UMB_WORKSPACE_SPLIT_VIEW_CONTEXT.TYPE;\r\n\t#datasetContext?: typeof UMB_PROPERTY_DATASET_CONTEXT.TYPE;\r\n\r\n\t@state()\r\n\tprivate _name?: string;\r\n\r\n\t@state()\r\n\tprivate _activeVariant?: VariantOptionModelType;\r\n\r\n\t@state()\r\n\tprivate _variantId?: UmbVariantId;\r\n\r\n\t@state()\r\n\tprivate _variantSelectorOpen = false;\r\n\r\n\t@state()\r\n\tprivate _readOnlyCultures: Array<string | null> = [];\r\n\r\n\t@state()\r\n\tprivate _variesByCulture = false;\r\n\r\n\t@state()\r\n\tprivate _variesBySegment = false;\r\n\r\n\t@state()\r\n\tprivate _expandedVariants: Array<UmbVariantId> = [];\r\n\r\n\t@state()\r\n\tprivate _labelDefault = '';\r\n\r\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n\tprotected _variantSorter = (a: VariantOptionModelType, b: VariantOptionModelType) => {\r\n\t\treturn 0;\r\n\t};\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis._labelDefault = this.localize.term('general_default');\r\n\r\n\t\tthis.consumeContext(UMB_WORKSPACE_SPLIT_VIEW_CONTEXT, (instance) => {\r\n\t\t\tthis.#splitViewContext = instance;\r\n\r\n\t\t\tconst workspaceContext = this.#splitViewContext?.getWorkspaceContext();\r\n\r\n\t\t\tthis.#observeVariants(workspaceContext);\r\n\t\t\tthis.#observeActiveVariants(workspaceContext);\r\n\t\t\tthis.#observeCurrentVariant();\r\n\t\t\tthis.#observeReadOnlyGuardRules(workspaceContext);\r\n\r\n\t\t\tthis.observe(\r\n\t\t\t\tworkspaceContext?.variesBySegment,\r\n\t\t\t\t(value) => (this._variesBySegment = value ?? false),\r\n\t\t\t\t'umbObserveVariesBySegment',\r\n\t\t\t);\r\n\r\n\t\t\tthis.observe(\r\n\t\t\t\tworkspaceContext?.variesByCulture,\r\n\t\t\t\t(value) => (this._variesByCulture = value ?? false),\r\n\t\t\t\t'umbObserveVariesByCulture',\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tthis.consumeContext(UMB_PROPERTY_DATASET_CONTEXT, (instance) => {\r\n\t\t\tthis.#datasetContext = instance;\r\n\t\t\tthis.#observeDatasetContext();\r\n\t\t\tthis.#observeCurrentVariant();\r\n\t\t});\r\n\t}\r\n\r\n\tasync #observeVariants(workspaceContext?: UmbVariantDatasetWorkspaceContext) {\r\n\t\tthis.observe(\r\n\t\t\tworkspaceContext?.variantOptions,\r\n\t\t\t(variantOptions) => {\r\n\t\t\t\tthis._variantOptions = ((variantOptions ?? []) as VariantOptionModelType[]).sort(this._variantSorter);\r\n\t\t\t\tthis._cultureVariantOptions = this._variantOptions.filter((variant) => variant.segment === null);\r\n\t\t\t\tthis.#setReadOnlyCultures(workspaceContext);\r\n\t\t\t},\r\n\t\t\t'_observeVariantOptions',\r\n\t\t);\r\n\t}\r\n\r\n\tasync #observeActiveVariants(workspaceContext?: UmbVariantDatasetWorkspaceContext) {\r\n\t\tthis.observe(\r\n\t\t\tworkspaceContext?.splitView.activeVariantsInfo,\r\n\t\t\t(activeVariants) => {\r\n\t\t\t\tif (activeVariants) {\r\n\t\t\t\t\tthis._activeVariants = activeVariants.map((variant) => UmbVariantId.Create(variant));\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'_observeActiveVariants',\r\n\t\t);\r\n\t}\r\n\r\n\tasync #observeDatasetContext() {\r\n\t\tif (!this.#datasetContext) return;\r\n\t\tthis.observe(\r\n\t\t\tthis.#datasetContext.name,\r\n\t\t\t(name) => {\r\n\t\t\t\tthis._name = name;\r\n\t\t\t},\r\n\t\t\t'_name',\r\n\t\t);\r\n\t}\r\n\r\n\tasync #observeCurrentVariant() {\r\n\t\tif (!this.#datasetContext || !this.#splitViewContext) return;\r\n\t\tconst workspaceContext =\r\n\t\t\tthis.#splitViewContext.getWorkspaceContext() as unknown as UmbVariantDatasetWorkspaceContext;\r\n\t\tif (!workspaceContext) return;\r\n\r\n\t\tthis._variantId = this.#datasetContext.getVariantId();\r\n\r\n\t\tthis.observe(\r\n\t\t\tworkspaceContext.variantOptions,\r\n\t\t\t(options) => {\r\n\t\t\t\tconst option = options.find(\r\n\t\t\t\t\t(option) => option.culture === this._variantId?.culture && option.segment === this._variantId?.segment,\r\n\t\t\t\t);\r\n\t\t\t\tthis._activeVariant = option as VariantOptionModelType;\r\n\t\t\t},\r\n\t\t\t'umbObserveActiveVariant',\r\n\t\t);\r\n\t}\r\n\r\n\t#observeReadOnlyGuardRules(workspaceContext?: UmbVariantDatasetWorkspaceContext) {\r\n\t\tthis.observe(\r\n\t\t\tworkspaceContext?.readOnlyGuard.rules,\r\n\t\t\t() => this.#setReadOnlyCultures(workspaceContext),\r\n\t\t\t'umbObserveReadOnlyGuardRules',\r\n\t\t);\r\n\t}\r\n\r\n\t#handleInput(event: UUIInputEvent) {\r\n\t\tif (event instanceof UUIInputEvent) {\r\n\t\t\tconst target = event.composedPath()[0] as UUIInputElement;\r\n\r\n\t\t\tif (\r\n\t\t\t\ttypeof target?.value === 'string' &&\r\n\t\t\t\tthis.#datasetContext &&\r\n\t\t\t\tisNameablePropertyDatasetContext(this.#datasetContext)\r\n\t\t\t) {\r\n\t\t\t\tthis.#datasetContext.setName(target.value);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t#switchVariant(variant: VariantOptionModelType) {\r\n\t\tthis.#splitViewContext?.switchVariant(UmbVariantId.Create(variant));\r\n\t}\r\n\r\n\t#openSplitView(variant: VariantOptionModelType) {\r\n\t\tthis.#splitViewContext?.openSplitView(UmbVariantId.Create(variant));\r\n\t}\r\n\r\n\t#closeSplitView() {\r\n\t\tthis.#splitViewContext?.closeSplitView();\r\n\t}\r\n\r\n\t#isVariantActive(variantId: UmbVariantId) {\r\n\t\treturn this._activeVariants.find((activeVariantId) => activeVariantId.equal(variantId)) !== undefined;\r\n\t}\r\n\r\n\t#isCreateMode(variantOption: VariantOptionModelType, variantId: UmbVariantId) {\r\n\t\treturn !variantOption.variant && !this.#isVariantActive(variantId);\r\n\t}\r\n\r\n\t#selectorIsEnabled() {\r\n\t\t// only varies by segment\r\n\t\tif (!this._variesByCulture && this._variesBySegment) {\r\n\t\t\treturn (\r\n\t\t\t\tthis._cultureVariantOptions.length > 1 ||\r\n\t\t\t\t(this._variantOptions.length > 1 && this._variantOptions[0].variant?.state)\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn this._variantOptions.length > 1;\r\n\t}\r\n\r\n\t#setReadOnlyCultures(workspaceContext?: UmbVariantDatasetWorkspaceContext) {\r\n\t\tif (workspaceContext) {\r\n\t\t\tthis._readOnlyCultures = this._variantOptions\r\n\t\t\t\t.filter((variant) => workspaceContext.readOnlyGuard.getIsPermittedForVariant(UmbVariantId.Create(variant)))\r\n\t\t\t\t.map((variant) => variant.culture);\r\n\t\t} else {\r\n\t\t\tthis._readOnlyCultures = [];\r\n\t\t}\r\n\t}\r\n\r\n\t#onPopoverToggle(event: ToggleEvent) {\r\n\t\t// TODO: This ignorer is just needed for JSON SCHEMA TO WORK, As its not updated with latest TS jet.\r\n\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n\t\t// @ts-ignore\r\n\t\tthis._variantSelectorOpen = event.newState === 'open';\r\n\r\n\t\tif (!this._popoverElement) return;\r\n\r\n\t\t// TODO: This ignorer is just needed for JSON SCHEMA TO WORK, As its not updated with latest TS jet.\r\n\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n\t\t// @ts-ignore\r\n\t\tconst isOpen = event.newState === 'open';\r\n\t\tif (!isOpen) return;\r\n\r\n\t\tconst host = this.getBoundingClientRect();\r\n\t\t// TODO: Ideally this is kept updated while open, but for now we just set it once:\r\n\t\tthis._popoverElement.style.width = `${host.width}px`;\r\n\r\n\t\t// If the active variant is a segment then we expend the culture variant when the selector is opened.\r\n\t\tif (this.#isSegmentVariantOption(this._activeVariant)) {\r\n\t\t\tconst culture = this._cultureVariantOptions.find((variant) => {\r\n\t\t\t\treturn variant.culture === this._activeVariant?.culture && variant.segment === null;\r\n\t\t\t});\r\n\r\n\t\t\tif (!culture) return;\r\n\t\t\tconst variantId = UmbVariantId.Create(culture);\r\n\t\t\tthis.#expandVariant(variantId);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Focuses the input element after a short delay to ensure it is rendered.\r\n\t * This works better than the {umbFocus()} directive, which does not work in this context.\r\n\t * @param {Element} element â€“ The element to focus.\r\n\t */\r\n\t#focusInput(element?: Element) {\r\n\t\tif (!element) return;\r\n\r\n\t\tsetTimeout(async () => {\r\n\t\t\tawait this.updateComplete;\r\n\t\t\t(element as UUIInputElement)?.focus();\r\n\t\t}, 200);\r\n\t}\r\n\r\n\t#isReadOnlyCulture(culture: string | null) {\r\n\t\treturn this._readOnlyCultures.includes(culture);\r\n\t}\r\n\r\n\t#isSegmentVariantOption(variantOption: VariantOptionModelType | undefined) {\r\n\t\treturn variantOption?.segment !== null;\r\n\t}\r\n\r\n\t#onVariantExpandClick(event: PointerEvent, variantId: UmbVariantId) {\r\n\t\tevent.stopPropagation();\r\n\t\tthis.#toggleVariantExpansion(variantId);\r\n\t}\r\n\r\n\t#expandVariant(variantId: UmbVariantId) {\r\n\t\tif (this.#isVariantExpanded(variantId)) return;\r\n\t\tthis._expandedVariants = [...this._expandedVariants, variantId];\r\n\t}\r\n\r\n\t#toggleVariantExpansion(variantId: UmbVariantId) {\r\n\t\tthis._expandedVariants = this.#isVariantExpanded(variantId)\r\n\t\t\t? this._expandedVariants.filter((expandedVariant) => expandedVariant.equal(variantId) === false)\r\n\t\t\t: [...this._expandedVariants, variantId];\r\n\t}\r\n\r\n\t#isVariantExpanded(variantId: UmbVariantId) {\r\n\t\treturn this._expandedVariants.find((expandedVariant) => expandedVariant.equal(variantId)) !== undefined;\r\n\t}\r\n\r\n\t#getSegmentVariantOptionsForCulture(\r\n\t\tvariantOption: VariantOptionModelType,\r\n\t\tvariantId: UmbVariantId,\r\n\t): Array<VariantOptionModelType> {\r\n\t\tconst segmentVariants = this._variantOptions.filter(\r\n\t\t\t(variant) => variant.culture === variantId.culture && variant.segment !== null,\r\n\t\t);\r\n\t\treturn variantOption.variant ? segmentVariants : [];\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tif (!this._variantId) return nothing;\r\n\r\n\t\treturn html`\r\n\t\t\t<uui-input\r\n\t\t\t\tid=\"name-input\"\r\n\t\t\t\tdata-mark=\"input:entity-name\"\r\n\t\t\t\tplaceholder=${this.localize.term('placeholders_entername')}\r\n\t\t\t\tlabel=${this.localize.term('placeholders_entername')}\r\n\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t.value=${this.#getNameValue()}\r\n\t\t\t\t@input=${this.#handleInput}\r\n\t\t\t\trequired\r\n\t\t\t\t?readonly=${this.#isReadOnlyCulture(this._activeVariant?.culture ?? null) ||\r\n\t\t\t\tthis.#isSegmentVariantOption(this._activeVariant)}\r\n\t\t\t\t${umbBindToValidation(this, `$.variants[${UmbDataPathVariantQuery(this._variantId)}].name`, this._name ?? '')}\r\n\t\t\t\t${ref(this.#focusInput)}>\r\n\t\t\t\t${this.#selectorIsEnabled()\r\n\t\t\t\t\t? html`\r\n\t\t\t\t\t\t\t<uui-button\r\n\t\t\t\t\t\t\t\tid=\"toggle\"\r\n\t\t\t\t\t\t\t\tcompact\r\n\t\t\t\t\t\t\t\tslot=\"append\"\r\n\t\t\t\t\t\t\t\tpopovertarget=\"popover\"\r\n\t\t\t\t\t\t\t\ttitle=${this.#getVariantSpecInfo(this._activeVariant)}\r\n\t\t\t\t\t\t\t\tlabel=\"Select a variant\">\r\n\t\t\t\t\t\t\t\t${this.#getVariantSpecInfo(this._activeVariant)}\r\n\t\t\t\t\t\t\t\t${this.#renderReadOnlyTag(this._activeVariant?.culture)}\r\n\t\t\t\t\t\t\t\t<uui-symbol-expand .open=${this._variantSelectorOpen}></uui-symbol-expand>\r\n\t\t\t\t\t\t\t</uui-button>\r\n\t\t\t\t\t\t\t${this._activeVariants.length > 1\r\n\t\t\t\t\t\t\t\t? html`\r\n\t\t\t\t\t\t\t\t\t\t<uui-button slot=\"append\" compact id=\"variant-close\" @click=${this.#closeSplitView}>\r\n\t\t\t\t\t\t\t\t\t\t\t<uui-icon name=\"remove\"></uui-icon>\r\n\t\t\t\t\t\t\t\t\t\t</uui-button>\r\n\t\t\t\t\t\t\t\t\t`\r\n\t\t\t\t\t\t\t\t: ''}\r\n\t\t\t\t\t\t`\r\n\t\t\t\t\t: html`<span id=\"read-only-tag\" slot=\"append\"> ${this.#renderReadOnlyTag(null)} </span>`}\r\n\t\t\t</uui-input>\r\n\r\n\t\t\t${this.#selectorIsEnabled()\r\n\t\t\t\t? html`\r\n\t\t\t\t\t\t<uui-popover-container id=\"popover\" @beforetoggle=${this.#onPopoverToggle} placement=\"bottom-end\">\r\n\t\t\t\t\t\t\t<div id=\"dropdown\">\r\n\t\t\t\t\t\t\t\t<uui-scroll-container>\r\n\t\t\t\t\t\t\t\t\t${this._cultureVariantOptions.map((variant) => this.#renderCultureVariantOption(variant))}\r\n\t\t\t\t\t\t\t\t</uui-scroll-container>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</uui-popover-container>\r\n\t\t\t\t\t`\r\n\t\t\t\t: nothing}\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderCultureVariantOption(variantOption: VariantOptionModelType) {\r\n\t\tconst variantId = UmbVariantId.Create(variantOption);\r\n\t\tconst notCreated = this.#isCreateMode(variantOption, variantId);\r\n\t\tconst subVariantOptions = this.#getSegmentVariantOptionsForCulture(variantOption, variantId);\r\n\t\treturn html`\r\n\t\t\t<div class=\"variant culture-variant ${this.#isVariantActive(variantId) ? 'selected' : ''}\">\r\n\t\t\t\t${this._variesBySegment && this.#isCreated(variantOption) && subVariantOptions.length > 0\r\n\t\t\t\t\t? html`<div class=\"expand-area\">${this.#renderExpandToggle(variantId)}</div>`\r\n\t\t\t\t\t: nothing}\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\"switch-button ${notCreated ? 'add-mode' : ''} ${this.#isReadOnlyCulture(variantId.culture)\r\n\t\t\t\t\t\t? 'readonly-mode'\r\n\t\t\t\t\t\t: ''}\"\r\n\t\t\t\t\t@click=${() => this.#switchVariant(variantOption)}>\r\n\t\t\t\t\t${notCreated ? html`<uui-icon class=\"add-icon\" name=\"icon-add\"></uui-icon>` : nothing}\r\n\t\t\t\t\t<div class=\"variant-info\">\r\n\t\t\t\t\t\t<div class=\"variant-name\">\r\n\t\t\t\t\t\t\t${this.#getVariantDisplayName(variantOption)}${this.#renderReadOnlyTag(variantId.culture)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"variant-details\">\r\n\t\t\t\t\t\t\t<span>${this._renderVariantDetails(variantOption)}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"specs-info\">${this.#getVariantSpecInfo(variantOption)}</div>\r\n\t\t\t\t</button>\r\n\t\t\t\t${this.#renderSplitViewButton(variantOption)}\r\n\t\t\t</div>\r\n\t\t\t${this.#isVariantExpanded(variantId)\r\n\t\t\t\t? html` ${subVariantOptions.map((option) => this.#renderSegmentVariantOption(option))} `\r\n\t\t\t\t: nothing}\r\n\t\t`;\r\n\t}\r\n\r\n\t#isCreated(variantOption: VariantOptionModelType) {\r\n\t\treturn (\r\n\t\t\tvariantOption.variant?.state &&\r\n\t\t\tvariantOption.variant?.state !== ('NotCreated' as DocumentVariantStateModel.NOT_CREATED)\r\n\t\t);\r\n\t}\r\n\r\n\t#renderExpandToggle(variantId: UmbVariantId) {\r\n\t\treturn html`\r\n\t\t\t<uui-button @click=${(event: PointerEvent) => this.#onVariantExpandClick(event, variantId)} compact>\r\n\t\t\t\t<uui-symbol-expand .open=${this.#isVariantExpanded(variantId)}></uui-symbol-expand>\r\n\t\t\t</uui-button>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderSegmentVariantOption(variantOption: VariantOptionModelType) {\r\n\t\tconst variantId = UmbVariantId.Create(variantOption);\r\n\t\tconst notCreated = this.#isCreateMode(variantOption, variantId);\r\n\r\n\t\treturn html`\r\n\t\t\t<div class=\"variant segment-variant ${this.#isVariantActive(variantId) ? 'selected' : ''}\">\r\n\t\t\t\t${notCreated ? nothing : html`<div class=\"expand-area\"></div>`}\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\"switch-button ${notCreated ? 'add-mode' : ''} ${this.#isReadOnlyCulture(variantId.culture)\r\n\t\t\t\t\t\t? 'readonly-mode'\r\n\t\t\t\t\t\t: ''}\"\r\n\t\t\t\t\t@click=${() => this.#switchVariant(variantOption)}>\r\n\t\t\t\t\t${notCreated ? html`<uui-icon class=\"add-icon\" name=\"icon-add\"></uui-icon>` : nothing}\r\n\t\t\t\t\t<div class=\"variant-info\">\r\n\t\t\t\t\t\t<div class=\"variant-name\">\r\n\t\t\t\t\t\t\t${this.#getVariantDisplayName(variantOption)}${this.#renderReadOnlyTag(variantId.culture)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"variant-details\">\r\n\t\t\t\t\t\t\t<span>${this._renderVariantDetails(variantOption)}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"specs-info\">${this.#getVariantSpecInfo(variantOption)}</div>\r\n\t\t\t\t</button>\r\n\t\t\t\t${this.#renderSplitViewButton(variantOption)}\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t#getNameValue() {\r\n\t\t// It is currently not possible to edit the name of a segment variant option. We render the name of the segment instead and set the input to readonly.\r\n\t\tconst segmentName =\r\n\t\t\tthis.#isSegmentVariantOption(this._activeVariant) && this._activeVariant?.segmentInfo?.name\r\n\t\t\t\t? this._activeVariant.segmentInfo.name\r\n\t\t\t\t: '';\r\n\t\treturn segmentName !== '' ? segmentName : (this._name ?? '');\r\n\t}\r\n\r\n\t#getVariantDisplayName(variantOption: VariantOptionModelType) {\r\n\t\tif (this.#isSegmentVariantOption(variantOption)) {\r\n\t\t\treturn variantOption?.segmentInfo?.name ?? this._labelDefault;\r\n\t\t}\r\n\r\n\t\treturn variantOption.variant?.name ?? variantOption.language.name;\r\n\t}\r\n\r\n\t#getVariantSpecInfo(variantOption: VariantOptionModelType | undefined) {\r\n\t\tif (!variantOption) {\r\n\t\t\treturn '';\r\n\t\t}\r\n\r\n\t\t// If we vary by culture and segment, we show both\r\n\t\tif (this._variesByCulture && this._variesBySegment) {\r\n\t\t\treturn variantOption.segmentInfo\r\n\t\t\t\t? `${variantOption.language.name} - ${variantOption.segmentInfo.name}`\r\n\t\t\t\t: variantOption.language.name || this._labelDefault;\r\n\t\t}\r\n\r\n\t\t// If we vary by segment only, we only show the segment and show \"Default\" for the language\r\n\t\tif (!this._variesByCulture && this._variesBySegment) {\r\n\t\t\treturn variantOption?.segmentInfo?.name ?? this._labelDefault;\r\n\t\t}\r\n\r\n\t\treturn variantOption.language.name;\r\n\t}\r\n\r\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n\tprotected _renderVariantDetails(variantOption: VariantOptionModelType) {\r\n\t\treturn html``;\r\n\t}\r\n\r\n\t#renderReadOnlyTag(culture?: string | null) {\r\n\t\tif (culture === undefined) return nothing;\r\n\t\treturn this.#isReadOnlyCulture(culture)\r\n\t\t\t? html`<uui-tag look=\"secondary\">${this.localize.term('general_readOnly')}</uui-tag>`\r\n\t\t\t: nothing;\r\n\t}\r\n\r\n\t#renderSplitViewButton(variant: VariantOptionModelType) {\r\n\t\tconst variantId = UmbVariantId.Create(variant);\r\n\t\treturn html`\r\n\t\t\t${this.#isVariantActive(variantId)\r\n\t\t\t\t? nothing\r\n\t\t\t\t: html`\r\n\t\t\t\t\t\t<uui-button\r\n\t\t\t\t\t\t\tclass=\"split-view\"\r\n\t\t\t\t\t\t\tlabel=\"Open Split view for ${variant.language.name}\"\r\n\t\t\t\t\t\t\t@click=${() => this.#openSplitView(variant)}>\r\n\t\t\t\t\t\t\tOpen in Split view\r\n\t\t\t\t\t\t</uui-button>\r\n\t\t\t\t\t`}\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t#name-input {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t#toggle {\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t}\r\n\r\n\t\t\t#popover {\r\n\t\t\t\ttranslate: 1px; /* Fixes tiny alignment issue caused by border */\r\n\t\t\t}\r\n\r\n\t\t\t#dropdown {\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tz-index: -1;\r\n\t\t\t\tbackground-color: var(--uui-combobox-popover-background-color, var(--uui-color-surface));\r\n\t\t\t\tborder: 1px solid var(--uui-color-border);\r\n\t\t\t\tborder-radius: var(--uui-border-radius);\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: auto;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tbox-shadow: var(--uui-shadow-depth-3);\r\n\t\t\t}\r\n\r\n\t\t\t#variant-close {\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t}\r\n\r\n\t\t\t#read-only-tag {\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t}\r\n\r\n\t\t\tuui-scroll-container {\r\n\t\t\t\tmax-height: 50dvh;\r\n\t\t\t}\r\n\r\n\t\t\t.variant {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tborder-top: 1px solid var(--uui-color-divider-standalone);\r\n\t\t\t}\r\n\r\n\t\t\t.expand-area {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\twidth: var(--uui-size-12);\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t}\r\n\r\n\t\t\t.expand-area uui-button {\r\n\t\t\t\theight: 100%;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\r\n\t\t\tuui-symbol-expand {\r\n\t\t\t\tbackground: none;\r\n\t\t\t}\r\n\r\n\t\t\t.variant:hover > .split-view {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t}\r\n\r\n\t\t\t.variant:nth-last-of-type(1) {\r\n\t\t\t\tmargin-bottom: 0;\r\n\t\t\t}\r\n\r\n\t\t\t.variant.selected:before {\r\n\t\t\t\tbackground-color: var(--uui-color-current);\r\n\t\t\t\tborder-radius: 0 4px 4px 0;\r\n\t\t\t\tbottom: 8px;\r\n\t\t\t\tcontent: '';\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tpointer-events: none;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 8px;\r\n\t\t\t\twidth: 4px;\r\n\t\t\t\tz-index: 1;\r\n\t\t\t}\r\n\r\n\t\t\t.switch-button {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tborder: none;\r\n\t\t\t\tbackground: transparent;\r\n\t\t\t\tcolor: var(--uui-color-current-contrast);\r\n\t\t\t\tpadding: var(--uui-size-space-2) var(--uui-size-space-6);\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\ttext-align: left;\r\n\t\t\t\tfont-size: 14px;\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t}\r\n\r\n\t\t\t.expand-area + .switch-button {\r\n\t\t\t\tpadding-left: var(--uui-size-space-3);\r\n\t\t\t}\r\n\r\n\t\t\t.segment-variant > .switch-button {\r\n\t\t\t\tpadding-left: var(--uui-size-space-6);\r\n\t\t\t}\r\n\r\n\t\t\t.switch-button:hover {\r\n\t\t\t\tbackground: var(--uui-color-surface-emphasis);\r\n\t\t\t\tcolor: var(--uui-color-interactive-emphasis);\r\n\t\t\t}\r\n\t\t\t.switch-button .variant-info {\r\n\t\t\t\tflex-grow: 1;\r\n\t\t\t}\r\n\r\n\t\t\t.switch-button .variant-details {\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tfont-weight: normal;\r\n\t\t\t}\r\n\t\t\t.switch-button .variant-details {\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tfont-weight: normal;\r\n\t\t\t}\r\n\t\t\t.switch-button.add-mode .variant-details {\r\n\t\t\t\tcolor: var(--uui-palette-dusty-grey-dark);\r\n\t\t\t}\r\n\r\n\t\t\t.switch-button .specs-info {\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tfont-weight: normal;\r\n\t\t\t}\r\n\t\t\t.switch-button.add-mode .specs-info {\r\n\t\t\t\tcolor: var(--uui-palette-dusty-grey-dark);\r\n\t\t\t}\r\n\r\n\t\t\t.switch-button i {\r\n\t\t\t\tfont-weight: normal;\r\n\t\t\t}\r\n\r\n\t\t\t.switch-button.add-mode {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tcolor: var(--uui-palette-dusty-grey-dark);\r\n\t\t\t}\r\n\r\n\t\t\t.switch-button.add-mode:after {\r\n\t\t\t\tborder: 1px dashed var(--uui-color-divider-standalone);\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\tcontent: '';\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tmargin: 2px;\r\n\t\t\t\tpointer-events: none;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tright: 0;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tz-index: 1;\r\n\t\t\t}\r\n\r\n\t\t\t.switch-button .variant-name {\r\n\t\t\t\tmargin-bottom: var(--uui-size-space-1);\r\n\t\t\t}\r\n\r\n\t\t\t.switch-button.readonly-mode .variant-name {\r\n\t\t\t\tmargin-bottom: calc(var(--uui-size-space-1) * -1);\r\n\t\t\t}\r\n\r\n\t\t\t.add-icon {\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tmargin-right: 21px;\r\n\t\t\t}\r\n\r\n\t\t\t.split-view {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tright: 0;\r\n\t\t\t\tbottom: 1px;\r\n\t\t\t\tdisplay: none;\r\n\t\t\t\tbackground-color: var(--uui-color-surface);\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tfont-weight: 700;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-workspace-split-view-variant-selector': UmbWorkspaceSplitViewVariantSelectorElement;\r\n\t}\r\n}\r\n","import { UmbWorkspaceSplitViewContext } from './workspace-split-view.context.js';\r\nimport {\r\n\tcss,\r\n\thtml,\r\n\tcustomElement,\r\n\tproperty,\r\n\tifDefined,\r\n\tstate,\r\n\twhen,\r\n\tnothing,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\n\r\n// import local components\r\nimport './workspace-split-view-variant-selector.element.js';\r\n\r\n/**\r\n *\r\n * Example. Document Workspace would use a Variant-component(variant component would talk directly to the workspace-context)\r\n * As well breadcrumbs etc.\r\n *\r\n */\r\n@customElement('umb-workspace-split-view')\r\nexport class UmbWorkspaceSplitViewElement extends UmbLitElement {\r\n\t@property({ type: Boolean })\r\n\tdisplayNavigation = false;\r\n\r\n\t@property({ attribute: 'back-path' })\r\n\tpublic backPath?: string;\r\n\r\n\t@property({ type: Number })\r\n\tpublic set splitViewIndex(index: number) {\r\n\t\tthis.splitViewContext.setSplitViewIndex(index);\r\n\t}\r\n\tpublic get splitViewIndex(): number {\r\n\t\treturn this.splitViewContext.getSplitViewIndex()!;\r\n\t}\r\n\r\n\t@state()\r\n\tprivate _variantSelectorSlotHasContent = false;\r\n\r\n\t@state()\r\n\tprivate _isNew = false;\r\n\r\n\tsplitViewContext = new UmbWorkspaceSplitViewContext(this);\r\n\r\n\t#onVariantSelectorSlotChanged(e: Event) {\r\n\t\tthis._variantSelectorSlotHasContent = (e.target as HTMLSlotElement).assignedNodes({ flatten: true }).length > 0;\r\n\t}\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.observe(\r\n\t\t\tthis.splitViewContext.isNew,\r\n\t\t\t(isNew) => {\r\n\t\t\t\tthis._isNew = isNew ?? false;\r\n\t\t\t},\r\n\t\t\t'umbObserveIsNew',\r\n\t\t);\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-workspace-editor\r\n\t\t\t\tback-path=${ifDefined(this.backPath)}\r\n\t\t\t\t.hideNavigation=${!this.displayNavigation}\r\n\t\t\t\t.enforceNoFooter=${true}>\r\n\t\t\t\t<slot id=\"icon\" name=\"icon\" slot=\"header\"></slot>\r\n\t\t\t\t<slot id=\"header\" name=\"variant-selector\" slot=\"header\" @slotchange=${this.#onVariantSelectorSlotChanged}>\r\n\t\t\t\t\t${when(\r\n\t\t\t\t\t\t!this._variantSelectorSlotHasContent,\r\n\t\t\t\t\t\t() => html`<umb-workspace-split-view-variant-selector></umb-workspace-split-view-variant-selector>`,\r\n\t\t\t\t\t)}\r\n\t\t\t\t</slot>\r\n\t\t\t\t${this.#renderEntityActions()}\r\n\t\t\t\t<slot name=\"action-menu\" slot=\"action-menu\"></slot>\r\n\t\t\t</umb-workspace-editor>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderEntityActions() {\r\n\t\tif (this._isNew) return nothing;\r\n\t\tif (!this.displayNavigation) return nothing;\r\n\r\n\t\treturn html`<umb-workspace-entity-action-menu\r\n\t\t\tslot=\"action-menu\"\r\n\t\t\tdata-mark=\"workspace:action-menu\"></umb-workspace-entity-action-menu>`;\r\n\t}\r\n\r\n\tstatic override readonly styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tmin-width: 0;\r\n\t\t\t}\r\n\r\n\t\t\t:host(:not(:last-child)) {\r\n\t\t\t\tborder-right: 1px solid var(--uui-color-border);\r\n\t\t\t}\r\n\r\n\t\t\t#header {\r\n\t\t\t\tflex: 1 1 auto;\r\n\t\t\t\tdisplay: block;\r\n\t\t\t}\r\n\r\n\t\t\t#icon {\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tfont-size: var(--uui-size-6);\r\n\t\t\t\tmargin-right: var(--uui-size-space-4);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbWorkspaceSplitViewElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-workspace-split-view': UmbWorkspaceSplitViewElement;\r\n\t}\r\n}\r\n","import { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { css, html, customElement, property } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\n\r\n@customElement('umb-entity-detail-forbidden')\r\nexport class UmbEntityDetailForbiddenElement extends UmbLitElement {\r\n\t@property({ type: String, attribute: 'entity-type' })\r\n\tentityType = '';\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<div class=\"uui-text\">\r\n\t\t\t\t<h4>${this.localize.term('entityDetail_forbiddenTitle', this.entityType)}</h4>\r\n\t\t\t\t${this.localize.term('entityDetail_forbiddenDescription', this.entityType)}\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tmin-width: 0;\r\n\t\t\t}\r\n\r\n\t\t\t:host > div {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t@keyframes fadeIn {\r\n\t\t\t\t100% {\r\n\t\t\t\t\topacity: 100%;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-entity-detail-forbidden': UmbEntityDetailForbiddenElement;\r\n\t}\r\n}\r\n","import { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { css, html, customElement, property } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\n\r\n@customElement('umb-entity-detail-not-found')\r\nexport class UmbEntityDetailNotFoundElement extends UmbLitElement {\r\n\t@property({ type: String, attribute: 'entity-type' })\r\n\tentityType = '';\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<div class=\"uui-text\">\r\n\t\t\t\t<h4>${this.localize.term('entityDetail_notFoundTitle', this.entityType)}</h4>\r\n\t\t\t\t${this.localize.term('entityDetail_notFoundDescription', this.entityType)}\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tmin-width: 0;\r\n\t\t\t}\r\n\r\n\t\t\t:host > div {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t@keyframes fadeIn {\r\n\t\t\t\t100% {\r\n\t\t\t\t\topacity: 100%;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-entity-detail-not-found': UmbEntityDetailNotFoundElement;\r\n\t}\r\n}\r\n","import type { UmbWorkspaceContext } from '../workspace-context.interface.js';\r\nimport type { UmbEntityDetailWorkspaceContextBase } from './entity-detail-workspace-base.js';\r\nimport { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\n\r\nexport const UMB_ENTITY_DETAIL_WORKSPACE_CONTEXT = new UmbContextToken<\r\n\tUmbWorkspaceContext,\r\n\tUmbEntityDetailWorkspaceContextBase\r\n>(\r\n\t'UmbWorkspaceContext',\r\n\tundefined,\r\n\t(context): context is UmbEntityDetailWorkspaceContextBase =>\r\n\t\t(context as UmbEntityDetailWorkspaceContextBase).IS_ENTITY_DETAIL_WORKSPACE_CONTEXT,\r\n);\r\n","import { UMB_ENTITY_DETAIL_WORKSPACE_CONTEXT } from '../entity-detail-workspace.context-token.js';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { css, customElement, html, ifDefined, nothing, property, state } from '@umbraco-cms/backoffice/external/lit';\r\n\r\n@customElement('umb-entity-detail-workspace-editor')\r\nexport class UmbEntityDetailWorkspaceEditorElement extends UmbLitElement {\r\n\t@property({ attribute: 'back-path' })\r\n\tpublic backPath?: string;\r\n\r\n\t@state()\r\n\tprivate _entityType?: string;\r\n\r\n\t@state()\r\n\tprivate _isLoading = false;\r\n\r\n\t@state()\r\n\tprivate _isForbidden = false;\r\n\r\n\t@state()\r\n\tprivate _exists = false;\r\n\r\n\t@state()\r\n\tprivate _isNew? = false;\r\n\r\n\t#context?: typeof UMB_ENTITY_DETAIL_WORKSPACE_CONTEXT.TYPE;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_ENTITY_DETAIL_WORKSPACE_CONTEXT, (context) => {\r\n\t\t\tthis.#context = context;\r\n\t\t\tthis.observe(this.#context?.entityType, (entityType) => (this._entityType = entityType));\r\n\t\t\tthis.observe(this.#context?.loading.isOn, (isLoading) => (this._isLoading = isLoading ?? false));\r\n\t\t\tthis.observe(this.#context?.forbidden.isOn, (isForbidden) => (this._isForbidden = isForbidden ?? false));\r\n\t\t\tthis.observe(this.#context?.data, (data) => (this._exists = !!data));\r\n\t\t\tthis.observe(this.#context?.isNew, (isNew) => (this._isNew = isNew));\r\n\t\t});\r\n\t}\r\n\r\n\t#renderForbidden() {\r\n\t\tif (!this._isLoading && this._isForbidden) {\r\n\t\t\treturn html`<umb-entity-detail-forbidden\r\n\t\t\t\tentity-type=${ifDefined(this._entityType)}></umb-entity-detail-forbidden>`;\r\n\t\t}\r\n\t\treturn nothing;\r\n\t}\r\n\r\n\t#renderNotFound() {\r\n\t\tif (!this._isLoading && !this._exists) {\r\n\t\t\treturn html`<umb-entity-detail-not-found\r\n\t\t\t\tentity-type=${ifDefined(this._entityType)}></umb-entity-detail-not-found>`;\r\n\t\t}\r\n\t\treturn nothing;\r\n\t}\r\n\r\n\tprotected override render() {\r\n\t\treturn html` ${this.#renderForbidden()} ${this.#renderNotFound()}\r\n\r\n\t\t\t<!-- TODO: It is currently on purpose that the workspace editor is always in the DOM, even when it doesn't have data.\r\n\t\t\t We currently rely on the entity actions to be available to execute, and we ran into an issue when the entity got deleted; then the DOM got cleared, and the delete action couldn't complete.\r\n\t\t\t We need to look into loading the entity actions in the workspace context instead so we don't rely on the DOM.\r\n\t\t -->\r\n\t\t\t<umb-workspace-editor\r\n\t\t\t\t?loading=${this._isLoading}\r\n\t\t\t\t.backPath=${this.backPath}\r\n\t\t\t\tclass=\"${this._exists === false ? 'hide' : ''}\">\r\n\t\t\t\t<slot name=\"header\" slot=\"header\"></slot>\r\n\t\t\t\t${this.#renderEntityActions()}\r\n\t\t\t\t<slot></slot>\r\n\t\t\t</umb-workspace-editor>`;\r\n\t}\r\n\r\n\t#renderEntityActions() {\r\n\t\tif (this._isNew) return nothing;\r\n\t\treturn html`<umb-workspace-entity-action-menu\r\n\t\t\tslot=\"action-menu\"\r\n\t\t\tdata-mark=\"workspace:action-menu\"></umb-workspace-entity-action-menu>`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\tumb-workspace-editor {\r\n\t\t\t\tvisibility: visible;\r\n\t\t\t}\r\n\r\n\t\t\tumb-workspace-editor.hide {\r\n\t\t\t\tvisibility: hidden;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-entity-detail-workspace-editor': UmbEntityDetailWorkspaceEditorElement;\r\n\t}\r\n}\r\n","import type { UmbWorkspaceContext } from '../workspace-context.interface.js';\r\nimport type { UmbEntityNamedDetailWorkspaceContextBase } from './entity-named-detail-workspace-base.js';\r\nimport { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\n\r\nexport const UMB_ENTITY_NAMED_DETAIL_WORKSPACE_CONTEXT = new UmbContextToken<\r\n\tUmbWorkspaceContext,\r\n\tUmbEntityNamedDetailWorkspaceContextBase\r\n>(\r\n\t'UmbWorkspaceContext',\r\n\tundefined,\r\n\t(context): context is UmbEntityNamedDetailWorkspaceContextBase =>\r\n\t\t(context as UmbEntityNamedDetailWorkspaceContextBase).IS_ENTITY_NAMED_DETAIL_WORKSPACE_CONTEXT,\r\n);\r\n","import { css, customElement, html, ifDefined, property } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\n\r\n@customElement('umb-workspace-info-app-layout')\r\nexport class UmbWorkspaceInfoAppLayoutElement extends UmbLitElement {\r\n\t@property({ type: String })\r\n\theadline?: string;\r\n\r\n\tprotected override render() {\r\n\t\treturn html`\r\n\t\t\t<uui-box headline=${ifDefined(this.headline ? this.localize.string(this.headline) : undefined)}>\r\n\t\t\t\t<slot name=\"header-actions\" slot=\"header-actions\"></slot>\r\n\t\t\t\t<div id=\"container\">\r\n\t\t\t\t\t<slot></slot>\r\n\t\t\t\t</div>\r\n\t\t\t</uui-box>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\tuui-box {\r\n\t\t\t\t--uui-box-default-padding: 0;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-workspace-info-app-layout': UmbWorkspaceInfoAppLayoutElement;\r\n\t}\r\n}\r\n","import type { UmbWorkspaceModalData } from './workspace-modal.token.js';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport type { CSSResultGroup } from '@umbraco-cms/backoffice/external/lit';\r\nimport { css, html, customElement, property } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\n\r\n@customElement('umb-workspace-modal')\r\nexport class UmbWorkspaceModalElement extends UmbLitElement {\r\n\t@property({ attribute: false })\r\n\tpublic get data(): UmbWorkspaceModalData | undefined {\r\n\t\treturn this._data;\r\n\t}\r\n\tpublic set data(value: UmbWorkspaceModalData | undefined) {\r\n\t\tthis._data = value;\r\n\t\tif (value?.inheritValidationLook) {\r\n\t\t\t// Do nothing.\r\n\t\t} else {\r\n\t\t\tconst elementStyle = this.style;\r\n\t\t\telementStyle.setProperty('--uui-color-invalid', 'var(--uui-color-danger)');\r\n\t\t\telementStyle.setProperty('--uui-color-invalid-emphasis', 'var(--uui-color-danger-emphasis)');\r\n\t\t\telementStyle.setProperty('--uui-color-invalid-standalone', 'var(--uui-color-danger-standalone)');\r\n\t\t\telementStyle.setProperty('--uui-color-invalid-contrast', 'var(--uui-color-danger-contrast)');\r\n\t\t}\r\n\t}\r\n\tprivate _data?: UmbWorkspaceModalData | undefined;\r\n\r\n\t/**\r\n\t * TODO: Consider if this binding and events integration is the right for communicating back the modal handler. Or if we should go with some Context API. like a Modal Context API.\r\n\t *\r\n\t */\r\n\toverride render() {\r\n\t\treturn this.data ? html`<umb-workspace .entityType=${this.data.entityType}></umb-workspace>` : '';\r\n\t}\r\n\r\n\tstatic override styles: CSSResultGroup = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbWorkspaceModalElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-workspace-modal': UmbWorkspaceModalElement;\r\n\t}\r\n}\r\n","import { UmbModalToken } from '@umbraco-cms/backoffice/modal';\r\nexport interface UmbWorkspaceModalData<DataModelType = unknown> {\r\n\tentityType: string;\r\n\tpreset: Partial<DataModelType>;\r\n\tbaseDataPath?: string;\r\n\tinheritValidationLook?: boolean;\r\n}\r\n\r\nexport type UmbWorkspaceModalValue =\r\n\t| {\r\n\t\t\tunique: string;\r\n\t  }\r\n\t| undefined;\r\n\r\nexport const UMB_WORKSPACE_MODAL = new UmbModalToken<UmbWorkspaceModalData, UmbWorkspaceModalValue>(\r\n\t'Umb.Modal.Workspace',\r\n\t{\r\n\t\tmodal: {\r\n\t\t\ttype: 'sidebar',\r\n\t\t\tsize: 'large',\r\n\t\t},\r\n\t},\r\n);\r\n","import { nothing, customElement, property, type PropertyValueMap, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport {\r\n\tUmbExtensionsApiInitializer,\r\n\tUmbExtensionsElementAndApiInitializer,\r\n\ttype UmbApiConstructorArgumentsMethodType,\r\n} from '@umbraco-cms/backoffice/extension-api';\r\nimport { UMB_MARK_ATTRIBUTE_NAME } from '@umbraco-cms/backoffice/const';\r\nimport { umbExtensionsRegistry } from '@umbraco-cms/backoffice/extension-registry';\r\nimport type { ManifestWorkspace } from './extensions/types.js';\r\n\r\nconst apiArgsCreator: UmbApiConstructorArgumentsMethodType<unknown> = (manifest: unknown) => {\r\n\treturn [{ manifest }];\r\n};\r\n\r\n@customElement('umb-workspace')\r\nexport class UmbWorkspaceElement extends UmbLitElement {\r\n\t#extensionsController?: UmbExtensionsElementAndApiInitializer<any>;\r\n\t#entityType?: string;\r\n\r\n\t@state()\r\n\t_component?: HTMLElement;\r\n\r\n\t@property({ type: String, attribute: 'entity-type' })\r\n\tpublic get entityType(): string | undefined {\r\n\t\treturn this.#entityType;\r\n\t}\r\n\tpublic set entityType(value: string) {\r\n\t\tif (value === this.#entityType || !value) return;\r\n\t\tthis.#entityType = value;\r\n\t\tthis.#createController(value);\r\n\t}\r\n\r\n\tprotected override firstUpdated(_changedProperties: PropertyValueMap<any> | Map<PropertyKey, unknown>): void {\r\n\t\tsuper.firstUpdated(_changedProperties);\r\n\t\tthis.setAttribute(UMB_MARK_ATTRIBUTE_NAME, 'workspace');\r\n\t}\r\n\r\n\t#createController(entityType: string) {\r\n\t\tif (this.#extensionsController) {\r\n\t\t\tthis.#extensionsController.destroy();\r\n\t\t}\r\n\t\tthis.#extensionsController = new UmbExtensionsElementAndApiInitializer(\r\n\t\t\tthis,\r\n\t\t\tumbExtensionsRegistry,\r\n\t\t\t'workspace',\r\n\t\t\tapiArgsCreator,\r\n\t\t\t(manifest: ManifestWorkspace) => manifest.meta.entityType === entityType,\r\n\t\t\t(extensionControllers) => {\r\n\t\t\t\tthis._component = extensionControllers[0]?.component;\r\n\t\t\t\tconst api = extensionControllers[0]?.api;\r\n\t\t\t\tif (api) {\r\n\t\t\t\t\t// We create the additional workspace contexts with the Workspace API as its host, to ensure they can use the same Context-Alias with different API-Aliases and still be reached cause they will then be provided at the same host. [NL]\r\n\t\t\t\t\tnew UmbExtensionsApiInitializer(api, umbExtensionsRegistry, 'workspaceContext', [api]);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tundefined, // We can leave the alias to undefined, as we destroy this our selfs.\r\n\t\t\tundefined,\r\n\t\t\t() => import('./kinds/default/default-workspace.context.js'),\r\n\t\t\t{ single: true },\r\n\t\t);\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn this._component ?? nothing;\r\n\t}\r\n}\r\n\r\nexport { UmbWorkspaceElement as element };\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-workspace': UmbWorkspaceElement;\r\n\t}\r\n}\r\n"],"names":["UMB_WORKSPACE_CONTEXT","UmbContextToken","UMB_WORKSPACE_ENTITY_IS_NEW_CONDITION_ALIAS","UMB_WORKSPACE_CONDITION_ALIAS","_UmbWorkspaceActionMenuElement_instances","onPopoverToggle_fn","UmbWorkspaceActionMenuElement","UmbLitElement","__privateAdd","html","__privateMethod","repeat","ext","nothing","event","UmbTextStyles","css","__decorateClass","property","state","customElement","UMB_ENTITY_WORKSPACE_CONTEXT","context","UMB_PUBLISHABLE_WORKSPACE_CONTEXT","UMB_ROUTABLE_WORKSPACE_CONTEXT","UMB_SUBMITTABLE_TREE_ENTITY_WORKSPACE_CONTEXT","UMB_SUBMITTABLE_WORKSPACE_CONTEXT","UMB_SAVEABLE_WORKSPACE_CONTEXT","UMB_VARIANT_WORKSPACE_CONTEXT","UMB_WORKSPACE_PATH_PATTERN","UmbPathPattern","UMB_SECTION_PATH_PATTERN","UMB_WORKSPACE_VIEW_PATH_PATTERN","_UmbWorkspaceEditorElement_instances","renderViews_fn","renderBackButton_fn","renderRoutes_fn","UmbWorkspaceEditorElement","UmbExtensionsManifestInitializer","umbExtensionsRegistry","workspaceViews","view","newRoutes","manifest","createExtensionElement","component","when","index","UmbWorkspaceEntityActionMenuElement","unique","_rejectModal","ExtensionApiArgsMethod","UmbWorkspaceFooterLayoutElement","UMB_MODAL_CONTEXT","__privateGet","UMB_NAMABLE_WORKSPACE_CONTEXT","_workspaceContext","_UmbWorkspaceHeaderNameEditableElement_instances","observeNameWriteGuardRules_fn","observeName_fn","onNameInput_fn","UmbWorkspaceHeaderNameEditableElement","workspaceContext","__privateSet","umbBindToValidation","umbFocus","isPermitted","name","UUIInputEvent","target","UmbWorkspaceSplitViewContext","UmbContextBase","host","UMB_WORKSPACE_SPLIT_VIEW_CONTEXT","#index","UmbNumberState","#isNew","UmbBooleanState","#workspaceContext","#observeIsNew","#variantVariantValidationContext","#datasetContext","isNew","activeVariantInfo","variantId","UmbVariantId","validationContext","UMB_MARK_ATTRIBUTE_NAME","variant","_splitViewContext","_datasetContext","_UmbWorkspaceSplitViewVariantSelectorElement_instances","observeVariants_fn","observeActiveVariants_fn","observeDatasetContext_fn","observeCurrentVariant_fn","observeReadOnlyGuardRules_fn","handleInput_fn","switchVariant_fn","openSplitView_fn","closeSplitView_fn","isVariantActive_fn","isCreateMode_fn","selectorIsEnabled_fn","setReadOnlyCultures_fn","focusInput_fn","isReadOnlyCulture_fn","isSegmentVariantOption_fn","onVariantExpandClick_fn","expandVariant_fn","toggleVariantExpansion_fn","isVariantExpanded_fn","getSegmentVariantOptionsForCulture_fn","renderCultureVariantOption_fn","isCreated_fn","renderExpandToggle_fn","renderSegmentVariantOption_fn","getNameValue_fn","getVariantDisplayName_fn","getVariantSpecInfo_fn","renderReadOnlyTag_fn","renderSplitViewButton_fn","UmbWorkspaceSplitViewVariantSelectorElement","a","b","instance","value","UMB_PROPERTY_DATASET_CONTEXT","UmbDataPathVariantQuery","ref","variantOption","variantOptions","activeVariants","options","option","isNameablePropertyDatasetContext","activeVariantId","culture","element","expandedVariant","segmentVariants","notCreated","subVariantOptions","segmentName","query","_UmbWorkspaceSplitViewElement_instances","onVariantSelectorSlotChanged_fn","renderEntityActions_fn","UmbWorkspaceSplitViewElement","ifDefined","e","UmbEntityDetailForbiddenElement","UmbEntityDetailNotFoundElement","UMB_ENTITY_DETAIL_WORKSPACE_CONTEXT","_context","_UmbEntityDetailWorkspaceEditorElement_instances","renderForbidden_fn","renderNotFound_fn","UmbEntityDetailWorkspaceEditorElement","entityType","isLoading","isForbidden","data","UMB_ENTITY_NAMED_DETAIL_WORKSPACE_CONTEXT","UmbWorkspaceInfoAppLayoutElement","UmbWorkspaceModalElement","elementStyle","UmbWorkspaceModalElement$1","UMB_WORKSPACE_MODAL","UmbModalToken","_extensionsController","_entityType","_UmbWorkspaceElement_instances","createController_fn","apiArgsCreator","UmbWorkspaceElement","_changedProperties","UmbExtensionsElementAndApiInitializer","extensionControllers","api","UmbExtensionsApiInitializer"],"mappings":"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"}