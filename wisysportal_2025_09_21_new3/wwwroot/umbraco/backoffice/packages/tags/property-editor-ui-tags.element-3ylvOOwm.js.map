{"version":3,"file":"property-editor-ui-tags.element-3ylvOOwm.js","sources":["../../../src/packages/tags/property-editors/tags/property-editor-ui-tags.element.ts"],"sourcesContent":["import type { UmbTagsInputElement } from '../../components/tags-input/tags-input.element.js';\r\nimport { UMB_PROPERTY_CONTEXT } from '@umbraco-cms/backoffice/property';\r\nimport { html, customElement, property, state, ifDefined } from '@umbraco-cms/backoffice/external/lit';\r\nimport type {\r\n\tUmbPropertyEditorUiElement,\r\n\tUmbPropertyEditorConfigCollection,\r\n} from '@umbraco-cms/backoffice/property-editor';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\n\r\nimport '../../components/tags-input/tags-input.element.js';\r\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\n\r\n/**\r\n * @element umb-property-editor-ui-tags\r\n */\r\n@customElement('umb-property-editor-ui-tags')\r\nexport class UmbPropertyEditorUITagsElement extends UmbLitElement implements UmbPropertyEditorUiElement {\r\n\tprivate _value: Array<string> = [];\r\n\r\n\t@property({ type: Array })\r\n\tpublic set value(value: Array<string>) {\r\n\t\tthis._value = value || [];\r\n\t}\r\n\tpublic get value(): Array<string> {\r\n\t\treturn this._value;\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the input to readonly mode, meaning value cannot be changed but still able to read and select its content.\r\n\t * @type {boolean}\r\n\t * @attr\r\n\t * @default false\r\n\t */\r\n\t@property({ type: Boolean, reflect: true })\r\n\treadonly = false;\r\n\r\n\t@state()\r\n\tprivate _group?: string;\r\n\r\n\t@state()\r\n\tprivate _storageType?: string;\r\n\r\n\t@state()\r\n\tprivate _culture?: string | null;\r\n\t//TODO: Use type from VariantID\r\n\r\n\tpublic set config(config: UmbPropertyEditorConfigCollection | undefined) {\r\n\t\tthis._group = config?.getValueByAlias('group');\r\n\t\tthis._storageType = config?.getValueByAlias('storageType');\r\n\t}\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_PROPERTY_CONTEXT, (context) => {\r\n\t\t\tthis.observe(context?.variantId, (id) => {\r\n\t\t\t\tif (id && id.culture !== undefined) {\r\n\t\t\t\t\tthis._culture = id.culture;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t#onChange(event: CustomEvent) {\r\n\t\tthis.value = ((event.target as UmbTagsInputElement).value as string).split(',');\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`<umb-tags-input\r\n\t\t\tgroup=${ifDefined(this._group)}\r\n\t\t\t.culture=${this._culture}\r\n\t\t\t.items=${this.value}\r\n\t\t\t@change=${this.#onChange}\r\n\t\t\t?readonly=${this.readonly}></umb-tags-input>`;\r\n\t}\r\n}\r\n\r\nexport default UmbPropertyEditorUITagsElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-property-editor-ui-tags': UmbPropertyEditorUITagsElement;\r\n\t}\r\n}\r\n"],"names":["_UmbPropertyEditorUITagsElement_instances","onChange_fn","UmbPropertyEditorUITagsElement","UmbLitElement","__privateAdd","UMB_PROPERTY_CONTEXT","context","id","value","config","html","ifDefined","__privateMethod","event","UmbChangeEvent","__decorateClass","property","state","customElement","UmbPropertyEditorUITagsElement$1"],"mappings":";;;;;;;;;;;8OAAAA,GAAAC;AAgBa,IAAAC,IAAN,cAA6CC,EAAoD;AAAA,EAmCvG,cAAc;AACP,UAAA,GApCDC,EAAA,MAAAJ,CAAA,GACN,KAAQ,SAAwB,CAAC,GAiBtB,KAAA,WAAA,IAoBL,KAAA,eAAeK,GAAsB,CAACC,MAAY;AACtD,WAAK,QAAQA,GAAS,WAAW,CAACC,MAAO;AACpC,QAAAA,KAAMA,EAAG,YAAY,WACxB,KAAK,WAAWA,EAAG;AAAA,MACpB,CACA;AAAA,IAAA,CACD;AAAA,EAAA;AAAA,EAxCF,IAAW,MAAMC,GAAsB;AACjC,SAAA,SAASA,KAAS,CAAC;AAAA,EAAA;AAAA,EAEzB,IAAW,QAAuB;AACjC,WAAO,KAAK;AAAA,EAAA;AAAA;AAAA,EAsBb,IAAW,OAAOC,GAAuD;AACnE,SAAA,SAASA,GAAQ,gBAAgB,OAAO,GACxC,KAAA,eAAeA,GAAQ,gBAAgB,aAAa;AAAA,EAAA;AAAA,EAoBjD,SAAS;AACV,WAAAC;AAAA,WACEC,EAAU,KAAK,MAAM,CAAC;AAAA,cACnB,KAAK,QAAQ;AAAA,YACf,KAAK,KAAK;AAAA,aACTC,QAAKZ,GAASC,CAAA,CAAA;AAAA,eACZ,KAAK,QAAQ;AAAA,EAAA;AAE5B;AA5DOD,IAAA,oBAAA,QAAA;AA+CNC,IAAS,SAACY,GAAoB;AAC7B,OAAK,QAAUA,EAAM,OAA+B,MAAiB,MAAM,GAAG,GACzE,KAAA,cAAc,IAAIC,GAAgB;AACxC;AA9CWC,EAAA;AAAA,EADVC,EAAS,EAAE,MAAM,MAAO,CAAA;AAAA,GAHbd,EAID,WAAA,SAAA,CAAA;AAcXa,EAAA;AAAA,EADCC,EAAS,EAAE,MAAM,SAAS,SAAS,GAAM,CAAA;AAAA,GAjB9Bd,EAkBZ,WAAA,YAAA,CAAA;AAGQa,EAAA;AAAA,EADPE,EAAM;AAAA,GApBKf,EAqBJ,WAAA,UAAA,CAAA;AAGAa,EAAA;AAAA,EADPE,EAAM;AAAA,GAvBKf,EAwBJ,WAAA,gBAAA,CAAA;AAGAa,EAAA;AAAA,EADPE,EAAM;AAAA,GA1BKf,EA2BJ,WAAA,YAAA,CAAA;AA3BIA,IAANa,EAAA;AAAA,EADNG,EAAc,6BAA6B;AAAA,GAC/BhB,CAAA;AA8Db,MAAAiB,IAAejB;"}