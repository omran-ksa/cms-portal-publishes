{"version":3,"file":"property-editor-ui-multi-url-picker.element-CcHOs3FX.js","sources":["../../../src/packages/multi-url-picker/property-editor/property-editor-ui-multi-url-picker.element.ts"],"sourcesContent":["import type { UmbLinkPickerLink } from '../link-picker-modal/types.js';\r\nimport type { UmbInputMultiUrlElement } from '../components/input-multi-url/index.js';\r\nimport { customElement, html, property, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UMB_PROPERTY_CONTEXT } from '@umbraco-cms/backoffice/property';\r\nimport type {\r\n\tUmbPropertyEditorConfigCollection,\r\n\tUmbPropertyEditorUiElement,\r\n} from '@umbraco-cms/backoffice/property-editor';\r\nimport type { UUIModalSidebarSize } from '@umbraco-cms/backoffice/external/uui';\r\n\r\nimport '../components/input-multi-url/index.js';\r\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\nimport { UmbFormControlMixin } from '@umbraco-cms/backoffice/validation';\r\n\r\n/**\r\n * @element umb-property-editor-ui-multi-url-picker\r\n */\r\n@customElement('umb-property-editor-ui-multi-url-picker')\r\nexport class UmbPropertyEditorUIMultiUrlPickerElement\r\n\textends UmbFormControlMixin<Array<UmbLinkPickerLink>, typeof UmbLitElement, undefined>(UmbLitElement)\r\n\timplements UmbPropertyEditorUiElement\r\n{\r\n\tpublic set config(config: UmbPropertyEditorConfigCollection | undefined) {\r\n\t\tif (!config) return;\r\n\r\n\t\tthis._hideAnchor = Boolean(config.getValueByAlias('hideAnchor'));\r\n\t\tthis._min = this.#parseInt(config.getValueByAlias('minNumber'), 0);\r\n\t\tthis._max = this.#parseInt(config.getValueByAlias('maxNumber'), Infinity);\r\n\t\tthis._overlaySize = config.getValueByAlias<UUIModalSidebarSize>('overlaySize') ?? 'small';\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the input to readonly mode, meaning value cannot be changed but still able to read and select its content.\r\n\t * @type {boolean}\r\n\t * @attr\r\n\t * @default false\r\n\t */\r\n\t@property({ type: Boolean, reflect: true })\r\n\treadonly = false;\r\n\r\n\t#parseInt(value: unknown, fallback: number): number {\r\n\t\tconst num = Number(value);\r\n\t\treturn !Number.isNaN(num) && num > 0 ? num : fallback;\r\n\t}\r\n\r\n\t@state()\r\n\tprivate _overlaySize?: UUIModalSidebarSize;\r\n\r\n\t@state()\r\n\tprivate _hideAnchor?: boolean;\r\n\r\n\t@state()\r\n\tprivate _min = 0;\r\n\r\n\t@state()\r\n\tprivate _max = Infinity;\r\n\r\n\t@state()\r\n\tprivate _label?: string;\r\n\r\n\t@state()\r\n\tprivate _alias?: string;\r\n\r\n\t@state()\r\n\tprivate _variantId?: string;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_PROPERTY_CONTEXT, (context) => {\r\n\t\t\tthis._label = context?.getLabel();\r\n\t\t\tthis.observe(context?.alias, (alias) => (this._alias = alias));\r\n\t\t\tthis.observe(context?.variantId, (variantId) => (this._variantId = variantId?.toString() || 'invariant'));\r\n\t\t});\r\n\t}\r\n\r\n\tprotected override firstUpdated() {\r\n\t\tif (this._min && this._max && this._min > this._max) {\r\n\t\t\tconsole.warn(\r\n\t\t\t\t`Property '${this._label}' (Multi URL Picker) has been misconfigured, 'min' is greater than 'max'. Please correct your data type configuration.`,\r\n\t\t\t\tthis,\r\n\t\t\t);\r\n\t\t}\r\n\t\tthis.addFormControlElement(this.shadowRoot!.querySelector('umb-input-multi-url')!);\r\n\t}\r\n\r\n\t#onChange(event: CustomEvent & { target: UmbInputMultiUrlElement }) {\r\n\t\tthis.value = event.target.urls;\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-input-multi-url\r\n\t\t\t\t.alias=${this._alias}\r\n\t\t\t\t.max=${this._max}\r\n\t\t\t\t.min=${this._min}\r\n\t\t\t\t.overlaySize=${this._overlaySize}\r\n\t\t\t\t.urls=${this.value ?? []}\r\n\t\t\t\t.variantId=${this._variantId}\r\n\t\t\t\t?hide-anchor=${this._hideAnchor}\r\n\t\t\t\t?readonly=${this.readonly}\r\n\t\t\t\t@change=${this.#onChange}>\r\n\t\t\t</umb-input-multi-url>\r\n\t\t`;\r\n\t}\r\n}\r\n\r\nexport default UmbPropertyEditorUIMultiUrlPickerElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-property-editor-ui-multi-url-picker': UmbPropertyEditorUIMultiUrlPickerElement;\r\n\t}\r\n}\r\n"],"names":["_UmbPropertyEditorUIMultiUrlPickerElement_instances","parseInt_fn","onChange_fn","UmbPropertyEditorUIMultiUrlPickerElement","UmbFormControlMixin","UmbLitElement","__privateAdd","UMB_PROPERTY_CONTEXT","context","alias","variantId","config","__privateMethod","html","value","fallback","num","event","UmbChangeEvent","__decorateClass","property","state","customElement","UmbPropertyEditorUIMultiUrlPickerElement$1"],"mappings":";;;;;;;;;;;;8OAAAA,GAAAC,GAAAC;AAmBO,IAAMC,IAAN,cACEC,EAA+EC,CAAa,EAErG;AAAA,EA6CC,cAAc;AACP,UAAA,GAjDDC,EAAA,MAAAN,CAAA,GAoBK,KAAA,WAAA,IAcX,KAAQ,OAAO,GAGf,KAAQ,OAAO,OAcT,KAAA,eAAeO,GAAsB,CAACC,MAAY;AACjD,WAAA,SAASA,GAAS,SAAS,GAChC,KAAK,QAAQA,GAAS,OAAO,CAACC,MAAW,KAAK,SAASA,CAAM,GACxD,KAAA,QAAQD,GAAS,WAAW,CAACE,MAAe,KAAK,aAAaA,GAAW,SAAS,KAAK,WAAY;AAAA,IAAA,CACxG;AAAA,EAAA;AAAA,EAnDF,IAAW,OAAOC,GAAuD;AACxE,IAAKA,MAEL,KAAK,cAAc,EAAQA,EAAO,gBAAgB,YAAY,GAC9D,KAAK,OAAOC,EAAK,MAAAZ,GAAAC,CAAA,EAAL,WAAeU,EAAO,gBAAgB,WAAW,GAAG,CAAA,GAChE,KAAK,OAAOC,EAAK,MAAAZ,GAAAC,CAAA,EAAL,WAAeU,EAAO,gBAAgB,WAAW,GAAG,KAAA,GAChE,KAAK,eAAeA,EAAO,gBAAqC,aAAa,KAAK;AAAA,EAAA;AAAA,EAgDhE,eAAe;AACjC,IAAI,KAAK,QAAQ,KAAK,QAAQ,KAAK,OAAO,KAAK,QACtC,QAAA;AAAA,MACP,aAAa,KAAK,MAAM;AAAA,MACxB;AAAA,IACD,GAED,KAAK,sBAAsB,KAAK,WAAY,cAAc,qBAAqB,CAAE;AAAA,EAAA;AAAA,EAQzE,SAAS;AACV,WAAAE;AAAA;AAAA,aAEI,KAAK,MAAM;AAAA,WACb,KAAK,IAAI;AAAA,WACT,KAAK,IAAI;AAAA,mBACD,KAAK,YAAY;AAAA,YACxB,KAAK,SAAS,CAAE,CAAA;AAAA,iBACX,KAAK,UAAU;AAAA,mBACb,KAAK,WAAW;AAAA,gBACnB,KAAK,QAAQ;AAAA,cACfD,QAAKZ,GAASE,CAAA,CAAA;AAAA;AAAA;AAAA,EAAA;AAI5B;AAxFOF,IAAA,oBAAA,QAAA;AAsBNC,IAAS,SAACa,GAAgBC,GAA0B;AAC7C,QAAAC,IAAM,OAAOF,CAAK;AACxB,SAAO,CAAC,OAAO,MAAME,CAAG,KAAKA,IAAM,IAAIA,IAAMD;AAC9C;AA2CAb,IAAS,SAACe,GAA0D;AAC9D,OAAA,QAAQA,EAAM,OAAO,MACrB,KAAA,cAAc,IAAIC,GAAgB;AACxC;AAnDAC,EAAA;AAAA,EADCC,EAAS,EAAE,MAAM,SAAS,SAAS,GAAM,CAAA;AAAA,GAnB9BjB,EAoBZ,WAAA,YAAA,CAAA;AAQQgB,EAAA;AAAA,EADPE,EAAM;AAAA,GA3BKlB,EA4BJ,WAAA,gBAAA,CAAA;AAGAgB,EAAA;AAAA,EADPE,EAAM;AAAA,GA9BKlB,EA+BJ,WAAA,eAAA,CAAA;AAGAgB,EAAA;AAAA,EADPE,EAAM;AAAA,GAjCKlB,EAkCJ,WAAA,QAAA,CAAA;AAGAgB,EAAA;AAAA,EADPE,EAAM;AAAA,GApCKlB,EAqCJ,WAAA,QAAA,CAAA;AAGAgB,EAAA;AAAA,EADPE,EAAM;AAAA,GAvCKlB,EAwCJ,WAAA,UAAA,CAAA;AAGAgB,EAAA;AAAA,EADPE,EAAM;AAAA,GA1CKlB,EA2CJ,WAAA,UAAA,CAAA;AAGAgB,EAAA;AAAA,EADPE,EAAM;AAAA,GA7CKlB,EA8CJ,WAAA,cAAA,CAAA;AA9CIA,IAANgB,EAAA;AAAA,EADNG,EAAc,yCAAyC;AAAA,GAC3CnB,CAAA;AA0Fb,MAAAoB,IAAepB;"}