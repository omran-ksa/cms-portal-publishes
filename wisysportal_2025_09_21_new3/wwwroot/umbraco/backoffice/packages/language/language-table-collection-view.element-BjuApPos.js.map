{"version":3,"file":"language-table-collection-view.element-BjuApPos.js","sources":["../../../src/packages/language/collection/views/table/column-layouts/name/language-table-name-column-layout.element.ts","../../../src/packages/language/collection/views/table/language-table-collection-view.element.ts"],"sourcesContent":["import { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { html, LitElement, nothing, customElement, property } from '@umbraco-cms/backoffice/external/lit';\r\n\r\n@customElement('umb-language-table-name-column-layout')\r\nexport class UmbLanguageTableNameColumnLayoutElement extends LitElement {\r\n\t@property({ attribute: false })\r\n\tvalue!: { unique: string; name: string };\r\n\r\n\toverride render() {\r\n\t\tif (!this.value) return nothing;\r\n\t\treturn html`<a href=${'section/settings/workspace/language/edit/' + this.value.unique}>${this.value.name}</a>`;\r\n\t}\r\n\r\n\tstatic override styles = [UmbTextStyles];\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-language-table-name-column-layout': UmbLanguageTableNameColumnLayoutElement;\r\n\t}\r\n}\r\n","import type { UmbLanguageDetailModel } from '../../../types.js';\r\nimport type { UmbDefaultCollectionContext } from '@umbraco-cms/backoffice/collection';\r\nimport { UMB_COLLECTION_CONTEXT } from '@umbraco-cms/backoffice/collection';\r\nimport type { UmbTableColumn, UmbTableConfig, UmbTableItem } from '@umbraco-cms/backoffice/components';\r\nimport { css, html, customElement, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\n\r\nimport './column-layouts/name/language-table-name-column-layout.element.js';\r\n\r\n@customElement('umb-language-table-collection-view')\r\nexport class UmbLanguageTableCollectionViewElement extends UmbLitElement {\r\n\t@state()\r\n\tprivate _tableConfig: UmbTableConfig = {\r\n\t\tallowSelection: false,\r\n\t};\r\n\r\n\t@state()\r\n\tprivate _tableColumns: Array<UmbTableColumn> = [\r\n\t\t{\r\n\t\t\tname: 'Name',\r\n\t\t\talias: 'languageName',\r\n\t\t\telementName: 'umb-language-table-name-column-layout',\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'ISO Code',\r\n\t\t\talias: 'isoCode',\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'Default',\r\n\t\t\talias: 'defaultLanguage',\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'Mandatory',\r\n\t\t\talias: 'mandatoryLanguage',\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'Fallback',\r\n\t\t\talias: 'fallbackLanguage',\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: '',\r\n\t\t\talias: 'entityActions',\r\n\t\t\talign: 'right',\r\n\t\t},\r\n\t];\r\n\r\n\t@state()\r\n\tprivate _tableItems: Array<UmbTableItem> = [];\r\n\tprivate _cultureNames = new Intl.DisplayNames('en', { type: 'language' });\r\n\r\n\t#collectionContext?: UmbDefaultCollectionContext<UmbLanguageDetailModel>;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_COLLECTION_CONTEXT, (instance) => {\r\n\t\t\tthis.#collectionContext = instance;\r\n\t\t\tthis.#observeCollectionItems();\r\n\t\t});\r\n\t}\r\n\r\n\t#observeCollectionItems() {\r\n\t\tif (!this.#collectionContext) return;\r\n\t\tthis.observe(this.#collectionContext.items, (items) => this.#createTableItems(items), 'umbCollectionItemsObserver');\r\n\t}\r\n\r\n\t#createTableItems(languages: Array<UmbLanguageDetailModel>) {\r\n\t\tthis._tableItems = languages.map((language) => {\r\n\t\t\treturn {\r\n\t\t\t\tid: language.unique,\r\n\t\t\t\ticon: 'icon-globe',\r\n\t\t\t\tdata: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolumnAlias: 'languageName',\r\n\t\t\t\t\t\tvalue: {\r\n\t\t\t\t\t\t\tname: language.name ? language.name : this._cultureNames.of(language.unique),\r\n\t\t\t\t\t\t\tunique: language.unique,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolumnAlias: 'isoCode',\r\n\t\t\t\t\t\tvalue: language.unique,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolumnAlias: 'defaultLanguage',\r\n\t\t\t\t\t\tvalue: html`<umb-boolean-table-column-view .value=${language.isDefault}></umb-boolean-table-column-view>`,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolumnAlias: 'mandatoryLanguage',\r\n\t\t\t\t\t\tvalue: html`<umb-boolean-table-column-view .value=${language.isMandatory}></umb-boolean-table-column-view>`,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolumnAlias: 'fallbackLanguage',\r\n\t\t\t\t\t\tvalue: languages.find((x) => x.unique === language.fallbackIsoCode)?.name,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolumnAlias: 'entityActions',\r\n\t\t\t\t\t\tvalue: html`<umb-entity-actions-table-column-view\r\n\t\t\t\t\t\t\t.value=${{\r\n\t\t\t\t\t\t\t\tentityType: language.entityType,\r\n\t\t\t\t\t\t\t\tunique: language.unique,\r\n\t\t\t\t\t\t\t\tname: language.name,\r\n\t\t\t\t\t\t\t}}></umb-entity-actions-table-column-view>`,\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-table .config=${this._tableConfig} .columns=${this._tableColumns} .items=${this._tableItems}></umb-table>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbLanguageTableCollectionViewElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-language-table-collection-view': UmbLanguageTableCollectionViewElement;\r\n\t}\r\n}\r\n"],"names":["UmbLanguageTableNameColumnLayoutElement","LitElement","html","nothing","UmbTextStyles","__decorateClass","property","customElement","_collectionContext","_UmbLanguageTableCollectionViewElement_instances","observeCollectionItems_fn","createTableItems_fn","UmbLanguageTableCollectionViewElement","UmbLitElement","__privateAdd","UMB_COLLECTION_CONTEXT","instance","__privateSet","__privateMethod","__privateGet","items","languages","language","x","css","state","UmbLanguageTableCollectionViewElement$1"],"mappings":"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"}