{"version":3,"file":"code-editor-modal.element-CfO3QaFN.js","sources":["../../../src/packages/code-editor/code-editor-modal/code-editor-modal.element.ts"],"sourcesContent":["import type { UmbCodeEditorElement } from '../components/code-editor.element.js';\r\nimport type { UmbCodeEditorModalData, UmbCodeEditorModalValue } from './code-editor-modal.token.js';\r\nimport { css, customElement, html, ifDefined, query } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbModalBaseElement } from '@umbraco-cms/backoffice/modal';\r\n\r\n@customElement('umb-code-editor-modal')\r\nexport class UmbCodeEditorModalElement extends UmbModalBaseElement<UmbCodeEditorModalData, UmbCodeEditorModalValue> {\r\n\t@query('umb-code-editor')\r\n\t_codeEditor?: UmbCodeEditorElement;\r\n\r\n\t#handleConfirm() {\r\n\t\tthis.value = { content: this._codeEditor?.editor?.monacoEditor?.getValue() ?? '' };\r\n\t\tthis.modalContext?.submit();\r\n\t}\r\n\r\n\t#handleCancel() {\r\n\t\tthis.modalContext?.reject();\r\n\t}\r\n\r\n\t#onLoaded() {\r\n\t\tif (this.data?.formatOnLoad) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis._codeEditor?.editor?.monacoEditor?.getAction('editor.action.formatDocument')?.run();\r\n\t\t\t}, 100);\r\n\t\t}\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-body-layout .headline=${this.data?.headline ?? 'Code Editor'}>\r\n\t\t\t\t<div id=\"editor-box\">${this.#renderCodeEditor()}</div>\r\n\t\t\t\t<uui-button\r\n\t\t\t\t\tslot=\"actions\"\r\n\t\t\t\t\tlabel=${this.localize.term('general_cancel')}\r\n\t\t\t\t\t@click=${this.#handleCancel}></uui-button>\r\n\t\t\t\t<uui-button\r\n\t\t\t\t\tslot=\"actions\"\r\n\t\t\t\t\tcolor=${this.data?.color || 'positive'}\r\n\t\t\t\t\tlook=\"primary\"\r\n\t\t\t\t\tlabel=${this.localize.string(this.data?.confirmLabel) || this.localize.term('general_submit')}\r\n\t\t\t\t\t@click=${this.#handleConfirm}></uui-button>\r\n\t\t\t</umb-body-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderCodeEditor() {\r\n\t\treturn html`\r\n\t\t\t<umb-code-editor\r\n\t\t\t\tlanguage=${ifDefined(this.data?.language)}\r\n\t\t\t\t.code=${this.data?.content ?? ''}\r\n\t\t\t\t@loaded=${this.#onLoaded}></umb-code-editor>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\t#editor-box {\r\n\t\t\t\tpadding: var(--uui-box-default-padding, var(--uui-size-space-5, 18px));\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t}\r\n\r\n\t\t\tumb-code-editor {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbCodeEditorModalElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-code-editor-modal': UmbCodeEditorModalElement;\r\n\t}\r\n}\r\n"],"names":["_UmbCodeEditorModalElement_instances","handleConfirm_fn","handleCancel_fn","onLoaded_fn","renderCodeEditor_fn","UmbCodeEditorModalElement","UmbModalBaseElement","__privateAdd","html","__privateMethod","ifDefined","css","__decorateClass","query","customElement","UmbCodeEditorModalElement$1"],"mappings":";;;;;;;;8OAAAA,GAAAC,GAAAC,GAAAC,GAAAC;AAMa,IAAAC,IAAN,cAAwCC,EAAqE;AAAA,EAA7G,cAAA;AAAA,UAAA,GAAA,SAAA,GAAAC,EAAA,MAAAP,CAAA;AAAA,EAAA;AAAA,EAqBG,SAAS;AACV,WAAAQ;AAAA,gCACuB,KAAK,MAAM,YAAY,aAAa;AAAA,2BACzCC,EAAA,MAAKT,MAAL,KAAwB,IAAA,CAAA;AAAA;AAAA;AAAA,aAGtC,KAAK,SAAS,KAAK,gBAAgB,CAAC;AAAA,cACnCS,QAAKT,GAAaE,CAAA,CAAA;AAAA;AAAA;AAAA,aAGnB,KAAK,MAAM,SAAS,UAAU;AAAA;AAAA,aAE9B,KAAK,SAAS,OAAO,KAAK,MAAM,YAAY,KAAK,KAAK,SAAS,KAAK,gBAAgB,CAAC;AAAA,cACpFO,QAAKT,GAAcC,CAAA,CAAA;AAAA;AAAA;AAAA,EAAA;AA2BjC;AA7DOD,IAAA,oBAAA,QAAA;AAINC,IAAc,WAAG;AACX,OAAA,QAAQ,EAAE,SAAS,KAAK,aAAa,QAAQ,cAAc,SAAS,KAAK,GAAG,GACjF,KAAK,cAAc,OAAO;AAC3B;AAEAC,IAAa,WAAG;AACf,OAAK,cAAc,OAAO;AAC3B;AAEAC,IAAS,WAAG;AACP,EAAA,KAAK,MAAM,gBACd,WAAW,MAAM;AAChB,SAAK,aAAa,QAAQ,cAAc,UAAU,8BAA8B,GAAG,IAAI;AAAA,KACrF,GAAG;AAER;AAoBAC,IAAiB,WAAG;AACZ,SAAAI;AAAA;AAAA,eAEME,EAAU,KAAK,MAAM,QAAQ,CAAC;AAAA,YACjC,KAAK,MAAM,WAAW,EAAE;AAAA,cACtBD,QAAKT,GAASG,CAAA,CAAA;AAAA;AAE3B;AA9CYE,EAgDI,SAAS;AAAA,EACxBM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWD;AA1DAC,EAAA;AAAA,EADCC,EAAM,iBAAiB;AAAA,GADZR,EAEZ,WAAA,eAAA,CAAA;AAFYA,IAANO,EAAA;AAAA,EADNE,EAAc,uBAAuB;AAAA,GACzBT,CAAA;AA+Db,MAAAU,IAAeV;"}