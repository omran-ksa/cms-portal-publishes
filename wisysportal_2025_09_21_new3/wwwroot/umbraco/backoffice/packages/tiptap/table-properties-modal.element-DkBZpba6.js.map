{"version":3,"file":"table-properties-modal.element-DkBZpba6.js","sources":["../../../src/packages/tiptap/extensions/table/components/table-properties-modal.element.ts"],"sourcesContent":["import type {\r\n\tUmbTiptapTablePropertiesModalData,\r\n\tUmbTiptapTablePropertiesModalValue,\r\n} from './table-properties-modal.token.js';\r\nimport { css, customElement, html, repeat, when } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbModalBaseElement } from '@umbraco-cms/backoffice/modal';\r\nimport type { UmbPropertyDatasetElement, UmbPropertyValueData } from '@umbraco-cms/backoffice/property';\r\nimport type { UmbPropertyEditorConfig } from '@umbraco-cms/backoffice/property-editor';\r\n\r\ntype UmbProperty = {\r\n\talias: string;\r\n\tconfig?: UmbPropertyEditorConfig;\r\n\tdescription?: string;\r\n\tlabel: string;\r\n\tpropertyEditorUiAlias: string;\r\n};\r\n\r\n@customElement('umb-tiptap-table-properties-modal')\r\nexport class UmbTiptapTablePropertiesModalElement extends UmbModalBaseElement<\r\n\tUmbTiptapTablePropertiesModalData,\r\n\tUmbTiptapTablePropertiesModalValue\r\n> {\r\n\t#appearance = { labelOnTop: true };\r\n\r\n\t#properties: Array<UmbProperty> = [\r\n\t\t{ alias: 'width', label: 'Width', propertyEditorUiAlias: 'Umb.PropertyEditorUi.TextBox' },\r\n\t\t{ alias: 'height', label: 'Height', propertyEditorUiAlias: 'Umb.PropertyEditorUi.TextBox' },\r\n\t\t{\r\n\t\t\talias: 'backgroundColor',\r\n\t\t\tlabel: 'Background color',\r\n\t\t\tpropertyEditorUiAlias: 'Umb.PropertyEditorUi.EyeDropper',\r\n\t\t\tconfig: [{ alias: 'showPalette', value: true }],\r\n\t\t},\r\n\t\t{\r\n\t\t\talias: 'alignment',\r\n\t\t\tlabel: 'Alignment',\r\n\t\t\tpropertyEditorUiAlias: 'Umb.PropertyEditorUi.Dropdown',\r\n\t\t\tconfig: [\r\n\t\t\t\t{\r\n\t\t\t\t\talias: 'items',\r\n\t\t\t\t\tvalue: [\r\n\t\t\t\t\t\t{ name: 'None', value: 'none' },\r\n\t\t\t\t\t\t{ name: 'Left', value: 'left' },\r\n\t\t\t\t\t\t{ name: 'Center', value: 'center' },\r\n\t\t\t\t\t\t{ name: 'Right', value: 'right' },\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\t{ alias: 'borderWidth', label: 'Border width', propertyEditorUiAlias: 'Umb.PropertyEditorUi.TextBox' },\r\n\t\t{\r\n\t\t\talias: 'borderStyle',\r\n\t\t\tlabel: 'Border style',\r\n\t\t\tpropertyEditorUiAlias: 'Umb.PropertyEditorUi.Dropdown',\r\n\t\t\tconfig: [\r\n\t\t\t\t{\r\n\t\t\t\t\talias: 'items',\r\n\t\t\t\t\tvalue: [\r\n\t\t\t\t\t\t{ name: 'Solid', value: 'solid' },\r\n\t\t\t\t\t\t{ name: 'Dotted', value: 'dotted' },\r\n\t\t\t\t\t\t{ name: 'Dashed', value: 'dashed' },\r\n\t\t\t\t\t\t{ name: 'Double', value: 'double' },\r\n\t\t\t\t\t\t{ name: 'Groove', value: 'groove' },\r\n\t\t\t\t\t\t{ name: 'Ridge', value: 'ridge' },\r\n\t\t\t\t\t\t{ name: 'Inset', value: 'inset' },\r\n\t\t\t\t\t\t{ name: 'Outset', value: 'outset' },\r\n\t\t\t\t\t\t{ name: 'None', value: 'none' },\r\n\t\t\t\t\t\t{ name: 'Hidden', value: 'hidden' },\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\t{\r\n\t\t\talias: 'borderColor',\r\n\t\t\tlabel: 'Border color',\r\n\t\t\tpropertyEditorUiAlias: 'Umb.PropertyEditorUi.EyeDropper',\r\n\t\t\tconfig: [{ alias: 'showPalette', value: true }],\r\n\t\t},\r\n\t];\r\n\r\n\t#values: Array<UmbPropertyValueData> = [];\r\n\r\n\toverride connectedCallback(): void {\r\n\t\tsuper.connectedCallback();\r\n\r\n\t\tif (this.data) {\r\n\t\t\tthis.#values = Object.entries(this.data).map(([alias, value]) => ({ alias, value }));\r\n\t\t}\r\n\t}\r\n\r\n\t#onChange(event: Event & { target: UmbPropertyDatasetElement }) {\r\n\t\tthis.#values = event.target.value;\r\n\t}\r\n\r\n\t#onSubmit() {\r\n\t\tthis.value = this.#values;\r\n\t\tthis._submitModal();\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-body-layout headline=\"Table properties\">\r\n\t\t\t\t<uui-box>\r\n\t\t\t\t\t${when(\r\n\t\t\t\t\t\tthis.#properties?.length,\r\n\t\t\t\t\t\t() => html`\r\n\t\t\t\t\t\t\t<umb-property-dataset .value=${this.#values} @change=${this.#onChange}>\r\n\t\t\t\t\t\t\t\t${repeat(\r\n\t\t\t\t\t\t\t\t\tthis.#properties,\r\n\t\t\t\t\t\t\t\t\t(property) => property.alias,\r\n\t\t\t\t\t\t\t\t\t(property) => html`\r\n\t\t\t\t\t\t\t\t\t\t<umb-property\r\n\t\t\t\t\t\t\t\t\t\t\talias=${property.alias}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=${property.label}\r\n\t\t\t\t\t\t\t\t\t\t\tproperty-editor-ui-alias=${property.propertyEditorUiAlias}\r\n\t\t\t\t\t\t\t\t\t\t\t.appearance=${this.#appearance}\r\n\t\t\t\t\t\t\t\t\t\t\t.config=${property.config}>\r\n\t\t\t\t\t\t\t\t\t\t</umb-property>\r\n\t\t\t\t\t\t\t\t\t`,\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</umb-property-dataset>\r\n\t\t\t\t\t\t`,\r\n\t\t\t\t\t\t() => html`<p>There are no properties for this modal.</p>`,\r\n\t\t\t\t\t)}\r\n\t\t\t\t</uui-box>\r\n\t\t\t\t<uui-button\r\n\t\t\t\t\tslot=\"actions\"\r\n\t\t\t\t\tlabel=${this.localize.term('general_cancel')}\r\n\t\t\t\t\t@click=${this._rejectModal}></uui-button>\r\n\t\t\t\t<uui-button\r\n\t\t\t\t\tslot=\"actions\"\r\n\t\t\t\t\tcolor=\"positive\"\r\n\t\t\t\t\tlook=\"primary\"\r\n\t\t\t\t\tlabel=${this.localize.term('bulk_done')}\r\n\t\t\t\t\t@click=${this.#onSubmit}></uui-button>\r\n\t\t\t</umb-body-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\tumb-property {\r\n\t\t\t\t--uui-size-layout-1: var(--uui-size-space-4);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport { UmbTiptapTablePropertiesModalElement as element };\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-tiptap-table-properties-modal': UmbTiptapTablePropertiesModalElement;\r\n\t}\r\n}\r\n"],"names":["_appearance","_properties","_values","_UmbTiptapTablePropertiesModalElement_instances","onChange_fn","onSubmit_fn","UmbTiptapTablePropertiesModalElement","UmbModalBaseElement","__privateAdd","__privateSet","alias","value","html","when","__privateGet","__privateMethod","repeat","property","event","css","__decorateClass","customElement"],"mappings":"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"}