{"version":3,"file":"property-editor-ui-tiptap-statusbar-configuration.element-D2OavPUF.js","sources":["../../../src/packages/tiptap/property-editors/tiptap/contexts/tiptap-statusbar-configuration.context.ts","../../../src/packages/tiptap/property-editors/tiptap/components/property-editor-ui-tiptap-statusbar-configuration.element.ts"],"sourcesContent":["import type { UmbTiptapStatusbarExtension, UmbTiptapStatusbarViewModel } from '../types.js';\r\nimport type { UmbTiptapStatusbarValue } from '../../../components/types.js';\r\nimport { UMB_TIPTAP_STATUSBAR_CONFIGURATION_CONTEXT } from './tiptap-statusbar-configuration.context-token.js';\r\nimport { umbExtensionsRegistry } from '@umbraco-cms/backoffice/extension-registry';\r\nimport { UmbArrayState, UmbBooleanState } from '@umbraco-cms/backoffice/observable-api';\r\nimport { UmbContextBase } from '@umbraco-cms/backoffice/class-api';\r\nimport { UmbId } from '@umbraco-cms/backoffice/id';\r\nimport { UMB_PROPERTY_DATASET_CONTEXT } from '@umbraco-cms/backoffice/property';\r\nimport type { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\n\r\nexport class UmbTiptapStatusbarConfigurationContext extends UmbContextBase {\r\n\t#extensions = new UmbArrayState<UmbTiptapStatusbarExtension>([], (x) => x.alias);\r\n\tpublic readonly extensions = this.#extensions.asObservable();\r\n\r\n\t#reload = new UmbBooleanState(false);\r\n\tpublic readonly reload = this.#reload.asObservable();\r\n\r\n\t#extensionsEnabled = new Set<string>();\r\n\r\n\t#extensionsInUse = new Set<string>();\r\n\r\n\t#lookup?: Map<string, UmbTiptapStatusbarExtension>;\r\n\r\n\t#statusbar = new UmbArrayState<UmbTiptapStatusbarViewModel>([], (x) => x.unique);\r\n\tpublic readonly statusbar = this.#statusbar.asObservable();\r\n\r\n\tconstructor(host: UmbControllerHost) {\r\n\t\tsuper(host, UMB_TIPTAP_STATUSBAR_CONFIGURATION_CONTEXT);\r\n\r\n\t\tthis.observe(umbExtensionsRegistry.byType('tiptapStatusbarExtension'), (extensions) => {\r\n\t\t\tconst _extensions = extensions\r\n\t\t\t\t.sort((a, b) => a.alias.localeCompare(b.alias))\r\n\t\t\t\t.map((ext) => ({\r\n\t\t\t\t\talias: ext.alias,\r\n\t\t\t\t\tlabel: ext.meta.label,\r\n\t\t\t\t\ticon: ext.meta.icon,\r\n\t\t\t\t\tdependencies: ext.forExtensions,\r\n\t\t\t\t}));\r\n\r\n\t\t\tthis.#extensions.setValue(_extensions);\r\n\r\n\t\t\tthis.#lookup = new Map(_extensions.map((ext) => [ext.alias, ext]));\r\n\t\t});\r\n\r\n\t\tthis.consumeContext(UMB_PROPERTY_DATASET_CONTEXT, async (dataset) => {\r\n\t\t\tthis.observe(\r\n\t\t\t\tawait dataset?.propertyValueByAlias<Array<string>>('extensions'),\r\n\t\t\t\t(extensions) => {\r\n\t\t\t\t\tif (extensions) {\r\n\t\t\t\t\t\tthis.#extensionsEnabled.clear();\r\n\t\t\t\t\t\tthis.#reload.setValue(false);\r\n\r\n\t\t\t\t\t\tthis.#extensions\r\n\t\t\t\t\t\t\t.getValue()\r\n\t\t\t\t\t\t\t.filter((x) => !x.dependencies || x.dependencies.every((z) => extensions.includes(z)))\r\n\t\t\t\t\t\t\t.map((x) => x.alias)\r\n\t\t\t\t\t\t\t.forEach((alias) => this.#extensionsEnabled.add(alias));\r\n\r\n\t\t\t\t\t\tthis.#reload.setValue(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t'_observeExtensions',\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\tpublic cloneStatusbarValue(value?: UmbTiptapStatusbarValue | null): UmbTiptapStatusbarValue {\r\n\t\tif (!this.isValidStatusbarValue(value)) return [[], []];\r\n\t\treturn value.map((area) => [...area]);\r\n\t}\r\n\r\n\tpublic filterExtensions(query: string): Array<UmbTiptapStatusbarExtension> {\r\n\t\treturn this.#extensions\r\n\t\t\t.getValue()\r\n\t\t\t.filter((ext) => ext.alias?.toLowerCase().includes(query) || ext.label?.toLowerCase().includes(query));\r\n\t}\r\n\r\n\tpublic getExtensionByAlias(alias: string): UmbTiptapStatusbarExtension | undefined {\r\n\t\treturn this.#lookup?.get(alias);\r\n\t}\r\n\r\n\tpublic isExtensionEnabled(alias: string): boolean {\r\n\t\treturn this.#extensionsEnabled.has(alias);\r\n\t}\r\n\r\n\tpublic isExtensionInUse(alias: string): boolean {\r\n\t\treturn this.#extensionsInUse.has(alias);\r\n\t}\r\n\r\n\tpublic isValidStatusbarValue(value: unknown): value is UmbTiptapStatusbarValue {\r\n\t\tif (!Array.isArray(value)) return false;\r\n\t\tfor (const area of value) {\r\n\t\t\tif (!Array.isArray(area)) return false;\r\n\t\t\tfor (const alias of area) {\r\n\t\t\t\tif (typeof alias !== 'string') return false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic insertStatusbarItem(alias: string, to: [number, number]) {\r\n\t\tconst statusbar = [...this.#statusbar.getValue()];\r\n\r\n\t\tconst [areaIndex, itemIndex] = to;\r\n\r\n\t\tconst area = statusbar[areaIndex];\r\n\t\tconst items = [...area.data];\r\n\r\n\t\titems.splice(itemIndex, 0, alias);\r\n\t\tthis.#extensionsInUse.add(alias);\r\n\r\n\t\tstatusbar[areaIndex] = { unique: area.unique, data: items };\r\n\r\n\t\tthis.#statusbar.setValue(statusbar);\r\n\t}\r\n\r\n\tpublic moveStatusbarItem(from: [number, number], to: [number, number]) {\r\n\t\tconst [fromAreaIndex, fromItemIndex] = from;\r\n\t\tconst [toAreaIndex, toItemIndex] = to;\r\n\r\n\t\tconst statusbar = [...this.#statusbar.getValue()];\r\n\r\n\t\tconst fromArea = statusbar[fromAreaIndex];\r\n\t\tconst fromItems = [...fromArea.data];\r\n\r\n\t\tconst toBeMoved = fromItems.splice(fromItemIndex, 1);\r\n\r\n\t\tstatusbar[fromAreaIndex] = { unique: fromArea.unique, data: fromItems };\r\n\r\n\t\tconst toArea = statusbar[toAreaIndex];\r\n\t\tconst toItems = [...toArea.data];\r\n\r\n\t\ttoItems.splice(toItemIndex, 0, toBeMoved[0]);\r\n\r\n\t\tstatusbar[toAreaIndex] = { unique: toArea.unique, data: toItems };\r\n\r\n\t\tthis.#statusbar.setValue(statusbar);\r\n\t}\r\n\r\n\tpublic removeStatusbarItem(from: [number, number]) {\r\n\t\tconst [areaIndex, itemIndex] = from;\r\n\r\n\t\tconst statusbar = [...this.#statusbar.getValue()];\r\n\r\n\t\tconst area = statusbar[areaIndex];\r\n\t\tconst items = [...area.data];\r\n\r\n\t\tconst removed = items.splice(itemIndex, 1);\r\n\t\tremoved.forEach((alias) => this.#extensionsInUse.delete(alias));\r\n\r\n\t\tstatusbar[areaIndex] = { unique: area.unique, data: items };\r\n\r\n\t\tthis.#statusbar.setValue(statusbar);\r\n\t}\r\n\r\n\tpublic setStatusbar(value?: UmbTiptapStatusbarValue | null) {\r\n\t\tif (!this.isValidStatusbarValue(value)) {\r\n\t\t\tvalue = [[], []];\r\n\t\t}\r\n\r\n\t\tif (value.length === 1) {\r\n\t\t\tvalue = [[], value[0]];\r\n\t\t}\r\n\r\n\t\tthis.#extensionsInUse.clear();\r\n\t\tvalue.forEach((area) => area.forEach((alias) => this.#extensionsInUse.add(alias)));\r\n\r\n\t\tconst statusbar = value.map((area) => ({ unique: UmbId.new(), data: area }));\r\n\r\n\t\tthis.#statusbar.setValue(statusbar);\r\n\t}\r\n}\r\n","import { UmbTiptapStatusbarConfigurationContext } from '../contexts/tiptap-statusbar-configuration.context.js';\r\nimport type { UmbTiptapStatusbarValue } from '../../../components/types.js';\r\nimport type { UmbTiptapStatusbarViewModel, UmbTiptapStatusbarExtension } from '../types.js';\r\nimport { customElement, css, html, property, when, repeat, nothing, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { debounce } from '@umbraco-cms/backoffice/utils';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UMB_PROPERTY_CONTEXT } from '@umbraco-cms/backoffice/property';\r\nimport type { UmbPropertyEditorUiElement } from '@umbraco-cms/backoffice/property-editor';\r\n\r\n@customElement('umb-property-editor-ui-tiptap-statusbar-configuration')\r\nexport class UmbPropertyEditorUiTiptapStatusbarConfigurationElement\r\n\textends UmbLitElement\r\n\timplements UmbPropertyEditorUiElement\r\n{\r\n\t#context = new UmbTiptapStatusbarConfigurationContext(this);\r\n\r\n\t#currentDragItem?: { alias: string; fromPos?: [number, number] };\r\n\r\n\t#debouncedFilter = debounce((query: string) => {\r\n\t\tthis._availableExtensions = this.#context.filterExtensions(query);\r\n\t}, 250);\r\n\r\n\t#initialized = false;\r\n\r\n\t@state()\r\n\tprivate _availableExtensions: Array<UmbTiptapStatusbarExtension> = [];\r\n\r\n\t@state()\r\n\tprivate _statusbar: Array<UmbTiptapStatusbarViewModel> = [];\r\n\r\n\t@property({ attribute: false })\r\n\tset value(value: UmbTiptapStatusbarValue | undefined) {\r\n\t\tif (!value) value = [[], []];\r\n\t\tif (value === this.#value) return;\r\n\t\tthis.#value = value;\r\n\t}\r\n\tget value(): UmbTiptapStatusbarValue | undefined {\r\n\t\tif (this.#value === undefined) return undefined;\r\n\t\treturn this.#context.cloneStatusbarValue(this.#value);\r\n\t}\r\n\t#value?: UmbTiptapStatusbarValue;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_PROPERTY_CONTEXT, (propertyContext) => {\r\n\t\t\tthis.observe(this.#context.extensions, (extensions) => {\r\n\t\t\t\tthis._availableExtensions = extensions;\r\n\t\t\t});\r\n\r\n\t\t\tthis.observe(this.#context.reload, (reload) => {\r\n\t\t\t\tif (reload) {\r\n\t\t\t\t\tthis.requestUpdate();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.observe(this.#context.statusbar, (statusbar) => {\r\n\t\t\t\tif (!statusbar.length) return;\r\n\t\t\t\tthis._statusbar = statusbar;\r\n\t\t\t\tif (this.#initialized) {\r\n\t\t\t\t\tthis.#value = statusbar.map((area) => [...area.data]);\r\n\t\t\t\t\tpropertyContext?.setValue(this.#value);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tprotected override firstUpdated() {\r\n\t\tthis.#context.setStatusbar(this.#value);\r\n\t\tthis.#initialized = true;\r\n\t}\r\n\r\n\t#onClick(item: UmbTiptapStatusbarExtension) {\r\n\t\tconst lastArea = (this.#value?.length ?? 1) - 1;\r\n\t\tconst lastItem = this.#value?.[lastArea].length ?? 0;\r\n\t\tthis.#context.insertStatusbarItem(item.alias, [lastArea, lastItem]);\r\n\t}\r\n\r\n\t#onDragStart(event: DragEvent, alias: string, fromPos?: [number, number]) {\r\n\t\tevent.dataTransfer!.effectAllowed = 'move';\r\n\t\tthis.#currentDragItem = { alias, fromPos };\r\n\t}\r\n\r\n\t#onDragOver(event: DragEvent) {\r\n\t\tevent.preventDefault();\r\n\t\tevent.dataTransfer!.dropEffect = 'move';\r\n\t}\r\n\r\n\t#onDragEnd(event: DragEvent) {\r\n\t\tevent.preventDefault();\r\n\t\tif (event.dataTransfer?.dropEffect === 'none') {\r\n\t\t\tconst { fromPos } = this.#currentDragItem ?? {};\r\n\t\t\tif (!fromPos) return;\r\n\r\n\t\t\tthis.#context.removeStatusbarItem(fromPos);\r\n\t\t}\r\n\t}\r\n\r\n\t#onDrop(event: DragEvent, toPos?: [number, number]) {\r\n\t\tevent.preventDefault();\r\n\t\tconst { alias, fromPos } = this.#currentDragItem ?? {};\r\n\r\n\t\t// Remove item if no destination position is provided\r\n\t\tif (fromPos && !toPos) {\r\n\t\t\tthis.#context.removeStatusbarItem(fromPos);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Move item if both source and destination positions are available\r\n\t\tif (fromPos && toPos) {\r\n\t\t\tthis.#context.moveStatusbarItem(fromPos, toPos);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Insert item if an alias and a destination position are provided\r\n\t\tif (alias && toPos) {\r\n\t\t\tthis.#context.insertStatusbarItem(alias, toPos);\r\n\t\t}\r\n\t}\r\n\r\n\t#onFilterInput(event: InputEvent & { target: HTMLInputElement }) {\r\n\t\tconst query = (event.target.value ?? '').toLocaleLowerCase();\r\n\t\tthis.#debouncedFilter(query);\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`${this.#renderDesigner()} ${this.#renderAvailableItems()}`;\r\n\t}\r\n\r\n\t#renderAvailableItems() {\r\n\t\tconst label = this.localize.term('placeholders_filter');\r\n\t\treturn html`\r\n\t\t\t<uui-box id=\"toolbox\" headline=${this.localize.term('tiptap_statusbar_availableItems')}>\r\n\t\t\t\t<div slot=\"header-actions\">\r\n\t\t\t\t\t<uui-input type=\"search\" autocomplete=\"off\" label=${label} placeholder=${label} @input=${this.#onFilterInput}>\r\n\t\t\t\t\t\t<div slot=\"prepend\">\r\n\t\t\t\t\t\t\t<uui-icon name=\"search\"></uui-icon>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</uui-input>\r\n\t\t\t\t</div>\r\n\t\t\t\t<uui-scroll-container>\r\n\t\t\t\t\t<div class=\"available-items\" dropzone=\"move\" @drop=${this.#onDrop} @dragover=${this.#onDragOver}>\r\n\t\t\t\t\t\t${when(\r\n\t\t\t\t\t\t\tthis._availableExtensions.length === 0,\r\n\t\t\t\t\t\t\t() =>\r\n\t\t\t\t\t\t\t\thtml`<umb-localize key=\"tiptap_statusbar_availableItemsEmpty\"\r\n\t\t\t\t\t\t\t\t\t>There are no statusbar extensions to show</umb-localize\r\n\t\t\t\t\t\t\t\t>`,\r\n\t\t\t\t\t\t\t() => repeat(this._availableExtensions, (item) => this.#renderAvailableItem(item)),\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</uui-scroll-container>\r\n\t\t\t</uui-box>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderAvailableItem(item: UmbTiptapStatusbarExtension) {\r\n\t\tconst forbidden = !this.#context.isExtensionEnabled(item.alias);\r\n\t\tconst inUse = this.#context.isExtensionInUse(item.alias);\r\n\t\tif (inUse || forbidden) return nothing;\r\n\t\tconst label = this.localize.string(item.label);\r\n\t\treturn html`\r\n\t\t\t<uui-button\r\n\t\t\t\tcompact\r\n\t\t\t\tclass=${forbidden ? 'forbidden' : ''}\r\n\t\t\t\tdata-mark=\"tiptap-toolbar-item:${item.alias}\"\r\n\t\t\t\tdraggable=\"true\"\r\n\t\t\t\tlabel=${label}\r\n\t\t\t\tlook=${forbidden ? 'placeholder' : 'outline'}\r\n\t\t\t\t?disabled=${forbidden || inUse}\r\n\t\t\t\t@click=${() => this.#onClick(item)}\r\n\t\t\t\t@dragstart=${(e: DragEvent) => this.#onDragStart(e, item.alias)}\r\n\t\t\t\t@dragend=${this.#onDragEnd}>\r\n\t\t\t\t<div class=\"inner\">\r\n\t\t\t\t\t${when(item.icon, () => html`<umb-icon .name=${item.icon}></umb-icon>`)}\r\n\t\t\t\t\t<span>${label}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</uui-button>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderDesigner() {\r\n\t\treturn html`\r\n\t\t\t<div id=\"statusbar\">\r\n\t\t\t\t<div id=\"areas\">\r\n\t\t\t\t\t${repeat(\r\n\t\t\t\t\t\tthis._statusbar,\r\n\t\t\t\t\t\t(area) => area.unique,\r\n\t\t\t\t\t\t(area, idx) => this.#renderArea(area, idx),\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderArea(area?: UmbTiptapStatusbarViewModel, areaIndex = 0) {\r\n\t\tif (!area) return nothing;\r\n\t\treturn html`\r\n\t\t\t<div\r\n\t\t\t\tclass=\"area\"\r\n\t\t\t\tdropzone=\"move\"\r\n\t\t\t\t@dragover=${this.#onDragOver}\r\n\t\t\t\t@drop=${(e: DragEvent) => this.#onDrop(e, [areaIndex, area.data.length - 1])}>\r\n\t\t\t\t<div class=\"items\">\r\n\t\t\t\t\t${when(\r\n\t\t\t\t\t\tarea?.data.length === 0,\r\n\t\t\t\t\t\t() => html`<em><umb-localize key=\"tiptap_toolbar_emptyGroup\">Empty</umb-localize></em>`,\r\n\t\t\t\t\t\t() => html`${area!.data.map((alias, idx) => this.#renderItem(alias, areaIndex, idx))}`,\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderItem(alias: string, areaIndex = 0, itemIndex = 0) {\r\n\t\tconst item = this.#context?.getExtensionByAlias(alias);\r\n\t\tif (!item) return nothing;\r\n\r\n\t\tconst forbidden = !this.#context?.isExtensionEnabled(item.alias);\r\n\t\tconst label = this.localize.string(item.label);\r\n\r\n\t\treturn html`\r\n\t\t\t<uui-button\r\n\t\t\t\tcompact\r\n\t\t\t\tclass=${forbidden ? 'forbidden' : ''}\r\n\t\t\t\tdata-mark=\"tiptap-toolbar-item:${item.alias}\"\r\n\t\t\t\tdraggable=\"true\"\r\n\t\t\t\tlabel=${label}\r\n\t\t\t\tlook=${forbidden ? 'placeholder' : 'outline'}\r\n\t\t\t\ttitle=${label}\r\n\t\t\t\t?disabled=${forbidden}\r\n\t\t\t\t@click=${() => this.#context.removeStatusbarItem([areaIndex, itemIndex])}\r\n\t\t\t\t@dragend=${this.#onDragEnd}\r\n\t\t\t\t@dragstart=${(e: DragEvent) => this.#onDragStart(e, alias, [areaIndex, itemIndex])}>\r\n\t\t\t\t<div class=\"inner\">\r\n\t\t\t\t\t${when(item.icon, (icon) => html`<umb-icon .name=${icon}></umb-icon>`)}\r\n\t\t\t\t\t<span>${label}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</uui-button>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override readonly styles = [\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tgap: var(--uui-size-space-4);\r\n\t\t\t\tflex-grow: 1;\r\n\t\t\t}\r\n\r\n\t\t\t@media (min-width: 1400px) {\r\n\t\t\t\t:host {\r\n\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t}\r\n\t\t\t\t#toolbox {\r\n\t\t\t\t\twidth: 500px;\r\n\t\t\t\t\tmax-width: 33%;\r\n\t\t\t\t\tflex-grow: 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t#statusbar {\r\n\t\t\t\t\tflex-grow: 100;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t#toolbox {\r\n\t\t\t\tborder: 1px solid var(--uui-color-border);\r\n\t\t\t}\r\n\r\n\t\t\tuui-box {\r\n\t\t\t\t[slot='header-actions'] {\r\n\t\t\t\t\tmargin-bottom: var(--uui-size-2);\r\n\r\n\t\t\t\t\tuui-icon {\r\n\t\t\t\t\t\tcolor: var(--uui-color-border);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tuui-scroll-container {\r\n\t\t\t\tmax-height: 350px;\r\n\t\t\t}\r\n\r\n\t\t\t.available-items {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\tgap: var(--uui-size-3);\r\n\r\n\t\t\t\tuui-button {\r\n\t\t\t\t\t--uui-button-font-weight: normal;\r\n\r\n\t\t\t\t\t&[draggable='true'],\r\n\t\t\t\t\t&[draggable='true'] > .inner {\r\n\t\t\t\t\t\tcursor: move;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&[disabled],\r\n\t\t\t\t\t&[disabled] > .inner {\r\n\t\t\t\t\t\tcursor: not-allowed;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&.forbidden {\r\n\t\t\t\t\t\t--color: var(--uui-color-danger);\r\n\t\t\t\t\t\t--color-standalone: var(--uui-color-danger-standalone);\r\n\t\t\t\t\t\t--color-emphasis: var(--uui-color-danger-emphasis);\r\n\t\t\t\t\t\t--color-contrast: var(--uui-color-danger);\r\n\t\t\t\t\t\t--uui-button-contrast-disabled: var(--uui-color-danger);\r\n\t\t\t\t\t\t--uui-button-border-color-disabled: var(--uui-color-danger);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdiv {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tgap: var(--uui-size-1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t#areas {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tgap: var(--uui-size-1);\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t.area {\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: flex-start;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t\t\tborder: 1px dashed transparent;\r\n\t\t\t\t\tpadding: var(--uui-size-3);\r\n\r\n\t\t\t\t\t&:last-child {\r\n\t\t\t\t\t\tjustify-content: flex-end;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&:focus-within,\r\n\t\t\t\t\t&:hover {\r\n\t\t\t\t\t\tborder-color: var(--uui-color-border-standalone);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.items {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\t\t\tgap: var(--uui-size-1);\r\n\r\n\t\t\t\t\t\tuui-button {\r\n\t\t\t\t\t\t\t--uui-button-font-weight: normal;\r\n\r\n\t\t\t\t\t\t\t&[draggable='true'],\r\n\t\t\t\t\t\t\t&[draggable='true'] > .inner {\r\n\t\t\t\t\t\t\t\tcursor: move;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t&[disabled],\r\n\t\t\t\t\t\t\t&[disabled] > .inner {\r\n\t\t\t\t\t\t\t\tcursor: not-allowed;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t&.forbidden {\r\n\t\t\t\t\t\t\t\t--color: var(--uui-color-danger);\r\n\t\t\t\t\t\t\t\t--color-standalone: var(--uui-color-danger-standalone);\r\n\t\t\t\t\t\t\t\t--color-emphasis: var(--uui-color-danger-emphasis);\r\n\t\t\t\t\t\t\t\t--color-contrast: var(--uui-color-danger);\r\n\t\t\t\t\t\t\t\t--uui-button-contrast-disabled: var(--uui-color-danger);\r\n\t\t\t\t\t\t\t\t--uui-button-border-color-disabled: var(--uui-color-danger);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tdiv {\r\n\t\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\t\tgap: var(--uui-size-1);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t#btnAddRow {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tmargin-top: var(--uui-size-1);\r\n\t\t\t}\r\n\r\n\t\t\t.handle {\r\n\t\t\t\tcursor: move;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport { UmbPropertyEditorUiTiptapStatusbarConfigurationElement as element };\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-property-editor-ui-tiptap-statusbar-configuration': UmbPropertyEditorUiTiptapStatusbarConfigurationElement;\r\n\t}\r\n}\r\n"],"names":["UmbTiptapStatusbarConfigurationContext","UmbContextBase","host","UMB_TIPTAP_STATUSBAR_CONFIGURATION_CONTEXT","#extensions","UmbArrayState","x","#reload","UmbBooleanState","#extensionsEnabled","#extensionsInUse","#statusbar","umbExtensionsRegistry","extensions","_extensions","a","b","ext","#lookup","UMB_PROPERTY_DATASET_CONTEXT","dataset","z","alias","value","area","query","to","statusbar","areaIndex","itemIndex","items","from","fromAreaIndex","fromItemIndex","toAreaIndex","toItemIndex","fromArea","fromItems","toBeMoved","toArea","toItems","UmbId","_context","_currentDragItem","_debouncedFilter","_initialized","_value","_UmbPropertyEditorUiTiptapStatusbarConfigurationElement_instances","onClick_fn","onDragStart_fn","onDragOver_fn","onDragEnd_fn","onDrop_fn","onFilterInput_fn","renderAvailableItems_fn","renderAvailableItem_fn","renderDesigner_fn","renderArea_fn","renderItem_fn","UmbPropertyEditorUiTiptapStatusbarConfigurationElement","UmbLitElement","__privateAdd","debounce","__privateGet","UMB_PROPERTY_CONTEXT","propertyContext","reload","__privateSet","html","__privateMethod","item","lastArea","lastItem","event","fromPos","toPos","label","when","repeat","forbidden","inUse","nothing","e","idx","icon","css","__decorateClass","state","property","customElement"],"mappings":"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"}