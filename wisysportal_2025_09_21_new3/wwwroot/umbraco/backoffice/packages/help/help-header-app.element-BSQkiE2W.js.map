{"version":3,"file":"help-header-app.element-BSQkiE2W.js","sources":["../../../src/packages/help/header-app/help-header-app.element.ts"],"sourcesContent":["import { UMB_HELP_MENU_ALIAS } from '../menu/index.js';\r\nimport { css, customElement, html, nothing, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { umbExtensionsRegistry } from '@umbraco-cms/backoffice/extension-registry';\r\nimport { UmbExtensionsManifestInitializer } from '@umbraco-cms/backoffice/extension-api';\r\nimport { UmbHeaderAppButtonElement } from '@umbraco-cms/backoffice/components';\r\nimport type { ManifestMenu } from '@umbraco-cms/backoffice/menu';\r\n\r\n@customElement('umb-help-header-app')\r\nexport class UmbHelpHeaderAppElement extends UmbHeaderAppButtonElement {\r\n\t@state()\r\n\tprivate _helpMenuHasMenuItems = false;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tnew UmbExtensionsManifestInitializer(\r\n\t\t\tthis,\r\n\t\t\tumbExtensionsRegistry,\r\n\t\t\t'menuItem',\r\n\t\t\t(manifest) => manifest.meta.menus.includes(UMB_HELP_MENU_ALIAS),\r\n\t\t\t(menuItems) => {\r\n\t\t\t\tconst manifests = menuItems.map((menuItem) => menuItem.manifest);\r\n\t\t\t\tthis._helpMenuHasMenuItems = manifests.length > 0;\r\n\t\t\t},\r\n\t\t);\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`${this.#renderButton()} ${this.#renderPopover()}`;\r\n\t}\r\n\r\n\t#renderButton() {\r\n\t\tif (!this._helpMenuHasMenuItems) return nothing;\r\n\r\n\t\treturn html`\r\n\t\t\t<uui-button compact label=${this.localize.term('general_help')} look=\"primary\" popovertarget=\"help-menu-popover\">\r\n\t\t\t\t<uui-icon name=\"icon-help-alt\"></uui-icon>\r\n\t\t\t</uui-button>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderPopover() {\r\n\t\treturn html`\r\n\t\t\t<uui-popover-container id=\"help-menu-popover\" placement=\"top-end\">\r\n\t\t\t\t<umb-popover-layout>\r\n\t\t\t\t\t<uui-scroll-container>\r\n\t\t\t\t\t\t<umb-extension-slot\r\n\t\t\t\t\t\t\ttype=\"menu\"\r\n\t\t\t\t\t\t\t.filter=${(menu: ManifestMenu) => menu.alias === UMB_HELP_MENU_ALIAS}\r\n\t\t\t\t\t\t\tdefault-element=\"umb-menu\"></umb-extension-slot>\r\n\t\t\t\t\t</uui-scroll-container>\r\n\t\t\t\t</umb-popover-layout>\r\n\t\t\t</uui-popover-container>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\t...UmbHeaderAppButtonElement.styles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\t--uui-menu-item-flat-structure: 1;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport { UmbHelpHeaderAppElement as element };\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-help-header-app': UmbHelpHeaderAppElement;\r\n\t}\r\n}\r\n"],"names":["_UmbHelpHeaderAppElement_instances","renderButton_fn","renderPopover_fn","UmbHelpHeaderAppElement","UmbHeaderAppButtonElement","__privateAdd","UmbExtensionsManifestInitializer","umbExtensionsRegistry","manifest","UMB_HELP_MENU_ALIAS","menuItems","manifests","menuItem","html","__privateMethod","nothing","menu","css","__decorateClass","state","customElement"],"mappings":";;;;;;;;;;;8OAAAA,GAAAC,GAAAC;AAQa,IAAAC,IAAN,cAAsCC,EAA0B;AAAA,EAItE,cAAc;AACP,UAAA,GALDC,EAAA,MAAAL,CAAA,GAEN,KAAQ,wBAAwB,IAK3B,IAAAM;AAAA,MACH;AAAA,MACAC;AAAA,MACA;AAAA,MACA,CAACC,MAAaA,EAAS,KAAK,MAAM,SAASC,CAAmB;AAAA,MAC9D,CAACC,MAAc;AACd,cAAMC,IAAYD,EAAU,IAAI,CAACE,MAAaA,EAAS,QAAQ;AAC1D,aAAA,wBAAwBD,EAAU,SAAS;AAAA,MAAA;AAAA,IAElD;AAAA,EAAA;AAAA,EAGQ,SAAS;AACjB,WAAOE,IAAOC,EAAK,MAAAd,GAAAC,CAAA,EAAL,UAAoB,IAAIa,EAAA,MAAKd,MAAL,KAAqB,IAAA,CAAA;AAAA,EAAA;AAoC7D;AAxDOA,IAAA,oBAAA,QAAA;AAuBNC,IAAa,WAAG;AACX,SAAC,KAAK,wBAEHY;AAAA,+BACsB,KAAK,SAAS,KAAK,cAAc,CAAC;AAAA;AAAA;AAAA,MAHvBE;AAOzC;AAEAb,IAAc,WAAG;AACT,SAAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAMQ,CAACG,MAAuBA,EAAK,UAAUP,CAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAM1E;AA9CYN,EAgDI,SAAS;AAAA,EACxB,GAAGC,EAA0B;AAAA,EAC7Ba;AAAA;AAAA;AAAA;AAAA;AAKD;AArDQC,EAAA;AAAA,EADPC,EAAM;AAAA,GADKhB,EAEJ,WAAA,yBAAA,CAAA;AAFIA,IAANe,EAAA;AAAA,EADNE,EAAc,qBAAqB;AAAA,GACvBjB,CAAA;"}