{"version":3,"file":"input-template.element-PJjhpawg.js","sources":["../../../src/packages/templating/templates/global-components/template-card/template-card.element.ts","../../../src/packages/templating/templates/global-components/input-template/input-template.element.ts"],"sourcesContent":["import { css, html, customElement, property } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UUIFormControlMixin } from '@umbraco-cms/backoffice/external/uui';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\n\r\n/**\r\n * @element umb-template-card\r\n * @slot actions\r\n * @fires open\r\n * @fires selected\r\n */\r\n// TODO: This should extends the UUICardElement, and the visual look of this should be like the UserCard or similarly.\r\n// TOOD: Consider if this should be select in the 'persisted'-select style when it is selected as a default. (But its should not use the runtime-selection style)\r\n@customElement('umb-template-card')\r\nexport class UmbTemplateCardElement extends UUIFormControlMixin(UmbLitElement, '') {\r\n\t@property({ type: String })\r\n\toverride name = '';\r\n\r\n\t@property({ type: Boolean, reflect: true })\r\n\tdefault = false;\r\n\r\n\t_id = '';\r\n\t@property({ type: String })\r\n\tpublic override set id(newId: string) {\r\n\t\tthis._id = newId;\r\n\t\tsuper.value = newId;\r\n\t}\r\n\tpublic override get id() {\r\n\t\treturn this._id;\r\n\t}\r\n\r\n\tprotected override getFormElement() {\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\t#setSelection(e: KeyboardEvent) {\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\t//this.selected = true;\r\n\t\tthis.dispatchEvent(new CustomEvent('change', { bubbles: false, composed: true }));\r\n\t}\r\n\t#openTemplate(e: KeyboardEvent) {\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\tthis.dispatchEvent(new CustomEvent('open', { bubbles: false, composed: true }));\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`<div id=\"card\">\r\n\t\t\t<button id=\"open-part\" aria-label=\"Open ${this.name}\" @click=\"${this.#openTemplate}\">\r\n\t\t\t\t<uui-icon class=\"logo\" name=\"icon-document-html\"></uui-icon>\r\n\t\t\t\t<strong>${this.name.length ? this.name : 'Untitled template'}</strong>\r\n\t\t\t</button>\r\n\t\t\t<uui-button\r\n\t\t\t\tid=\"bottom\"\r\n\t\t\t\tlabel=\"${this.localize.term('settings_defaulttemplate')}\"\r\n\t\t\t\t?disabled=\"${this.default}\"\r\n\t\t\t\t@click=\"${this.#setSelection}\">\r\n\t\t\t\t(${this.localize.term(this.default ? 'settings_defaulttemplate' : 'grid_setAsDefault')})\r\n\t\t\t</uui-button>\r\n\t\t\t<slot name=\"actions\"></slot>\r\n\t\t</div>`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tdisplay: contents;\r\n\t\t\t\tposition: relative;\r\n\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tborder: 1px solid red;\r\n\t\t\t\tmargin: auto;\r\n\t\t\t}\r\n\r\n\t\t\t#card {\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tmax-width: 180px;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\talign-items: stretch;\r\n\t\t\t\tborder-radius: var(--uui-border-radius);\r\n\t\t\t\tborder: 1px solid var(--uui-color-divider-emphasis);\r\n\t\t\t\tbackground-color: var(--uui-color-background);\r\n\t\t\t\tpadding: var(--uui-size-4);\r\n\t\t\t}\r\n\r\n\t\t\t#bottom {\r\n\t\t\t\tmargin-top: auto;\r\n\t\t\t}\r\n\r\n\t\t\tslot[name='actions'] {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: var(--uui-size-4);\r\n\t\t\t\tright: var(--uui-size-4);\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: right;\r\n\r\n\t\t\t\topacity: 0;\r\n\t\t\t\ttransition: opacity 120ms;\r\n\t\t\t}\r\n\r\n\t\t\t:host(:focus) slot[name='actions'],\r\n\t\t\t:host(:focus-within) slot[name='actions'],\r\n\t\t\t:host(:hover) slot[name='actions'] {\r\n\t\t\t\topacity: 1;\r\n\t\t\t}\r\n\r\n\t\t\t#open-part {\r\n\t\t\t\tborder: none;\r\n\t\t\t\toutline: none;\r\n\t\t\t\tbackground: none;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tfont-weight: 700;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t\tflex-grow: 1;\r\n\t\t\t\tfont-family: inherit;\r\n\t\t\t}\r\n\r\n\t\t\t#open-part,\r\n\t\t\t#card {\r\n\t\t\t\tgap: var(--uui-size-space-2);\r\n\t\t\t}\r\n\r\n\t\t\t#open-part strong {\r\n\t\t\t\tflex-grow: 1;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t}\r\n\r\n\t\t\t:host([disabled]) #open-part {\r\n\t\t\t\tpointer-events: none;\r\n\t\t\t}\r\n\r\n\t\t\t#open-part:focus-visible,\r\n\t\t\t#open-part:focus-visible uui-icon,\r\n\t\t\t#open-part:hover,\r\n\t\t\t#open-part:hover uui-icon {\r\n\t\t\t\ttext-decoration: underline;\r\n\t\t\t\tcolor: var(--uui-color-interactive-emphasis);\r\n\t\t\t}\r\n\r\n\t\t\t#open-part uui-icon {\r\n\t\t\t\tfont-size: var(--uui-size-20);\r\n\t\t\t\tcolor: var(--uui-color-divider-emphasis);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbTemplateCardElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-template-card': UmbTemplateCardElement;\r\n\t}\r\n}\r\n","import type { UmbTemplateCardElement } from '../template-card/template-card.element.js';\r\nimport '../template-card/template-card.element.js';\r\nimport type { UmbTemplateItemModel } from '../../repository/item/index.js';\r\nimport { UmbTemplateItemRepository } from '../../repository/item/index.js';\r\nimport { UMB_TEMPLATE_PICKER_MODAL } from '../../modals/index.js';\r\nimport { css, html, customElement, property, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UUIFormControlMixin } from '@umbraco-cms/backoffice/external/uui';\r\nimport { umbOpenModal } from '@umbraco-cms/backoffice/modal';\r\nimport { UMB_WORKSPACE_MODAL } from '@umbraco-cms/backoffice/workspace';\r\nimport { UmbModalRouteRegistrationController } from '@umbraco-cms/backoffice/router';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\n\r\n@customElement('umb-input-template')\r\nexport class UmbInputTemplateElement extends UUIFormControlMixin(UmbLitElement, '') {\r\n\t/**\r\n\t * This is a minimum amount of selected items in this input.\r\n\t * @type {number}\r\n\t * @attr\r\n\t * @default undefined\r\n\t */\r\n\t@property({ type: Number })\r\n\tmin?: number;\r\n\r\n\t/**\r\n\t * Min validation message.\r\n\t * @type {boolean}\r\n\t * @attr\r\n\t * @default\r\n\t */\r\n\t@property({ type: String, attribute: 'min-message' })\r\n\tminMessage = 'This field needs more items';\r\n\r\n\t/**\r\n\t * This is a maximum amount of selected items in this input.\r\n\t * @type {number}\r\n\t * @attr\r\n\t * @default undefined\r\n\t */\r\n\t@property({ type: Number })\r\n\tmax?: number;\r\n\r\n\t/**\r\n\t * Max validation message.\r\n\t * @type {boolean}\r\n\t * @attr\r\n\t * @default\r\n\t */\r\n\t@property({ type: String, attribute: 'min-message' })\r\n\tmaxMessage = 'This field exceeds the allowed amount of items';\r\n\r\n\t@property({ type: Array })\r\n\tpublic set selection(newKeys: Array<string> | undefined) {\r\n\t\tthis._selection = newKeys ?? [];\r\n\t\tthis.#observePickedTemplates();\r\n\t}\r\n\tpublic get selection() {\r\n\t\treturn this._selection;\r\n\t}\r\n\t_selection: Array<string> = [];\r\n\r\n\t_defaultUnique = '';\r\n\t@property({ type: String })\r\n\tpublic set defaultUnique(newId: string) {\r\n\t\tthis._defaultUnique = newId;\r\n\t\tsuper.value = newId;\r\n\t}\r\n\tpublic get defaultUnique(): string {\r\n\t\treturn this._defaultUnique;\r\n\t}\r\n\r\n\tprivate _templateItemRepository = new UmbTemplateItemRepository(this);\r\n\r\n\t@state()\r\n\t_pickedTemplates: UmbTemplateItemModel[] = [];\r\n\r\n\t#templatePath = '';\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tnew UmbModalRouteRegistrationController(this, UMB_WORKSPACE_MODAL)\r\n\t\t\t.addAdditionalPath('template')\r\n\t\t\t.onSetup(() => {\r\n\t\t\t\treturn { data: { entityType: 'template', preset: {} } };\r\n\t\t\t})\r\n\t\t\t.observeRouteBuilder((routeBuilder) => {\r\n\t\t\t\tthis.#templatePath = routeBuilder({});\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync #observePickedTemplates() {\r\n\t\tthis.observe(\r\n\t\t\t(await this._templateItemRepository?.requestItems(this._selection))?.asObservable?.(),\r\n\t\t\t(data) => {\r\n\t\t\t\tconst oldValue = this._pickedTemplates;\r\n\t\t\t\tthis._pickedTemplates = data ?? [];\r\n\t\t\t\tthis.requestUpdate('_pickedTemplates', oldValue);\r\n\t\t\t},\r\n\t\t\t'_observeTemplates',\r\n\t\t);\r\n\t}\r\n\r\n\tprotected override getFormElement() {\r\n\t\treturn this;\r\n\t}\r\n\r\n\t#appendTemplates(unique: string[]) {\r\n\t\tthis.selection = [...(this.selection ?? []), ...unique];\r\n\r\n\t\t// If there is no default, set the first picked template as default.\r\n\t\tif (!this.defaultUnique && this.selection.length) {\r\n\t\t\tthis.defaultUnique = this.selection[0];\r\n\t\t}\r\n\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\t#onCardChange(e: CustomEvent) {\r\n\t\te.stopPropagation();\r\n\t\tconst unique = (e.target as UmbTemplateCardElement).value as string;\r\n\t\tthis.defaultUnique = unique;\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\tasync #openPicker() {\r\n\t\tconst value = await umbOpenModal(this, UMB_TEMPLATE_PICKER_MODAL, {\r\n\t\t\tdata: {\r\n\t\t\t\tmultiple: true,\r\n\t\t\t\tpickableFilter: (template) => template.unique !== null && !this._selection.includes(template.unique),\r\n\t\t\t},\r\n\t\t}).catch(() => undefined);\r\n\r\n\t\tif (!value?.selection) return;\r\n\r\n\t\tconst selection = value.selection.filter((x) => x !== null) as Array<string>;\r\n\r\n\t\tif (!selection.length) return;\r\n\r\n\t\t// Add templates to row of picked templates and dispatch change event\r\n\t\tthis.#appendTemplates(selection);\r\n\t}\r\n\r\n\t#removeTemplate(unique: string) {\r\n\t\t/*\r\n\t\tTODO: We need to follow up on this experience.\r\n\t\tCould we test if this document type is in use, if so we should have a dialog notifying the user(Dialog, are you sure...) about that we might will break something?\r\n\t\tIf thats the case, Im not why if a template will be removed from an actual document.\r\n\t\tIf if its just the option that will go away.\r\n\t\t(Comment by Niels)\r\n\t\tIn current backoffice we just prevent deleting a default when there are other templates. But if its the only one its okay. This is a weird experience, so we should make something that makes more sense.\r\n\t\tBTW. its weird cause the damage of removing the default template is equally bad when there is one or more templates.\r\n\t\t*/\r\n\t\tthis.selection = this._selection.filter((x) => x !== unique);\r\n\r\n\t\t// If the default template is removed, set the first picked template as default or reset defaultUnique.\r\n\t\tif (unique === this.defaultUnique) {\r\n\t\t\tif (this.selection.length) {\r\n\t\t\t\tthis.defaultUnique = this.selection[0];\r\n\t\t\t} else {\r\n\t\t\t\tthis.defaultUnique = '';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t${this._pickedTemplates.map(\r\n\t\t\t\t(template) => html`\r\n\t\t\t\t\t<umb-template-card\r\n\t\t\t\t\t\t.id=${template.unique}\r\n\t\t\t\t\t\t.name=${template.name}\r\n\t\t\t\t\t\t@change=${this.#onCardChange}\r\n\t\t\t\t\t\t@open=${() => window.history.pushState({}, '', this.#templatePath + 'edit/' + template.unique)}\r\n\t\t\t\t\t\t?default=${template.unique === this.defaultUnique}>\r\n\t\t\t\t\t\t<uui-button\r\n\t\t\t\t\t\t\tslot=\"actions\"\r\n\t\t\t\t\t\t\tcompact\r\n\t\t\t\t\t\t\tlabel=${this.localize.term('general_remove') + ' ' + template.name}\r\n\t\t\t\t\t\t\t@click=${() => this.#removeTemplate(template.unique ?? '')}>\r\n\t\t\t\t\t\t\t<uui-icon name=\"icon-trash\"></uui-icon>\r\n\t\t\t\t\t\t</uui-button>\r\n\t\t\t\t\t</umb-template-card>\r\n\t\t\t\t`,\r\n\t\t\t)}\r\n\t\t\t<uui-button\r\n\t\t\t\tid=\"btn-add\"\r\n\t\t\t\tlook=\"placeholder\"\r\n\t\t\t\tlabel=${this.localize.term('general_choose')}\r\n\t\t\t\t@click=${this.#openPicker}></uui-button>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: grid;\r\n\t\t\t\tgap: var(--uui-size-space-3);\r\n\t\t\t\tgrid-template-columns: repeat(auto-fill, minmax(var(--umb-card-medium-min-width), 1fr));\r\n\t\t\t\tgrid-template-rows: repeat(auto-fill, minmax(var(--umb-card-medium-min-width), 1fr));\r\n\t\t\t}\r\n\r\n\t\t\t#btn-add {\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbInputTemplateElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-input-template': UmbInputTemplateElement;\r\n\t}\r\n}\r\n"],"names":["_UmbTemplateCardElement_instances","setSelection_fn","openTemplate_fn","UmbTemplateCardElement","UUIFormControlMixin","UmbLitElement","__privateAdd","newId","html","__privateMethod","css","__decorateClass","property","customElement","_templatePath","_UmbInputTemplateElement_instances","observePickedTemplates_fn","appendTemplates_fn","onCardChange_fn","openPicker_fn","removeTemplate_fn","UmbInputTemplateElement","UmbTemplateItemRepository","UmbModalRouteRegistrationController","UMB_WORKSPACE_MODAL","routeBuilder","__privateSet","newKeys","template","__privateGet","data","oldValue","unique","UmbChangeEvent","value","umbOpenModal","UMB_TEMPLATE_PICKER_MODAL","selection","x","state"],"mappings":"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"}