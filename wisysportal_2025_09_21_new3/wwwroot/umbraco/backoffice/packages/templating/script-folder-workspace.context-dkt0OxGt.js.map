{"version":3,"file":"script-folder-workspace.context-dkt0OxGt.js","sources":["../../../src/packages/templating/scripts/tree/folder/workspace/script-folder-workspace-editor.element.ts","../../../src/packages/templating/scripts/tree/folder/workspace/script-folder-workspace.context.ts"],"sourcesContent":["import { UMB_SCRIPT_FOLDER_WORKSPACE_CONTEXT } from './script-folder-workspace.context-token.js';\r\nimport { html, customElement } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\n\r\n@customElement('umb-script-folder-workspace-editor')\r\nexport class UmbScriptFolderWorkspaceEditorElement extends UmbLitElement {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_SCRIPT_FOLDER_WORKSPACE_CONTEXT, (workspaceContext) => {\r\n\t\t\tworkspaceContext?.nameWriteGuard.addRule({\r\n\t\t\t\tunique: 'UMB_SERVER_PREVENT_FILE_SYSTEM_FOLDER_RENAME',\r\n\t\t\t\tpermitted: false,\r\n\t\t\t\tmessage: 'It is not possible to change the name of a script folder.',\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`<umb-folder-workspace-editor></umb-folder-workspace-editor>`;\r\n\t}\r\n}\r\n\r\nexport { UmbScriptFolderWorkspaceEditorElement as element };\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t['umb-script-folder-workspace-editor']: UmbScriptFolderWorkspaceEditorElement;\r\n\t}\r\n}\r\n","import { UMB_SCRIPT_FOLDER_REPOSITORY_ALIAS, type UmbScriptFolderRepository } from '../repository/index.js';\r\nimport { UMB_SCRIPT_FOLDER_ENTITY_TYPE } from '../../../entity.js';\r\nimport { UMB_SCRIPT_FOLDER_WORKSPACE_ALIAS } from './constants.js';\r\nimport { UmbScriptFolderWorkspaceEditorElement } from './script-folder-workspace-editor.element.js';\r\nimport type { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport {\r\n\tUmbEntityNamedDetailWorkspaceContextBase,\r\n\ttype UmbRoutableWorkspaceContext,\r\n\ttype UmbSubmittableWorkspaceContext,\r\n} from '@umbraco-cms/backoffice/workspace';\r\nimport type { IRoutingInfo, PageComponent } from '@umbraco-cms/backoffice/router';\r\nimport type { UmbFolderModel } from '@umbraco-cms/backoffice/tree';\r\n\r\nexport class UmbScriptFolderWorkspaceContext\r\n\textends UmbEntityNamedDetailWorkspaceContextBase<UmbFolderModel, UmbScriptFolderRepository>\r\n\timplements UmbSubmittableWorkspaceContext, UmbRoutableWorkspaceContext\r\n{\r\n\tconstructor(host: UmbControllerHost) {\r\n\t\tsuper(host, {\r\n\t\t\tworkspaceAlias: UMB_SCRIPT_FOLDER_WORKSPACE_ALIAS,\r\n\t\t\tentityType: UMB_SCRIPT_FOLDER_ENTITY_TYPE,\r\n\t\t\tdetailRepositoryAlias: UMB_SCRIPT_FOLDER_REPOSITORY_ALIAS,\r\n\t\t});\r\n\r\n\t\tthis.routes.setRoutes([\r\n\t\t\t{\r\n\t\t\t\tpath: 'edit/:unique',\r\n\t\t\t\tcomponent: UmbScriptFolderWorkspaceEditorElement,\r\n\t\t\t\tsetup: (component: PageComponent, info: IRoutingInfo) => {\r\n\t\t\t\t\tconst unique = info.match.params.unique;\r\n\t\t\t\t\tthis.load(unique);\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t]);\r\n\t}\r\n}\r\n\r\nexport { UmbScriptFolderWorkspaceContext as api };\r\n"],"names":["UmbScriptFolderWorkspaceEditorElement","UmbLitElement","UMB_SCRIPT_FOLDER_WORKSPACE_CONTEXT","workspaceContext","html","__decorateClass","customElement","UmbScriptFolderWorkspaceContext","UmbEntityNamedDetailWorkspaceContextBase","host","UMB_SCRIPT_FOLDER_WORKSPACE_ALIAS","UMB_SCRIPT_FOLDER_ENTITY_TYPE","UMB_SCRIPT_FOLDER_REPOSITORY_ALIAS","component","info","unique"],"mappings":";;;;;;;;;;;;;;AAKa,IAAAA,IAAN,cAAoDC,EAAc;AAAA,EACxE,cAAc;AACP,UAAA,GAED,KAAA,eAAeC,GAAqC,CAACC,MAAqB;AAC9E,MAAAA,GAAkB,eAAe,QAAQ;AAAA,QACxC,QAAQ;AAAA,QACR,WAAW;AAAA,QACX,SAAS;AAAA,MAAA,CACT;AAAA,IAAA,CACD;AAAA,EAAA;AAAA,EAGO,SAAS;AACV,WAAAC;AAAA,EAAA;AAET;AAhBaJ,IAANK,EAAA;AAAA,EADNC,EAAc,oCAAoC;AAAA,GACtCN,CAAA;ACQN,MAAMO,UACJC,EAET;AAAA,EACC,YAAYC,GAAyB;AACpC,UAAMA,GAAM;AAAA,MACX,gBAAgBC;AAAA,MAChB,YAAYC;AAAA,MACZ,uBAAuBC;AAAA,IAAA,CACvB,GAED,KAAK,OAAO,UAAU;AAAA,MACrB;AAAA,QACC,MAAM;AAAA,QACN,WAAWZ;AAAA,QACX,OAAO,CAACa,GAA0BC,MAAuB;AAClD,gBAAAC,IAASD,EAAK,MAAM,OAAO;AACjC,eAAK,KAAKC,CAAM;AAAA,QAAA;AAAA,MACjB;AAAA,IACD,CACA;AAAA,EAAA;AAEH;"}