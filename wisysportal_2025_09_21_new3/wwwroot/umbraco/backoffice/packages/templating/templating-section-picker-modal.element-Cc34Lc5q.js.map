{"version":3,"file":"templating-section-picker-modal.element-Cc34Lc5q.js","sources":["../../../src/packages/templating/modals/templating-section-picker/templating-section-picker-modal.element.ts"],"sourcesContent":["import { getAddSectionSnippet, getRenderBodySnippet, getRenderSectionSnippet } from '../../utils/index.js';\r\nimport { TemplatingSectionType } from '../../types.js';\r\nimport type {\r\n\tUmbTemplatingSectionPickerModalData,\r\n\tUmbTemplatingSectionPickerModalValue,\r\n} from './templating-section-picker-modal.token.js';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { css, html, customElement, state, query } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbModalBaseElement } from '@umbraco-cms/backoffice/modal';\r\nimport type { UUIBooleanInputElement, UUIInputElement } from '@umbraco-cms/backoffice/external/uui';\r\n\r\n@customElement('umb-templating-section-picker-modal')\r\nexport class UmbTemplatingSectionPickerModalElement extends UmbModalBaseElement<\r\n\tUmbTemplatingSectionPickerModalData,\r\n\tUmbTemplatingSectionPickerModalValue\r\n> {\r\n\t@query('#render-named-section-name')\r\n\tprivate _renderNamedSectionNameInput?: UUIInputElement;\r\n\r\n\t@query('#define-named-section-name')\r\n\tprivate _defineNamedSectionNameInput?: UUIInputElement;\r\n\r\n\t@query('#render-named-section-is-mandatory')\r\n\tprivate _renderNamedSectionIsMandatoryCheckbox?: UUIBooleanInputElement;\r\n\r\n\t@state()\r\n\tprivate _pickedSection: TemplatingSectionType = TemplatingSectionType.renderChildTemplate;\r\n\r\n\t#close() {\r\n\t\tthis.modalContext?.reject();\r\n\t}\r\n\r\n\t#submit() {\r\n\t\tswitch (this._pickedSection) {\r\n\t\t\tcase TemplatingSectionType.renderChildTemplate:\r\n\t\t\t\tthis.value = { value: getRenderBodySnippet() };\r\n\t\t\t\tbreak;\r\n\t\t\tcase TemplatingSectionType.renderANamedSection:\r\n\t\t\t\tthis.value = {\r\n\t\t\t\t\tvalue: getRenderSectionSnippet(\r\n\t\t\t\t\t\tthis._renderNamedSectionNameInput?.value as string,\r\n\t\t\t\t\t\tthis._renderNamedSectionIsMandatoryCheckbox?.checked ?? false,\r\n\t\t\t\t\t),\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase TemplatingSectionType.defineANamedSection:\r\n\t\t\t\tthis.value = { value: getAddSectionSnippet(this._defineNamedSectionNameInput?.value as string) };\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tthis.modalContext?.submit();\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-body-layout headline=${this.localize.term('template_insert')}>\r\n\t\t\t\t<uui-box>\r\n\t\t\t\t\t<div id=\"main\">\r\n\t\t\t\t\t\t${this.#renderRenderChildTemplate()} ${this.#renderRenderANamedSection()}\r\n\t\t\t\t\t\t${this.#renderDefineANamedSection()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</uui-box>\r\n\r\n\t\t\t\t<div slot=\"actions\">\r\n\t\t\t\t\t<uui-button @click=${this.#close} look=\"secondary\" label=${this.localize.term('general_close')}></uui-button>\r\n\t\t\t\t\t<uui-button\r\n\t\t\t\t\t\t@click=${this.#submit}\r\n\t\t\t\t\t\tlook=\"primary\"\r\n\t\t\t\t\t\tcolor=\"positive\"\r\n\t\t\t\t\t\tlabel=${this.localize.term('general_submit')}></uui-button>\r\n\t\t\t\t</div>\r\n\t\t\t</umb-body-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderRenderChildTemplate() {\r\n\t\treturn html`<uui-button\r\n\t\t\tlabel=${this.localize.term('template_renderBody')}\r\n\t\t\t@click=${() => (this._pickedSection = TemplatingSectionType.renderChildTemplate)}\r\n\t\t\tlook=\"placeholder\">\r\n\t\t\t${this._pickedSection === TemplatingSectionType.renderChildTemplate\r\n\t\t\t\t? html`<uui-badge color=\"positive\"><uui-icon name=\"icon-check\"></uui-icon></uui-badge>`\r\n\t\t\t\t: ''}\r\n\t\t\t<h3><umb-localize key=\"template_renderBody\">Render Child Template</umb-localize></h3>\r\n\t\t\t<p>\r\n\t\t\t\t<umb-localize key=\"template_renderBodyDesc\">\r\n\t\t\t\t\tRenders the contents of a child template, by inserting a <code>@RenderBody()</code> placeholder.\r\n\t\t\t\t</umb-localize>\r\n\t\t\t</p>\r\n\t\t</uui-button>`;\r\n\t}\r\n\r\n\t#renderRenderANamedSection() {\r\n\t\treturn html`<uui-button\r\n\t\t\tlabel=${this.localize.term('template_renderSection')}\r\n\t\t\t@click=${() => (this._pickedSection = TemplatingSectionType.renderANamedSection)}\r\n\t\t\tlook=\"placeholder\">\r\n\t\t\t${this._pickedSection === TemplatingSectionType.renderANamedSection\r\n\t\t\t\t? html`<uui-badge color=\"positive\"><uui-icon name=\"icon-check\"></uui-icon></uui-badge>`\r\n\t\t\t\t: ''}\r\n\t\t\t<h3><umb-localize key=\"template_renderSection\">Render a named section</umb-localize></h3>\r\n\t\t\t<p>\r\n\t\t\t\t<umb-localize key=\"template_renderSectionDesc\">\r\n\t\t\t\t\tRenders a named area of a child template, by inserting a\r\n\t\t\t\t\t<code>@RenderSection(name)</code> placeholder. This renders an area of a child template which is wrapped in a\r\n\t\t\t\t\tcorresponding <code>@section [name]{ ... }</code> definition.\r\n\t\t\t\t</umb-localize>\r\n\t\t\t</p>\r\n\t\t\t${this._pickedSection === TemplatingSectionType.renderANamedSection\r\n\t\t\t\t? html`<div class=\"section\">\r\n\t\t\t\t\t\t<uui-label for=\"render-named-section-name\" required>\r\n\t\t\t\t\t\t\t<umb-localize key=\"template_sectionName\">Section Name</umb-localize>\r\n\t\t\t\t\t\t</uui-label>\r\n\t\t\t\t\t\t<uui-input id=\"render-named-section-name\" label=${this.localize.term('template_sectionName')}></uui-input>\r\n\t\t\t\t\t\t<uui-checkbox\r\n\t\t\t\t\t\t\tid=\"render-named-section-is-mandatory\"\r\n\t\t\t\t\t\t\tlabel=${this.localize.term('template_sectionMandatory')}></uui-checkbox>\r\n\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t<umb-localize key=\"template_sectionMandatoryDesc\">\r\n\t\t\t\t\t\t\t\tIf mandatory, the child template must contain a <code>@section</code> definition, otherwise an error is\r\n\t\t\t\t\t\t\t\tshown.\r\n\t\t\t\t\t\t\t</umb-localize>\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t</div>`\r\n\t\t\t\t: ''}\r\n\t\t</uui-button>`;\r\n\t}\r\n\r\n\t#renderDefineANamedSection() {\r\n\t\treturn html`<uui-button\r\n\t\t\tlabel=${this.localize.term('template_defineSection')}\r\n\t\t\t@click=${() => (this._pickedSection = TemplatingSectionType.defineANamedSection)}\r\n\t\t\tlook=\"placeholder\">\r\n\t\t\t${this._pickedSection === TemplatingSectionType.defineANamedSection\r\n\t\t\t\t? html`<uui-badge color=\"positive\"><uui-icon name=\"icon-check\"></uui-icon></uui-badge>`\r\n\t\t\t\t: ''}\r\n\t\t\t<h3><umb-localize key=\"template_defineSection\">Define a named section</umb-localize></h3>\r\n\t\t\t<p>\r\n\t\t\t\t<umb-localize key=\"template_defineSectionDesc\">\r\n\t\t\t\t\tDefines a part of your template as a named section by wrapping it in <code>@section { ... }</code>. This can\r\n\t\t\t\t\tbe rendered in a specific area of the parent of this template, by using <code>@RenderSection</code>.\r\n\t\t\t\t</umb-localize>\r\n\t\t\t</p>\r\n\t\t\t${this._pickedSection === TemplatingSectionType.defineANamedSection\r\n\t\t\t\t? html`<div class=\"section\">\r\n\t\t\t\t\t\t<uui-label for=\"define-named-section-name\" required>\r\n\t\t\t\t\t\t\t<umb-localize key=\"template_sectionName\">Section Name</umb-localize>\r\n\t\t\t\t\t\t</uui-label>\r\n\t\t\t\t\t\t<uui-input id=\"define-named-section-name\" label=${this.localize.term('template_sectionName')}></uui-input>\r\n\t\t\t\t\t</div>`\r\n\t\t\t\t: ''}\r\n\t\t</uui-button>`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\tcode {\r\n\t\t\t\tbackground-color: var(--uui-color-surface-alt);\r\n\t\t\t\tborder: 1px solid var(--uui-color-border);\r\n\t\t\t\tborder-radius: var(--uui-border-radius);\r\n\t\t\t}\r\n\r\n\t\t\t#main {\r\n\t\t\t\tdisplay: grid;\r\n\t\t\t\tgrid-gap: var(--uui-size-space-5);\r\n\t\t\t}\r\n\r\n\t\t\t.section {\r\n\t\t\t\tdisplay: grid;\r\n\t\t\t}\r\n\r\n\t\t\tuui-button {\r\n\t\t\t\ttext-align: left;\r\n\t\t\t}\r\n\r\n\t\t\tuui-button p {\r\n\t\t\t\tmargin-top: 0;\r\n\t\t\t}\r\n\r\n\t\t\tuui-input,\r\n\t\t\tsmall {\r\n\t\t\t\tmargin-block: var(--uui-size-space-2) var(--uui-size-space-6);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbTemplatingSectionPickerModalElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-templating-section-picker-modal': UmbTemplatingSectionPickerModalElement;\r\n\t}\r\n}\r\n"],"names":["_UmbTemplatingSectionPickerModalElement_instances","close_fn","submit_fn","renderRenderChildTemplate_fn","renderRenderANamedSection_fn","renderDefineANamedSection_fn","UmbTemplatingSectionPickerModalElement","UmbModalBaseElement","__privateAdd","TemplatingSectionType","html","__privateMethod","getRenderBodySnippet","getRenderSectionSnippet","getAddSectionSnippet","UmbTextStyles","css","__decorateClass","query","state","customElement","UmbTemplatingSectionPickerModalElement$1"],"mappings":";;;;;;;;;;;8OAAAA,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC;AAYa,IAAAC,IAAN,cAAqDC,EAG1D;AAAA,EAHK,cAAA;AAAA,UAAA,GAAA,SAAA,GAAAC,EAAA,MAAAR,CAAA,GAcN,KAAQ,iBAAwCS,EAAsB;AAAA,EAAA;AAAA,EA0B7D,SAAS;AACV,WAAAC;AAAA,+BACsB,KAAK,SAAS,KAAK,iBAAiB,CAAC;AAAA;AAAA;AAAA,QAG5DC,QAAKX,GAALG,CAAA,EAAA,KAAA,IAAA,CAAiC,IAAIQ,EAAA,MAAKX,MAAL,KAAiC,IAAA,CAAA;AAAA,QACtEW,EAAA,MAAKX,MAAL,KAAiC,IAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAKfW,QAAKX,GAAMC,CAAA,CAAA,2BAA2B,KAAK,SAAS,KAAK,eAAe,CAAC;AAAA;AAAA,eAEpFU,QAAKX,GAAOE,CAAA,CAAA;AAAA;AAAA;AAAA,cAGb,KAAK,SAAS,KAAK,gBAAgB,CAAC;AAAA;AAAA;AAAA;AAAA,EAAA;AAqHlD;AA7KOF,IAAA,oBAAA,QAAA;AAgBNC,IAAM,WAAG;AACR,OAAK,cAAc,OAAO;AAC3B;AAEAC,IAAO,WAAG;AACT,UAAQ,KAAK,gBAAgB;AAAA,IAC5B,KAAKO,EAAsB;AAC1B,WAAK,QAAQ,EAAE,OAAOG,EAAA,EAAuB;AAC7C;AAAA,IACD,KAAKH,EAAsB;AAC1B,WAAK,QAAQ;AAAA,QACZ,OAAOI;AAAA,UACN,KAAK,8BAA8B;AAAA,UACnC,KAAK,wCAAwC,WAAW;AAAA,QAAA;AAAA,MAE1D;AACA;AAAA,IACD,KAAKJ,EAAsB;AAC1B,WAAK,QAAQ,EAAE,OAAOK,EAAqB,KAAK,8BAA8B,KAAe,EAAE;AAC/F;AAAA,EAAA;AAEF,OAAK,cAAc,OAAO;AAC3B;AAwBAX,IAA0B,WAAG;AACrB,SAAAO;AAAA,WACE,KAAK,SAAS,KAAK,qBAAqB,CAAC;AAAA,YACxC,MAAO,KAAK,iBAAiBD,EAAsB,mBAAoB;AAAA;AAAA,KAE9E,KAAK,mBAAmBA,EAAsB,sBAC7CC,qFACA,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQP;AAEAN,IAA0B,WAAG;AACrB,SAAAM;AAAA,WACE,KAAK,SAAS,KAAK,wBAAwB,CAAC;AAAA,YAC3C,MAAO,KAAK,iBAAiBD,EAAsB,mBAAoB;AAAA;AAAA,KAE9E,KAAK,mBAAmBA,EAAsB,sBAC7CC,qFACA,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASH,KAAK,mBAAmBD,EAAsB,sBAC7CC;AAAA;AAAA;AAAA;AAAA,wDAIkD,KAAK,SAAS,KAAK,sBAAsB,CAAC;AAAA;AAAA;AAAA,eAGnF,KAAK,SAAS,KAAK,2BAA2B,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAQxD,EAAE;AAAA;AAEP;AAEAL,IAA0B,WAAG;AACrB,SAAAK;AAAA,WACE,KAAK,SAAS,KAAK,wBAAwB,CAAC;AAAA,YAC3C,MAAO,KAAK,iBAAiBD,EAAsB,mBAAoB;AAAA;AAAA,KAE9E,KAAK,mBAAmBA,EAAsB,sBAC7CC,qFACA,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQH,KAAK,mBAAmBD,EAAsB,sBAC7CC;AAAA;AAAA;AAAA;AAAA,wDAIkD,KAAK,SAAS,KAAK,sBAAsB,CAAC;AAAA,eAE5F,EAAE;AAAA;AAEP;AA3IYJ,EA6II,SAAS;AAAA,EACxBS;AAAA,EACAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA6BD;AAvKQC,EAAA;AAAA,EADPC,EAAM,4BAA4B;AAAA,GAJvBZ,EAKJ,WAAA,gCAAA,CAAA;AAGAW,EAAA;AAAA,EADPC,EAAM,4BAA4B;AAAA,GAPvBZ,EAQJ,WAAA,gCAAA,CAAA;AAGAW,EAAA;AAAA,EADPC,EAAM,oCAAoC;AAAA,GAV/BZ,EAWJ,WAAA,0CAAA,CAAA;AAGAW,EAAA;AAAA,EADPE,EAAM;AAAA,GAbKb,EAcJ,WAAA,kBAAA,CAAA;AAdIA,IAANW,EAAA;AAAA,EADNG,EAAc,qCAAqC;AAAA,GACvCd,CAAA;AA+Kb,MAAAe,IAAef;"}