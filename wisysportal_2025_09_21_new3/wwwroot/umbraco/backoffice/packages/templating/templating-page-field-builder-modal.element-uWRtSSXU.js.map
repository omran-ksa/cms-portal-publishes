{"version":3,"file":"templating-page-field-builder-modal.element-uWRtSSXU.js","sources":["../../../src/packages/templating/modals/templating-page-field-builder/components/template-field-dropdown-list/template-field-dropdown-list.element.ts","../../../src/packages/templating/modals/templating-page-field-builder/templating-page-field-builder-modal.element.ts"],"sourcesContent":["import type { UmbPropertyTypeModel } from '@umbraco-cms/backoffice/content-type';\r\nimport { UmbDocumentTypeDetailRepository, UMB_DOCUMENT_TYPE_PICKER_MODAL } from '@umbraco-cms/backoffice/document-type';\r\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\nimport {\r\n\tcss,\r\n\thtml,\r\n\tcustomElement,\r\n\tproperty,\r\n\tstate,\r\n\trepeat,\r\n\tifDefined,\r\n\tnothing,\r\n\tquery,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport type { UUIComboboxEvent, UUIComboboxElement } from '@umbraco-cms/backoffice/external/uui';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbMediaTypeDetailRepository, UMB_MEDIA_TYPE_PICKER_MODAL } from '@umbraco-cms/backoffice/media-type';\r\nimport { UMB_MODAL_MANAGER_CONTEXT, type UmbModalManagerContext } from '@umbraco-cms/backoffice/modal';\r\nimport {\r\n\tUMB_VALIDATION_EMPTY_LOCALIZATION_KEY,\r\n\tUmbFormControlMixin,\r\n\ttype UmbFormControlValidatorConfig,\r\n} from '@umbraco-cms/backoffice/validation';\r\n\r\ninterface FieldPickerValue {\r\n\talias: string;\r\n\tlabel: string;\r\n}\r\n\r\nenum FieldType {\r\n\tMEDIA_TYPE = 'media-type',\r\n\tDOCUMENT_TYPE = 'document-type',\r\n\tSYSTEM = 'system',\r\n}\r\n\r\n@customElement('umb-template-field-dropdown-list')\r\nexport class UmbTemplateFieldDropdownListElement extends UmbFormControlMixin<\r\n\tFieldPickerValue | undefined,\r\n\ttypeof UmbLitElement,\r\n\tundefined\r\n>(UmbLitElement) {\r\n\t//\r\n\t#requiredValidation?: UmbFormControlValidatorConfig;\r\n\t@property({ type: Boolean })\r\n\tpublic get required(): boolean | undefined {\r\n\t\treturn undefined;\r\n\t}\r\n\tpublic set required(value: boolean | undefined) {\r\n\t\tif (value === true) {\r\n\t\t\tthis.#requiredValidation ??= this.addValidator(\r\n\t\t\t\t'valueMissing',\r\n\t\t\t\t() => this.requiredMessage,\r\n\t\t\t\t() => !this._value,\r\n\t\t\t);\r\n\t\t} else if (this.#requiredValidation) {\r\n\t\t\tthis.removeValidator(this.#requiredValidation);\r\n\t\t}\r\n\t}\r\n\r\n\t@property({ type: String })\r\n\trequiredMessage = UMB_VALIDATION_EMPTY_LOCALIZATION_KEY;\r\n\r\n\t@property({ type: Boolean, attribute: 'exclude-media-type', reflect: true })\r\n\tpublic excludeMediaType = false;\r\n\r\n\tprivate _value: FieldPickerValue | undefined;\r\n\t@property({ type: Object })\r\n\tpublic override set value(val: FieldPickerValue | undefined) {\r\n\t\tconst oldVal = this._value;\r\n\t\tthis._value = val;\r\n\t\tthis.requestUpdate('value', oldVal);\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\tpublic override get value(): FieldPickerValue | undefined {\r\n\t\treturn this._value;\r\n\t}\r\n\r\n\t@state()\r\n\tprivate _type?: FieldType;\r\n\r\n\t@state()\r\n\tprivate _uniqueName?: string;\r\n\r\n\t@state()\r\n\tprivate _unique?: string;\r\n\r\n\t@query('#value')\r\n\tprivate _valueElement?: UUIComboboxElement;\r\n\r\n\t#documentTypeDetailRepository = new UmbDocumentTypeDetailRepository(this);\r\n\t#mediaTypeDetailRepository = new UmbMediaTypeDetailRepository(this);\r\n\t#modalManager?: UmbModalManagerContext;\r\n\r\n\t@state()\r\n\tprivate _customFields: Array<Partial<UmbPropertyTypeModel>> = [];\r\n\r\n\tprivate _systemFields: Array<Partial<UmbPropertyTypeModel>> = [\r\n\t\t{ alias: 'sortOrder', name: this.localize.term('general_sort') },\r\n\t\t{ alias: 'updateDate', name: this.localize.term('content_updateDate') },\r\n\t\t{ alias: 'updater', name: this.localize.term('content_updatedBy') },\r\n\t\t{ alias: 'createDate', name: this.localize.term('content_createDate') },\r\n\t\t{ alias: 'creator', name: this.localize.term('content_createBy') },\r\n\t\t{ alias: 'published', name: this.localize.term('content_isPublished') },\r\n\t\t{ alias: 'contentTypeAlias', name: this.localize.term('content_documentType') },\r\n\t];\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.consumeContext(UMB_MODAL_MANAGER_CONTEXT, (modalManager) => {\r\n\t\t\tthis.#modalManager = modalManager;\r\n\t\t});\r\n\t}\r\n\r\n\tasync #getDocumentTypeFields() {\r\n\t\tif (!this.#modalManager) return;\r\n\t\tconst modalContext = this.#modalManager.open(this, UMB_DOCUMENT_TYPE_PICKER_MODAL, {\r\n\t\t\tdata: {\r\n\t\t\t\thideTreeRoot: true,\r\n\t\t\t\tmultiple: false,\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tconst modalValue = await modalContext.onSubmit();\r\n\t\tconst unique = modalValue.selection[0] ?? '';\r\n\r\n\t\tconst { data } = await this.#documentTypeDetailRepository.requestByUnique(unique);\r\n\t\tif (!data) return;\r\n\r\n\t\tthis._unique = data.unique;\r\n\t\tthis._uniqueName = data.name;\r\n\t\tthis._customFields = data.properties;\r\n\t}\r\n\r\n\tasync #getMediaTypeFields() {\r\n\t\tif (!this.#modalManager) return;\r\n\t\tconst modalContext = this.#modalManager.open(this, UMB_MEDIA_TYPE_PICKER_MODAL, {\r\n\t\t\tdata: {\r\n\t\t\t\thideTreeRoot: true,\r\n\t\t\t\tmultiple: false,\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tconst modalValue = await modalContext.onSubmit();\r\n\t\tconst unique = modalValue.selection[0] ?? '';\r\n\r\n\t\tconst { data } = await this.#mediaTypeDetailRepository.requestByUnique(unique);\r\n\t\tif (!data) return;\r\n\r\n\t\tthis._unique = data.unique;\r\n\t\tthis._uniqueName = data.name;\r\n\t\tthis._customFields = data.properties;\r\n\t}\r\n\r\n\t#onChange(e: UUIComboboxEvent) {\r\n\t\tthis._type = (e.composedPath()[0] as UUIComboboxElement).value as FieldType;\r\n\t\tthis.value = undefined;\r\n\t\tif (this._valueElement) this._valueElement.value = '';\r\n\r\n\t\tswitch (this._type) {\r\n\t\t\tcase FieldType.DOCUMENT_TYPE:\r\n\t\t\t\tthis.#getDocumentTypeFields();\r\n\t\t\t\tbreak;\r\n\t\t\tcase FieldType.MEDIA_TYPE:\r\n\t\t\t\tthis.#getMediaTypeFields();\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthis._uniqueName = '';\r\n\t\t\t\tthis._unique = '';\r\n\t\t\t\tthis._customFields = this._systemFields;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\t#onChangeValue(e: UUIComboboxEvent) {\r\n\t\te.stopPropagation();\r\n\t\tconst alias = (e.composedPath()[0] as UUIComboboxElement).value as FieldType;\r\n\t\tthis.value = this._customFields.find((field) => field.alias === alias) as FieldPickerValue;\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<uui-combobox id=\"preview\">\r\n\t\t\t\t<uui-combobox-list @change=${this.#onChange}>\r\n\t\t\t\t\t<uui-combobox-list-option value=\"system\">\r\n\t\t\t\t\t\t<strong>${this.localize.term('template_systemFields')}</strong>\r\n\t\t\t\t\t</uui-combobox-list-option>\r\n\t\t\t\t\t<uui-combobox-list-option value=\"document-type\" display-value=${this.localize.term('content_documentType')}>\r\n\t\t\t\t\t\t<strong> ${this.localize.term('content_documentType')} </strong>\r\n\t\t\t\t\t\t${this.localize.term('defaultdialogs_treepicker')}\r\n\t\t\t\t\t</uui-combobox-list-option>\r\n\t\t\t\t\t${!this.excludeMediaType\r\n\t\t\t\t\t\t? html`<uui-combobox-list-option\r\n\t\t\t\t\t\t\t\tvalue=\"media-type\"\r\n\t\t\t\t\t\t\t\tdisplay-value=${this.localize.term('content_mediatype')}>\r\n\t\t\t\t\t\t\t\t<strong> ${this.localize.term('content_mediatype')} </strong>\r\n\t\t\t\t\t\t\t\t${this.localize.term('defaultdialogs_treepicker')}\r\n\t\t\t\t\t\t\t</uui-combobox-list-option>`\r\n\t\t\t\t\t\t: nothing}\r\n\t\t\t\t</uui-combobox-list>\r\n\t\t\t</uui-combobox>\r\n\t\t\t${this.#renderAliasDropdown()}\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderAliasDropdown() {\r\n\t\tif (this._type !== FieldType.SYSTEM && !this._unique) return;\r\n\t\treturn html`\r\n\t\t\t<strong>${this.localize.string(this._uniqueName ?? '')}</strong>\r\n\t\t\t<uui-combobox id=\"value\" value=${ifDefined(this.value?.alias)} @change=${this.#onChangeValue}>\r\n\t\t\t\t<uui-combobox-list>\r\n\t\t\t\t\t${repeat(\r\n\t\t\t\t\t\tthis._customFields,\r\n\t\t\t\t\t\t(field) => field.alias,\r\n\t\t\t\t\t\t(field) =>\r\n\t\t\t\t\t\t\thtml`<uui-combobox-list-option value=${ifDefined(field.alias)}>${field.alias}</uui-combobox-list-option>`,\r\n\t\t\t\t\t)}\r\n\t\t\t\t</uui-combobox-list>\r\n\t\t\t</uui-combobox>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\tuui-combobox {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\t\t\tstrong {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t}\r\n\t\t\tuui-combobox-list-option {\r\n\t\t\t\tpadding: calc(var(--uui-size-2, 6px) + 1px);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbTemplateFieldDropdownListElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-template-field-dropdown-list': UmbTemplateFieldDropdownListElement;\r\n\t}\r\n}\r\n","import { getUmbracoFieldSnippet } from '../../utils/index.js';\r\nimport type {\r\n\tUmbTemplatingPageFieldBuilderModalData,\r\n\tUmbTemplatingPageFieldBuilderModalValue,\r\n} from './templating-page-field-builder-modal.token.js';\r\nimport type { UmbTemplateFieldDropdownListElement } from './components/template-field-dropdown-list/index.js';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { css, html, customElement, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbModalBaseElement } from '@umbraco-cms/backoffice/modal';\r\nimport type { UUIBooleanInputEvent, UUIButtonState, UUIInputEvent } from '@umbraco-cms/backoffice/external/uui';\r\n\r\n// import of local components\r\nimport './components/template-field-dropdown-list/index.js';\r\nimport { UmbValidationContext, umbBindToValidation } from '@umbraco-cms/backoffice/validation';\r\n\r\n@customElement('umb-templating-page-field-builder-modal')\r\nexport class UmbTemplatingPageFieldBuilderModalElement extends UmbModalBaseElement<\r\n\tUmbTemplatingPageFieldBuilderModalData,\r\n\tUmbTemplatingPageFieldBuilderModalValue\r\n> {\r\n\t#validation = new UmbValidationContext(this);\r\n\r\n\t#close() {\r\n\t\tthis.modalContext?.reject();\r\n\t}\r\n\r\n\tasync #submit() {\r\n\t\tthis._submitButtonState = 'waiting';\r\n\r\n\t\ttry {\r\n\t\t\tawait this.#validation.validate();\r\n\t\t\tthis._submitButtonState = 'success';\r\n\r\n\t\t\tthis.value = { output: getUmbracoFieldSnippet(this._field!, this._default, this._recursive) };\r\n\t\t\tthis.modalContext?.submit();\r\n\t\t} catch {\r\n\t\t\tthis._submitButtonState = 'failed';\r\n\t\t}\r\n\t}\r\n\r\n\t@state()\r\n\tprivate _field?: string;\r\n\r\n\t@state()\r\n\tprivate _haveDefault: boolean = false;\r\n\r\n\t@state()\r\n\tprivate _default?: string;\r\n\r\n\t@state()\r\n\tprivate _recursive: boolean = false;\r\n\r\n\t@state()\r\n\tprivate _submitButtonState: UUIButtonState;\r\n\r\n\t/** TODO: Implement \"Choose field\" */\r\n\r\n\t#onChangeFieldValue(e: Event) {\r\n\t\tthis._field = (e.target as UmbTemplateFieldDropdownListElement).value?.alias;\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-body-layout headline=${this.localize.term('template_insert')}>\r\n\t\t\t\t<uui-box>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<umb-property-layout orientation=\"vertical\" label=${this.localize.term('templateEditor_chooseField')}>\r\n\t\t\t\t\t\t\t<umb-template-field-dropdown-list\r\n\t\t\t\t\t\t\t\tslot=\"editor\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t${umbBindToValidation(this)}\r\n\t\t\t\t\t\t\t\t@change=${this.#onChangeFieldValue}\r\n\t\t\t\t\t\t\t\texclude-media-type></umb-template-field-dropdown-list>\r\n\t\t\t\t\t\t</umb-property-layout>\r\n\r\n\t\t\t\t\t\t<uui-label for=\"page-field-default-value\">\r\n\t\t\t\t\t\t\t<umb-localize key=\"templateEditor_defaultValue\">Default value</umb-localize>\r\n\t\t\t\t\t\t</uui-label>\r\n\t\t\t\t\t\t${!this._haveDefault\r\n\t\t\t\t\t\t\t? html`<uui-button\r\n\t\t\t\t\t\t\t\t\tlabel=${this.localize.term('templateEditor_addDefaultValue')}\r\n\t\t\t\t\t\t\t\t\tlook=\"placeholder\"\r\n\t\t\t\t\t\t\t\t\t@click=${() => (this._haveDefault = true)}></uui-button>`\r\n\t\t\t\t\t\t\t: html`<uui-input\r\n\t\t\t\t\t\t\t\t\tid=\"page-field-default-value\"\r\n\t\t\t\t\t\t\t\t\t@change=${(e: UUIInputEvent) => (this._default = e.target.value as string)}\r\n\t\t\t\t\t\t\t\t\tlabel=${this.localize.term('templateEditor_defaultValue')}></uui-input>`}\r\n\r\n\t\t\t\t\t\t<uui-label for=\"recursive\"><umb-localize key=\"templateEditor_recursive\">Recursive</umb-localize></uui-label>\r\n\t\t\t\t\t\t<uui-checkbox\r\n\t\t\t\t\t\t\tid=\"recursive\"\r\n\t\t\t\t\t\t\tlabel=${this.localize.term('templateEditor_recursiveDescr')}\r\n\t\t\t\t\t\t\t@change=${(e: UUIBooleanInputEvent) => (this._recursive = e.target.checked)}\r\n\t\t\t\t\t\t\t?disabled=${this._field ? false : true}></uui-checkbox>\r\n\r\n\t\t\t\t\t\t<uui-label><umb-localize key=\"templateEditor_outputSample\">Output sample</umb-localize></uui-label>\r\n\t\t\t\t\t\t<umb-code-block style=\"max-height:500px;\" language=\"C#\" copy\r\n\t\t\t\t\t\t\t>${this._field ? getUmbracoFieldSnippet(this._field, this._default, this._recursive) : ''}</umb-code-block\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</uui-box>\r\n\t\t\t\t<uui-button\r\n\t\t\t\t\tslot=\"actions\"\r\n\t\t\t\t\t@click=${this.#close}\r\n\t\t\t\t\tlook=\"secondary\"\r\n\t\t\t\t\tlabel=${this.localize.term('general_close')}></uui-button>\r\n\t\t\t\t<uui-button\r\n\t\t\t\t\tslot=\"actions\"\r\n\t\t\t\t\t@click=${this.#submit}\r\n\t\t\t\t\tcolor=\"positive\"\r\n\t\t\t\t\tlook=\"primary\"\r\n\t\t\t\t\t.state=${this._submitButtonState}\r\n\t\t\t\t\tlabel=${this.localize.term('general_submit')}></uui-button>\r\n\t\t\t</umb-body-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\tuui-box > div {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tgap: var(--uui-size-space-2);\r\n\t\t\t}\r\n\r\n\t\t\tuui-label:not(:first-child) {\r\n\t\t\t\tmargin-top: var(--uui-size-space-6);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbTemplatingPageFieldBuilderModalElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-templating-page-field-builder-modal': UmbTemplatingPageFieldBuilderModalElement;\r\n\t}\r\n}\r\n"],"names":["_requiredValidation","_documentTypeDetailRepository","_mediaTypeDetailRepository","_modalManager","_UmbTemplateFieldDropdownListElement_instances","getDocumentTypeFields_fn","getMediaTypeFields_fn","onChange_fn","onChangeValue_fn","renderAliasDropdown_fn","UmbTemplateFieldDropdownListElement","UmbFormControlMixin","UmbLitElement","__privateAdd","UMB_VALIDATION_EMPTY_LOCALIZATION_KEY","UmbDocumentTypeDetailRepository","UmbMediaTypeDetailRepository","UMB_MODAL_MANAGER_CONTEXT","modalManager","__privateSet","value","__privateGet","val","oldVal","UmbChangeEvent","html","__privateMethod","nothing","unique","UMB_DOCUMENT_TYPE_PICKER_MODAL","data","UMB_MEDIA_TYPE_PICKER_MODAL","alias","field","ifDefined","repeat","css","__decorateClass","property","state","query","customElement","_validation","_UmbTemplatingPageFieldBuilderModalElement_instances","close_fn","submit_fn","onChangeFieldValue_fn","UmbTemplatingPageFieldBuilderModalElement","UmbModalBaseElement","UmbValidationContext","umbBindToValidation","getUmbracoFieldSnippet","UmbTextStyles","UmbTemplatingPageFieldBuilderModalElement$1"],"mappings":"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"}