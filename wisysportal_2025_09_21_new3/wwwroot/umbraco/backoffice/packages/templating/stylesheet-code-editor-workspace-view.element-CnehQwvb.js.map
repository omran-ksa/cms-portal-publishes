{"version":3,"file":"stylesheet-code-editor-workspace-view.element-CnehQwvb.js","sources":["../../../src/packages/templating/stylesheets/workspace/views/code-editor/stylesheet-code-editor-workspace-view.element.ts"],"sourcesContent":["import type { UmbStylesheetWorkspaceContext } from '../../stylesheet-workspace.context.js';\r\nimport { UMB_STYLESHEET_WORKSPACE_CONTEXT } from '../../stylesheet-workspace.context-token.js';\r\nimport { css, html, customElement, state, nothing } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport type { UmbCodeEditorElement } from '@umbraco-cms/backoffice/code-editor';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\n\r\nimport '@umbraco-cms/backoffice/code-editor';\r\n\r\n@customElement('umb-stylesheet-code-editor-workspace-view')\r\nexport class UmbStylesheetCodeEditorWorkspaceViewElement extends UmbLitElement {\r\n\t@state()\r\n\tprivate _content?: string | null = '';\r\n\r\n\t#stylesheetWorkspaceContext?: UmbStylesheetWorkspaceContext;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_STYLESHEET_WORKSPACE_CONTEXT, (workspaceContext) => {\r\n\t\t\tthis.#stylesheetWorkspaceContext = workspaceContext;\r\n\r\n\t\t\tthis.observe(this.#stylesheetWorkspaceContext?.content, (content) => {\r\n\t\t\t\tthis._content = content;\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t#onCodeEditorInput(event: Event) {\r\n\t\tconst target = event.target as UmbCodeEditorElement;\r\n\t\tconst value = target.code as string;\r\n\t\tthis.#stylesheetWorkspaceContext?.setContent(value);\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html` <uui-box>\r\n\t\t\t<div slot=\"header\" id=\"code-editor-menu-container\"></div>\r\n\t\t\t${this.#renderCodeEditor()}\r\n\t\t</uui-box>`;\r\n\t}\r\n\r\n\t#renderCodeEditor() {\r\n\t\tif (this._content === undefined) {\r\n\t\t\treturn nothing;\r\n\t\t}\r\n\r\n\t\treturn html`\r\n\t\t\t<umb-code-editor\r\n\t\t\t\tid=\"content\"\r\n\t\t\t\tlanguage=\"css\"\r\n\t\t\t\t.code=${this._content ?? ''}\r\n\t\t\t\t@input=${this.#onCodeEditorInput}></umb-code-editor>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\r\n\t\t\tumb-code-editor {\r\n\t\t\t\t--editor-height: calc(100dvh - 260px);\r\n\t\t\t}\r\n\r\n\t\t\tuui-box {\r\n\t\t\t\tmin-height: calc(100dvh - 260px);\r\n\t\t\t\tmargin: var(--uui-size-layout-1);\r\n\t\t\t\t--uui-box-default-padding: 0;\r\n\t\t\t\t/* remove header border bottom as code editor looks better in this box */\r\n\t\t\t\t--uui-color-divider-standalone: transparent;\r\n\t\t\t}\r\n\r\n\t\t\t#workspace-header {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbStylesheetCodeEditorWorkspaceViewElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-stylesheet-code-editor-workspace-view': UmbStylesheetCodeEditorWorkspaceViewElement;\r\n\t}\r\n}\r\n"],"names":["_stylesheetWorkspaceContext","_UmbStylesheetCodeEditorWorkspaceViewElement_instances","onCodeEditorInput_fn","renderCodeEditor_fn","UmbStylesheetCodeEditorWorkspaceViewElement","UmbLitElement","__privateAdd","UMB_STYLESHEET_WORKSPACE_CONTEXT","workspaceContext","__privateSet","__privateGet","content","html","__privateMethod","event","value","nothing","UmbTextStyles","css","__decorateClass","state","customElement","UmbStylesheetCodeEditorWorkspaceViewElement$1"],"mappings":";;;;;;;;;;;wXAAAA,GAAAC,GAAAC,GAAAC;AAUa,IAAAC,IAAN,cAA0DC,EAAc;AAAA,EAM9E,cAAc;AACP,UAAA,GAPDC,EAAA,MAAAL,CAAA,GAEN,KAAQ,WAA2B,IAEnCK,EAAA,MAAAN,CAAA,GAKM,KAAA,eAAeO,GAAkC,CAACC,MAAqB;AAC3E,MAAAC,EAAA,MAAKT,GAA8BQ,CAAA,GAEnC,KAAK,QAAQE,EAAA,MAAKV,CAA6B,GAAA,SAAS,CAACW,MAAY;AACpE,aAAK,WAAWA;AAAA,MAAA,CAChB;AAAA,IAAA,CACD;AAAA,EAAA;AAAA,EASO,SAAS;AACV,WAAAC;AAAA;AAAA,KAEJC,EAAA,MAAKZ,MAAL,KAAwB,IAAA,CAAA;AAAA;AAAA,EAAA;AA2C7B;AAlECD,IAAA,oBAAA,QAAA;AAJMC,IAAA,oBAAA,QAAA;AAkBNC,IAAkB,SAACY,GAAc;AAEhC,QAAMC,IADSD,EAAM,OACA;AAChB,EAAAJ,EAAA,MAAAV,CAAA,GAA6B,WAAWe,CAAK;AACnD;AASAZ,IAAiB,WAAG;AACf,SAAA,KAAK,aAAa,SACda,IAGDJ;AAAA;AAAA;AAAA;AAAA,YAIG,KAAK,YAAY,EAAE;AAAA,aAClBC,QAAKZ,GAAkBC,CAAA,CAAA;AAAA;AAEnC;AA3CYE,EA6CI,SAAS;AAAA,EACxBa;AAAA,EACAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsBD;AAnEQC,EAAA;AAAA,EADPC,EAAM;AAAA,GADKhB,EAEJ,WAAA,YAAA,CAAA;AAFIA,IAANe,EAAA;AAAA,EADNE,EAAc,2CAA2C;AAAA,GAC7CjB,CAAA;AAwEb,MAAAkB,IAAelB;"}