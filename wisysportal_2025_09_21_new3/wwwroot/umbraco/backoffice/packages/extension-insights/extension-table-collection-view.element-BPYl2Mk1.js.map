{"version":3,"file":"extension-table-collection-view.element-BPYl2Mk1.js","sources":["../../../src/packages/extension-insights/collection/views/table/extension-table-collection-view.element.ts"],"sourcesContent":["import type { UmbExtensionCollectionFilterModel, UmbExtensionDetailModel } from '../../types.js';\r\nimport type { UmbDefaultCollectionContext } from '@umbraco-cms/backoffice/collection';\r\nimport { UMB_COLLECTION_CONTEXT } from '@umbraco-cms/backoffice/collection';\r\nimport type { UmbTableColumn, UmbTableConfig, UmbTableItem } from '@umbraco-cms/backoffice/components';\r\nimport { css, html, customElement, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\n\r\n@customElement('umb-extension-table-collection-view')\r\nexport class UmbExtensionTableCollectionViewElement extends UmbLitElement {\r\n\t@state()\r\n\tprivate _tableConfig: UmbTableConfig = {\r\n\t\tallowSelection: false,\r\n\t};\r\n\r\n\t@state()\r\n\tprivate _tableColumns: Array<UmbTableColumn> = [\r\n\t\t{\r\n\t\t\tname: 'Type',\r\n\t\t\talias: 'extensionType',\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'Name',\r\n\t\t\talias: 'extensionName',\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'Alias',\r\n\t\t\talias: 'extensionAlias',\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'Weight',\r\n\t\t\talias: 'extensionWeight',\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: '',\r\n\t\t\talias: 'entityActions',\r\n\t\t\talign: 'right',\r\n\t\t},\r\n\t];\r\n\r\n\t@state()\r\n\tprivate _tableItems: Array<UmbTableItem> = [];\r\n\r\n\t#collectionContext?: UmbDefaultCollectionContext<UmbExtensionDetailModel, UmbExtensionCollectionFilterModel>;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_COLLECTION_CONTEXT, (instance) => {\r\n\t\t\tthis.#collectionContext = instance;\r\n\t\t\tthis.#observeCollectionItems();\r\n\t\t});\r\n\t}\r\n\r\n\t#observeCollectionItems() {\r\n\t\tif (!this.#collectionContext) return;\r\n\t\tthis.observe(this.#collectionContext.items, (items) => this.#createTableItems(items), 'umbCollectionItemsObserver');\r\n\t}\r\n\r\n\t#createTableItems(extensions: Array<UmbExtensionDetailModel>) {\r\n\t\tthis._tableItems = extensions.map((extension) => {\r\n\t\t\treturn {\r\n\t\t\t\tid: extension.unique,\r\n\t\t\t\tdata: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolumnAlias: 'extensionType',\r\n\t\t\t\t\t\tvalue: extension.type,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolumnAlias: 'extensionName',\r\n\t\t\t\t\t\tvalue: extension.name,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolumnAlias: 'extensionAlias',\r\n\t\t\t\t\t\tvalue: extension.alias,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolumnAlias: 'extensionWeight',\r\n\t\t\t\t\t\tvalue: extension.weight,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolumnAlias: 'entityActions',\r\n\t\t\t\t\t\tvalue: html`<umb-entity-actions-table-column-view\r\n\t\t\t\t\t\t\t.value=${{\r\n\t\t\t\t\t\t\t\tentityType: extension.entityType,\r\n\t\t\t\t\t\t\t\tunique: extension.unique,\r\n\t\t\t\t\t\t\t\tname: extension.name,\r\n\t\t\t\t\t\t\t}}></umb-entity-actions-table-column-view>`,\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-table .config=${this._tableConfig} .columns=${this._tableColumns} .items=${this._tableItems}></umb-table>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbExtensionTableCollectionViewElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-extension-table-collection-view': UmbExtensionTableCollectionViewElement;\r\n\t}\r\n}\r\n"],"names":["_collectionContext","_UmbExtensionTableCollectionViewElement_instances","observeCollectionItems_fn","createTableItems_fn","UmbExtensionTableCollectionViewElement","UmbLitElement","__privateAdd","UMB_COLLECTION_CONTEXT","instance","__privateSet","__privateMethod","html","__privateGet","items","extensions","extension","UmbTextStyles","css","__decorateClass","state","customElement","UmbExtensionTableCollectionViewElement$1"],"mappings":";;;;;;;;;;wXAAAA,GAAAC,GAAAC,GAAAC;AASa,IAAAC,IAAN,cAAqDC,EAAc;AAAA,EAoCzE,cAAc;AACP,UAAA,GArCDC,EAAA,MAAAL,CAAA,GAEN,KAAQ,eAA+B;AAAA,MACtC,gBAAgB;AAAA,IACjB,GAGA,KAAQ,gBAAuC;AAAA,MAC9C;AAAA,QACC,MAAM;AAAA,QACN,OAAO;AAAA,MACR;AAAA,MACA;AAAA,QACC,MAAM;AAAA,QACN,OAAO;AAAA,MACR;AAAA,MACA;AAAA,QACC,MAAM;AAAA,QACN,OAAO;AAAA,MACR;AAAA,MACA;AAAA,QACC,MAAM;AAAA,QACN,OAAO;AAAA,MACR;AAAA,MACA;AAAA,QACC,MAAM;AAAA,QACN,OAAO;AAAA,QACP,OAAO;AAAA,MAAA;AAAA,IAET,GAGA,KAAQ,cAAmC,CAAC,GAE5CK,EAAA,MAAAN,CAAA,GAKM,KAAA,eAAeO,GAAwB,CAACC,MAAa;AACzD,MAAAC,EAAA,MAAKT,GAAqBQ,CAAA,GAC1BE,EAAA,MAAKT,GAALC,CAAA,EAAA,KAAA,IAAA;AAAA,IAAA,CACA;AAAA,EAAA;AAAA,EA2CO,SAAS;AACV,WAAAS;AAAA,wBACe,KAAK,YAAY,aAAa,KAAK,aAAa,WAAW,KAAK,WAAW;AAAA;AAAA,EAAA;AAanG;AAlECX,IAAA,oBAAA,QAAA;AAlCMC,IAAA,oBAAA,QAAA;AA6CNC,IAAuB,WAAG;AACrB,EAACU,QAAKZ,CAAoB,KACzB,KAAA,QAAQY,EAAK,MAAAZ,CAAA,EAAmB,OAAO,CAACa,MAAUH,EAAK,MAAAT,GAAAE,CAAA,EAAL,KAAuB,MAAAU,CAAA,GAAQ,4BAA4B;AACnH;AAEAV,IAAiB,SAACW,GAA4C;AAC7D,OAAK,cAAcA,EAAW,IAAI,CAACC,OAC3B;AAAA,IACN,IAAIA,EAAU;AAAA,IACd,MAAM;AAAA,MACL;AAAA,QACC,aAAa;AAAA,QACb,OAAOA,EAAU;AAAA,MAClB;AAAA,MACA;AAAA,QACC,aAAa;AAAA,QACb,OAAOA,EAAU;AAAA,MAClB;AAAA,MACA;AAAA,QACC,aAAa;AAAA,QACb,OAAOA,EAAU;AAAA,MAClB;AAAA,MACA;AAAA,QACC,aAAa;AAAA,QACb,OAAOA,EAAU;AAAA,MAClB;AAAA,MACA;AAAA,QACC,aAAa;AAAA,QACb,OAAOJ;AAAA,gBACG;AAAA,UACR,YAAYI,EAAU;AAAA,UACtB,QAAQA,EAAU;AAAA,UAClB,MAAMA,EAAU;AAAA,QAAA,CAChB;AAAA,MAAA;AAAA,IACH;AAAA,EAEF,EACA;AACF;AAnFYX,EA2FI,SAAS;AAAA,EACxBY;AAAA,EACAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAMD;AAjGQC,EAAA;AAAA,EADPC,EAAM;AAAA,GADKf,EAEJ,WAAA,gBAAA,CAAA;AAKAc,EAAA;AAAA,EADPC,EAAM;AAAA,GANKf,EAOJ,WAAA,iBAAA,CAAA;AAyBAc,EAAA;AAAA,EADPC,EAAM;AAAA,GA/BKf,EAgCJ,WAAA,eAAA,CAAA;AAhCIA,IAANc,EAAA;AAAA,EADNE,EAAc,qCAAqC;AAAA,GACvChB,CAAA;AAsGb,MAAAiB,IAAejB;"}