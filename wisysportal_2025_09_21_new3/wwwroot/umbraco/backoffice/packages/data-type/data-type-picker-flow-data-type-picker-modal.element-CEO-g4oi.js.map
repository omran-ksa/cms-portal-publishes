{"version":3,"file":"data-type-picker-flow-data-type-picker-modal.element-CEO-g4oi.js","sources":["../../../src/packages/data-type/modals/data-type-picker-flow/data-type-picker-flow-data-type-picker-modal.element.ts"],"sourcesContent":["import { UmbDataTypeCollectionRepository } from '../../collection/index.js';\r\nimport type { UmbDataTypeItemModel } from '../../repository/item/types.js';\r\nimport type {\r\n\tUmbDataTypePickerFlowDataTypePickerModalData,\r\n\tUmbDataTypePickerFlowDataTypePickerModalValue,\r\n} from './data-type-picker-flow-data-type-picker-modal.token.js';\r\nimport { css, customElement, html, repeat, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbModalBaseElement } from '@umbraco-cms/backoffice/modal';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\n\r\n@customElement('umb-data-type-picker-flow-data-type-picker-modal')\r\nexport class UmbDataTypePickerFlowDataTypePickerModalElement extends UmbModalBaseElement<\r\n\tUmbDataTypePickerFlowDataTypePickerModalData,\r\n\tUmbDataTypePickerFlowDataTypePickerModalValue\r\n> {\r\n\t@state()\r\n\tprivate _dataTypes?: Array<UmbDataTypeItemModel>;\r\n\r\n\tprivate _propertyEditorUiAlias!: string;\r\n\r\n\toverride connectedCallback(): void {\r\n\t\tsuper.connectedCallback();\r\n\r\n\t\tif (!this.data) return;\r\n\r\n\t\tthis._propertyEditorUiAlias = this.data.propertyEditorUiAlias;\r\n\r\n\t\tthis.#observeDataTypesOf(this._propertyEditorUiAlias);\r\n\t}\r\n\r\n\tasync #observeDataTypesOf(propertyEditorUiAlias: string) {\r\n\t\tif (!this.data) return;\r\n\r\n\t\tconst dataTypeCollectionRepository = new UmbDataTypeCollectionRepository(this);\r\n\r\n\t\tconst collection = await dataTypeCollectionRepository.requestCollection({\r\n\t\t\tskip: 0,\r\n\t\t\ttake: 1000,\r\n\t\t\teditorUiAlias: propertyEditorUiAlias,\r\n\t\t});\r\n\r\n\t\tthis.observe(collection.asObservable(), (dataTypes) => {\r\n\t\t\tthis._dataTypes = dataTypes.sort((a, b) => a.name.localeCompare(b.name));\r\n\t\t});\r\n\t}\r\n\r\n\t#handleClick(dataType: UmbDataTypeItemModel) {\r\n\t\tif (dataType.unique) {\r\n\t\t\tthis.value = { dataTypeId: dataType.unique };\r\n\t\t\tthis.modalContext?.submit();\r\n\t\t}\r\n\t}\r\n\r\n\t#handleCreate() {\r\n\t\tthis.value = { createNewWithPropertyEditorUiAlias: this._propertyEditorUiAlias };\r\n\t\tthis.modalContext?.submit();\r\n\t}\r\n\r\n\t#close() {\r\n\t\tthis.modalContext?.reject();\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-body-layout headline=${this.localize.term('defaultdialogs_selectEditorConfiguration')}>\r\n\t\t\t\t<uui-box>${this.#renderDataTypes()} ${this.#renderCreate()}</uui-box>\r\n\t\t\t\t<div slot=\"actions\">\r\n\t\t\t\t\t<uui-button label=${this.localize.term('general_close')} @click=${this.#close}></uui-button>\r\n\t\t\t\t</div>\r\n\t\t\t</umb-body-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderDataTypes() {\r\n\t\tif (!this._dataTypes?.length) return;\r\n\t\treturn html`\r\n\t\t\t<ul id=\"item-grid\">\r\n\t\t\t\t${repeat(\r\n\t\t\t\t\tthis._dataTypes,\r\n\t\t\t\t\t(dataType) => dataType.unique,\r\n\t\t\t\t\t(dataType) => html`\r\n\t\t\t\t\t\t<li class=\"item\">\r\n\t\t\t\t\t\t\t<uui-button label=${dataType.name} @click=${() => this.#handleClick(dataType)}>\r\n\t\t\t\t\t\t\t\t<div class=\"item-content\">\r\n\t\t\t\t\t\t\t\t\t<umb-icon name=${dataType.icon ?? 'icon-circle-dotted'} class=\"icon\"></umb-icon>\r\n\t\t\t\t\t\t\t\t\t${dataType.name}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</uui-button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t`,\r\n\t\t\t\t)}\r\n\t\t\t</ul>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderCreate() {\r\n\t\treturn html`\r\n\t\t\t<uui-button id=\"create-button\" look=\"placeholder\" @click=${this.#handleCreate}>\r\n\t\t\t\t<div class=\"content\">\r\n\t\t\t\t\t<uui-icon name=\"icon-add\" class=\"icon\"></uui-icon>\r\n\t\t\t\t\t<umb-localize key=\"contentTypeEditor_availableEditors\">Create new</umb-localize>\r\n\t\t\t\t</div>\r\n\t\t\t</uui-button>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\tuui-box {\r\n\t\t\t\tmin-height: 100%;\r\n\t\t\t}\r\n\t\t\t#filter {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tmargin-bottom: var(--uui-size-space-4);\r\n\t\t\t}\r\n\r\n\t\t\t#filter-icon {\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tpadding-left: var(--uui-size-space-2);\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tcolor: var(--uui-color-border);\r\n\t\t\t}\r\n\r\n\t\t\t#item-grid {\r\n\t\t\t\tdisplay: grid;\r\n\t\t\t\tgrid-template-columns: repeat(auto-fill, minmax(100px, 1fr));\r\n\t\t\t\tmargin: 0;\r\n\t\t\t\tpadding: 0;\r\n\t\t\t}\r\n\r\n\t\t\t#item-grid:not(:last-child) {\r\n\t\t\t\tborder-bottom: 1px solid var(--uui-color-divider);\r\n\t\t\t\tpadding-bottom: var(--uui-size-space-5);\r\n\t\t\t}\r\n\r\n\t\t\t.item {\r\n\t\t\t\tlist-style: none;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tborder: 1px solid transparent;\r\n\t\t\t\tborder-radius: var(--uui-border-radius);\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tcolor: var(--uui-color-interactive);\r\n\t\t\t}\r\n\r\n\t\t\t.item:hover {\r\n\t\t\t\tbackground: var(--uui-color-surface-emphasis);\r\n\t\t\t\tcolor: var(--uui-color-interactive-emphasis);\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t}\r\n\r\n\t\t\t.item uui-button {\r\n\t\t\t\t--uui-button-padding-left-factor: 0;\r\n\t\t\t\t--uui-button-padding-right-factor: 0;\r\n\t\t\t\t--uui-button-padding-top-factor: 0;\r\n\t\t\t\t--uui-button-padding-bottom-factor: 0;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t.item .item-content {\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tbox-sizing: border-box;\r\n\r\n\t\t\t\tpadding: var(--uui-size-space-2);\r\n\r\n\t\t\t\tdisplay: grid;\r\n\t\t\t\tgrid-template-rows: 40px 1fr;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tword-break: break-word;\r\n\t\t\t}\r\n\t\t\t.icon {\r\n\t\t\t\tfont-size: 2em;\r\n\t\t\t\tmargin: auto;\r\n\t\t\t}\r\n\r\n\t\t\t#create-button {\r\n\t\t\t\tmax-width: 100px;\r\n\t\t\t\t--uui-button-padding-left-factor: 0;\r\n\t\t\t\t--uui-button-padding-right-factor: 0;\r\n\t\t\t\t--uui-button-padding-top-factor: 0;\r\n\t\t\t\t--uui-button-padding-bottom-factor: 0;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\t\t\t#create-button .content {\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tbox-sizing: border-box;\r\n\r\n\t\t\t\tpadding: var(--uui-size-space-2);\r\n\r\n\t\t\t\tdisplay: grid;\r\n\t\t\t\tgrid-template-rows: 40px 1fr;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\t\t\t#create-button:not(:first-child) {\r\n\t\t\t\tmargin-top: var(--uui-size-layout-1);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbDataTypePickerFlowDataTypePickerModalElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-data-type-picker-flow-data-type-picker-modal': UmbDataTypePickerFlowDataTypePickerModalElement;\r\n\t}\r\n}\r\n"],"names":["_UmbDataTypePickerFlowDataTypePickerModalElement_instances","observeDataTypesOf_fn","handleClick_fn","handleCreate_fn","close_fn","renderDataTypes_fn","renderCreate_fn","UmbDataTypePickerFlowDataTypePickerModalElement","UmbModalBaseElement","__privateAdd","__privateMethod","html","propertyEditorUiAlias","collection","UmbDataTypeCollectionRepository","dataTypes","a","b","dataType","repeat","UmbTextStyles","css","__decorateClass","state","customElement","UmbDataTypePickerFlowDataTypePickerModalElement$1"],"mappings":"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"}