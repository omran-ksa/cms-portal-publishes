{"version":3,"file":"data-type-create-options-modal.element-Cxps71S5.js","sources":["../../../src/packages/data-type/entity-actions/create/modal/data-type-create-options-modal.element.ts"],"sourcesContent":["import { UMB_DATA_TYPE_FOLDER_REPOSITORY_ALIAS } from '../../../tree/index.js';\r\nimport type { UmbDataTypeCreateOptionsModalData } from './constants.js';\r\nimport { html, customElement } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbModalBaseElement } from '@umbraco-cms/backoffice/modal';\r\nimport { UmbCreateFolderEntityAction } from '@umbraco-cms/backoffice/tree';\r\nimport { UmbDeprecation } from '@umbraco-cms/backoffice/utils';\r\n\r\n/**\r\n * @deprecated This element is deprecated and will be removed in v.17.0.0.\r\n * Please use the UMB_ENTITY_CREATE_OPTION_ACTION_LIST_MODAL instead.\r\n * @exports\r\n * @class UmbDataTypeCreateOptionsModalElement\r\n * @augments {UmbModalBaseElement<UmbDataTypeCreateOptionsModalData>}\r\n */\r\n@customElement('umb-data-type-create-options-modal')\r\nexport class UmbDataTypeCreateOptionsModalElement extends UmbModalBaseElement<UmbDataTypeCreateOptionsModalData> {\r\n\t#createFolderAction?: UmbCreateFolderEntityAction;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tnew UmbDeprecation({\r\n\t\t\tdeprecated: 'umb-data-type-create-options-modal',\r\n\t\t\tremoveInVersion: '17.0.0',\r\n\t\t\tsolution: 'Use UMB_ENTITY_CREATE_OPTION_ACTION_LIST_MODAL instead',\r\n\t\t}).warn();\r\n\t}\r\n\r\n\toverride connectedCallback(): void {\r\n\t\tsuper.connectedCallback();\r\n\t\tif (!this.data?.parent) throw new Error('A parent is required to create a folder');\r\n\r\n\t\t// TODO: render the info from this instance in the list of actions\r\n\t\tthis.#createFolderAction = new UmbCreateFolderEntityAction(this, {\r\n\t\t\tunique: this.data.parent.unique,\r\n\t\t\tentityType: this.data.parent.entityType,\r\n\t\t\tmeta: {\r\n\t\t\t\ticon: 'icon-folder',\r\n\t\t\t\tlabel: 'New Folder...',\r\n\t\t\t\tfolderRepositoryAlias: UMB_DATA_TYPE_FOLDER_REPOSITORY_ALIAS,\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\t#getCreateHref() {\r\n\t\treturn `section/settings/workspace/data-type/create/parent/${this.data?.parent.entityType}/${\r\n\t\t\tthis.data?.parent.unique || 'null'\r\n\t\t}`;\r\n\t}\r\n\r\n\tasync #onCreateFolderClick(event: PointerEvent) {\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tawait this.#createFolderAction\r\n\t\t\t?.execute()\r\n\t\t\t.then(() => this._submitModal())\r\n\t\t\t.catch(() => undefined);\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-body-layout headline=\"Create Data Type\">\r\n\t\t\t\t<uui-box>\r\n\t\t\t\t\t<!-- TODO: construct url -->\r\n\t\t\t\t\t<uui-menu-item href=${this.#getCreateHref()} label=\"New Data Type...\" @click=${this._submitModal}>\r\n\t\t\t\t\t\t<uui-icon slot=\"icon\" name=\"icon-autofill\"></uui-icon>\r\n\t\t\t\t\t</uui-menu-item>\r\n\t\t\t\t\t<uui-menu-item @click=${this.#onCreateFolderClick} label=\"New Folder...\">\r\n\t\t\t\t\t\t<uui-icon slot=\"icon\" name=\"icon-folder\"></uui-icon>}\r\n\t\t\t\t\t</uui-menu-item>\r\n\t\t\t\t</uui-box>\r\n\t\t\t\t<uui-button slot=\"actions\" id=\"cancel\" label=\"Cancel\" @click=\"${this._rejectModal}\">Cancel</uui-button>\r\n\t\t\t</umb-body-layout>\r\n\t\t`;\r\n\t}\r\n}\r\n\r\nexport default UmbDataTypeCreateOptionsModalElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-data-type-create-options-modal': UmbDataTypeCreateOptionsModalElement;\r\n\t}\r\n}\r\n"],"names":["_createFolderAction","_UmbDataTypeCreateOptionsModalElement_instances","getCreateHref_fn","onCreateFolderClick_fn","UmbDataTypeCreateOptionsModalElement","UmbModalBaseElement","__privateAdd","UmbDeprecation","__privateSet","UmbCreateFolderEntityAction","UMB_DATA_TYPE_FOLDER_REPOSITORY_ALIAS","html","__privateMethod","event","__privateGet","__decorateClass","customElement","UmbDataTypeCreateOptionsModalElement$1"],"mappings":";;;;;;;;;;;;;;;wYAAAA,GAAAC,GAAAC,GAAAC;AAea,IAAAC,IAAN,cAAmDC,EAAuD;AAAA,EAGhH,cAAc;AACP,UAAA,GAJDC,EAAA,MAAAL,CAAA,GACNK,EAAA,MAAAN,CAAA,GAKC,IAAIO,EAAe;AAAA,MAClB,YAAY;AAAA,MACZ,iBAAiB;AAAA,MACjB,UAAU;AAAA,IACV,CAAA,EAAE,KAAK;AAAA,EAAA;AAAA,EAGA,oBAA0B;AAElC,QADA,MAAM,kBAAkB,GACpB,CAAC,KAAK,MAAM,OAAc,OAAA,IAAI,MAAM,yCAAyC;AAG5E,IAAAC,EAAA,MAAAR,GAAsB,IAAIS,EAA4B,MAAM;AAAA,MAChE,QAAQ,KAAK,KAAK,OAAO;AAAA,MACzB,YAAY,KAAK,KAAK,OAAO;AAAA,MAC7B,MAAM;AAAA,QACL,MAAM;AAAA,QACN,OAAO;AAAA,QACP,uBAAuBC;AAAA,MAAA;AAAA,IACxB,CACA,CAAA;AAAA,EAAA;AAAA,EAkBO,SAAS;AACV,WAAAC;AAAA;AAAA;AAAA;AAAA,2BAIkBC,EAAK,MAAAX,GAAAC,CAAA,EAAL,KAAqB,IAAA,CAAA,oCAAoC,KAAK,YAAY;AAAA;AAAA;AAAA,6BAGxEU,QAAKX,GAAoBE,CAAA,CAAA;AAAA;AAAA;AAAA;AAAA,oEAIc,KAAK,YAAY;AAAA;AAAA;AAAA,EAAA;AAIrF;AA3DCH,IAAA,oBAAA,QAAA;AADMC,IAAA,oBAAA,QAAA;AA6BNC,IAAc,WAAG;AACT,SAAA,sDAAsD,KAAK,MAAM,OAAO,UAAU,IACxF,KAAK,MAAM,OAAO,UAAU,MAC7B;AACD;AAEMC,IAAoB,eAACU,GAAqB;AAC/C,EAAAA,EAAM,gBAAgB,GAEtB,MAAMC,EAAK,MAAAd,CAAA,GACR,QAAQ,EACT,KAAK,MAAM,KAAK,aAAc,CAAA,EAC9B,MAAM,MAAM;AAAA,GAAS;AACxB;AA1CYI,IAANW,EAAA;AAAA,EADNC,EAAc,oCAAoC;AAAA,GACtCZ,CAAA;AA8Db,MAAAa,IAAeb;"}