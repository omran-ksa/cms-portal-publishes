{"version":3,"file":"unlock-user.action-DislDsV9.js","sources":["../../../src/packages/user/user/entity-actions/unlock/unlock-user.action.ts"],"sourcesContent":["import { UmbUnlockUserRepository } from '../../repository/index.js';\r\nimport { UmbUserItemRepository } from '../../repository/item/user-item.repository.js';\r\nimport { UmbEntityActionBase } from '@umbraco-cms/backoffice/entity-action';\r\nimport { umbConfirmModal } from '@umbraco-cms/backoffice/modal';\r\n\r\nexport class UmbUnlockUserEntityAction extends UmbEntityActionBase<never> {\r\n\toverride async execute() {\r\n\t\tif (!this.args.unique) throw new Error('Unique is not available');\r\n\r\n\t\tconst itemRepository = new UmbUserItemRepository(this);\r\n\t\tconst { data } = await itemRepository.requestItems([this.args.unique]);\r\n\r\n\t\tif (!data?.length) {\r\n\t\t\tthrow new Error('Item not found.');\r\n\t\t}\r\n\r\n\t\tconst item = data[0];\r\n\r\n\t\tawait umbConfirmModal(this._host, {\r\n\t\t\theadline: `Unlock ${item.name}`,\r\n\t\t\tcontent: 'Are you sure you want to unlock this user?',\r\n\t\t\tconfirmLabel: 'Unlock',\r\n\t\t});\r\n\r\n\t\tconst unlockUserRepository = new UmbUnlockUserRepository(this);\r\n\t\tconst { error } = await unlockUserRepository.unlock([this.args.unique]);\r\n\t\tif (error) {\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport { UmbUnlockUserEntityAction as api };\r\n"],"names":["UmbUnlockUserEntityAction","UmbEntityActionBase","itemRepository","UmbUserItemRepository","data","item","umbConfirmModal","unlockUserRepository","UmbUnlockUserRepository","error"],"mappings":";;;;;;;;;;;;;AAKO,MAAMA,UAAkCC,EAA2B;AAAA,EACzE,MAAe,UAAU;AACxB,QAAI,CAAC,KAAK,KAAK,OAAc,OAAA,IAAI,MAAM,yBAAyB;AAE1D,UAAAC,IAAiB,IAAIC,EAAsB,IAAI,GAC/C,EAAE,MAAAC,EAAK,IAAI,MAAMF,EAAe,aAAa,CAAC,KAAK,KAAK,MAAM,CAAC;AAEjE,QAAA,CAACE,GAAM;AACJ,YAAA,IAAI,MAAM,iBAAiB;AAG5B,UAAAC,IAAOD,EAAK,CAAC;AAEb,UAAAE,EAAgB,KAAK,OAAO;AAAA,MACjC,UAAU,UAAUD,EAAK,IAAI;AAAA,MAC7B,SAAS;AAAA,MACT,cAAc;AAAA,IAAA,CACd;AAEK,UAAAE,IAAuB,IAAIC,EAAwB,IAAI,GACvD,EAAE,OAAAC,EAAM,IAAI,MAAMF,EAAqB,OAAO,CAAC,KAAK,KAAK,MAAM,CAAC;AACtE,QAAIE;AACG,YAAAA;AAAA,EACP;AAEF;"}