{"version":3,"file":"disable-user.action-BWGFqine.js","sources":["../../../src/packages/user/user/entity-actions/disable/disable-user.action.ts"],"sourcesContent":["import { UmbUserItemRepository } from '../../repository/item/user-item.repository.js';\r\nimport { UmbDisableUserRepository } from '../../repository/index.js';\r\nimport type { UmbEntityActionArgs } from '@umbraco-cms/backoffice/entity-action';\r\nimport { UmbEntityActionBase } from '@umbraco-cms/backoffice/entity-action';\r\nimport type { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport { umbConfirmModal } from '@umbraco-cms/backoffice/modal';\r\n\r\nexport class UmbDisableUserEntityAction extends UmbEntityActionBase<never> {\r\n\tconstructor(host: UmbControllerHost, args: UmbEntityActionArgs<never>) {\r\n\t\tsuper(host, args);\r\n\t}\r\n\r\n\toverride async execute() {\r\n\t\tif (!this.args.unique) throw new Error('Unique is not available');\r\n\r\n\t\tconst itemRepository = new UmbUserItemRepository(this);\r\n\t\tconst { data } = await itemRepository.requestItems([this.args.unique]);\r\n\r\n\t\tif (!data?.length) {\r\n\t\t\tthrow new Error('Item not found.');\r\n\t\t}\r\n\r\n\t\tconst item = data[0];\r\n\r\n\t\tawait umbConfirmModal(this._host, {\r\n\t\t\theadline: `Disable ${item.name}`,\r\n\t\t\tcontent: 'Are you sure you want to disable this user?',\r\n\t\t\tcolor: 'danger',\r\n\t\t\tconfirmLabel: 'Disable',\r\n\t\t});\r\n\r\n\t\tconst disableUserRepository = new UmbDisableUserRepository(this);\r\n\t\tconst { error } = await disableUserRepository.disable([this.args.unique]);\r\n\t\tif (error) {\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport { UmbDisableUserEntityAction as api };\r\n"],"names":["UmbDisableUserEntityAction","UmbEntityActionBase","host","args","itemRepository","UmbUserItemRepository","data","item","umbConfirmModal","disableUserRepository","UmbDisableUserRepository","error"],"mappings":";;;;;;;;;;;;;AAOO,MAAMA,UAAmCC,EAA2B;AAAA,EAC1E,YAAYC,GAAyBC,GAAkC;AACtE,UAAMD,GAAMC,CAAI;AAAA,EAAA;AAAA,EAGjB,MAAe,UAAU;AACxB,QAAI,CAAC,KAAK,KAAK,OAAc,OAAA,IAAI,MAAM,yBAAyB;AAE1D,UAAAC,IAAiB,IAAIC,EAAsB,IAAI,GAC/C,EAAE,MAAAC,EAAK,IAAI,MAAMF,EAAe,aAAa,CAAC,KAAK,KAAK,MAAM,CAAC;AAEjE,QAAA,CAACE,GAAM;AACJ,YAAA,IAAI,MAAM,iBAAiB;AAG5B,UAAAC,IAAOD,EAAK,CAAC;AAEb,UAAAE,EAAgB,KAAK,OAAO;AAAA,MACjC,UAAU,WAAWD,EAAK,IAAI;AAAA,MAC9B,SAAS;AAAA,MACT,OAAO;AAAA,MACP,cAAc;AAAA,IAAA,CACd;AAEK,UAAAE,IAAwB,IAAIC,EAAyB,IAAI,GACzD,EAAE,OAAAC,EAAM,IAAI,MAAMF,EAAsB,QAAQ,CAAC,KAAK,KAAK,MAAM,CAAC;AACxE,QAAIE;AACG,YAAAA;AAAA,EACP;AAEF;"}