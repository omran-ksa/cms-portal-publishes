{"version":3,"file":"enable-user.action-B62bW3B6.js","sources":["../../../src/packages/user/user/entity-actions/enable/enable-user.action.ts"],"sourcesContent":["import { UmbEnableUserRepository } from '../../repository/enable/enable-user.repository.js';\r\nimport { UmbUserItemRepository } from '../../repository/item/user-item.repository.js';\r\nimport type { UmbEntityActionArgs } from '@umbraco-cms/backoffice/entity-action';\r\nimport { UmbEntityActionBase } from '@umbraco-cms/backoffice/entity-action';\r\nimport type { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport { umbConfirmModal } from '@umbraco-cms/backoffice/modal';\r\n\r\nexport class UmbEnableUserEntityAction extends UmbEntityActionBase<never> {\r\n\tconstructor(host: UmbControllerHost, args: UmbEntityActionArgs<never>) {\r\n\t\tsuper(host, args);\r\n\t}\r\n\r\n\toverride async execute() {\r\n\t\tif (!this.args.unique) throw new Error('Unique is not available');\r\n\r\n\t\tconst itemRepository = new UmbUserItemRepository(this);\r\n\t\tconst { data } = await itemRepository.requestItems([this.args.unique]);\r\n\r\n\t\tif (!data?.length) {\r\n\t\t\tthrow new Error('Item not found.');\r\n\t\t}\r\n\r\n\t\tconst item = data[0];\r\n\r\n\t\tawait umbConfirmModal(this._host, {\r\n\t\t\theadline: `Enable ${item.name}`,\r\n\t\t\tcontent: 'Are you sure you want to enable this user?',\r\n\t\t\tconfirmLabel: 'Enable',\r\n\t\t});\r\n\r\n\t\tconst enableRepository = new UmbEnableUserRepository(this);\r\n\t\tconst { error } = await enableRepository.enable([this.args.unique]);\r\n\t\tif (error) {\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport { UmbEnableUserEntityAction as api };\r\n"],"names":["UmbEnableUserEntityAction","UmbEntityActionBase","host","args","itemRepository","UmbUserItemRepository","data","item","umbConfirmModal","enableRepository","UmbEnableUserRepository","error"],"mappings":";;;;AAOO,MAAMA,UAAkCC,EAA2B;AAAA,EACzE,YAAYC,GAAyBC,GAAkC;AACtE,UAAMD,GAAMC,CAAI;AAAA,EAAA;AAAA,EAGjB,MAAe,UAAU;AACxB,QAAI,CAAC,KAAK,KAAK,OAAc,OAAA,IAAI,MAAM,yBAAyB;AAE1D,UAAAC,IAAiB,IAAIC,EAAsB,IAAI,GAC/C,EAAE,MAAAC,EAAK,IAAI,MAAMF,EAAe,aAAa,CAAC,KAAK,KAAK,MAAM,CAAC;AAEjE,QAAA,CAACE,GAAM;AACJ,YAAA,IAAI,MAAM,iBAAiB;AAG5B,UAAAC,IAAOD,EAAK,CAAC;AAEb,UAAAE,EAAgB,KAAK,OAAO;AAAA,MACjC,UAAU,UAAUD,EAAK,IAAI;AAAA,MAC7B,SAAS;AAAA,MACT,cAAc;AAAA,IAAA,CACd;AAEK,UAAAE,IAAmB,IAAIC,EAAwB,IAAI,GACnD,EAAE,OAAAC,EAAM,IAAI,MAAMF,EAAiB,OAAO,CAAC,KAAK,KAAK,MAAM,CAAC;AAClE,QAAIE;AACG,YAAAA;AAAA,EACP;AAEF;"}