{"version":3,"file":"external-login-modal.element-NP8TQUbZ.js","sources":["../../../src/packages/user/current-user/external-login/modals/external-login-modal.element.ts"],"sourcesContent":["import { UmbCurrentUserRepository } from '../../repository/index.js';\r\nimport type { UmbCurrentUserExternalLoginProviderModel } from '../../types.js';\r\nimport { css, customElement, html, nothing, property, repeat, state, when } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { umbConfirmModal, type UmbModalContext } from '@umbraco-cms/backoffice/modal';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { umbExtensionsRegistry } from '@umbraco-cms/backoffice/extension-registry';\r\nimport { mergeObservables } from '@umbraco-cms/backoffice/observable-api';\r\nimport { UMB_AUTH_CONTEXT } from '@umbraco-cms/backoffice/auth';\r\nimport { UMB_NOTIFICATION_CONTEXT } from '@umbraco-cms/backoffice/notification';\r\nimport { UmbApiError } from '@umbraco-cms/backoffice/resources';\r\n\r\ntype UmbExternalLoginProviderOption = UmbCurrentUserExternalLoginProviderModel & {\r\n\tdisplayName: string;\r\n\ticon?: string;\r\n\texistsOnServer: boolean;\r\n};\r\n\r\n@customElement('umb-current-user-external-login-modal')\r\nexport class UmbCurrentUserExternalLoginModalElement extends UmbLitElement {\r\n\t@property({ attribute: false })\r\n\tmodalContext?: UmbModalContext;\r\n\r\n\t@state()\r\n\t_items: Array<UmbExternalLoginProviderOption> = [];\r\n\r\n\t#currentUserRepository = new UmbCurrentUserRepository(this);\r\n\t#notificationContext?: typeof UMB_NOTIFICATION_CONTEXT.TYPE;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.#loadProviders();\r\n\r\n\t\tthis.consumeContext(UMB_NOTIFICATION_CONTEXT, (context) => {\r\n\t\t\tthis.#notificationContext = context;\r\n\t\t});\r\n\t}\r\n\r\n\tasync #loadProviders() {\r\n\t\tconst serverLoginProviders$ = (await this.#currentUserRepository.requestExternalLoginProviders()).asObservable();\r\n\t\tconst manifestLoginProviders$ = umbExtensionsRegistry.byTypeAndFilter(\r\n\t\t\t'authProvider',\r\n\t\t\t(ext) => !!ext.meta?.linking?.allowManualLinking,\r\n\t\t);\r\n\r\n\t\t// Merge the server and manifest providers to get the final list of providers\r\n\t\tconst externalLoginProviders$ = mergeObservables(\r\n\t\t\t[serverLoginProviders$, manifestLoginProviders$],\r\n\t\t\t([serverLoginProviders, manifestLoginProviders]) => {\r\n\t\t\t\tconst providers: UmbExternalLoginProviderOption[] = manifestLoginProviders.map((manifestLoginProvider) => {\r\n\t\t\t\t\tconst serverLoginProvider = serverLoginProviders.find(\r\n\t\t\t\t\t\t(serverLoginProvider) => serverLoginProvider.providerSchemeName === manifestLoginProvider.forProviderName,\r\n\t\t\t\t\t);\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\texistsOnServer: !!serverLoginProvider,\r\n\t\t\t\t\t\thasManualLinkingEnabled: serverLoginProvider?.hasManualLinkingEnabled ?? false,\r\n\t\t\t\t\t\tisLinkedOnUser: serverLoginProvider?.isLinkedOnUser ?? false,\r\n\t\t\t\t\t\tproviderKey: serverLoginProvider?.providerKey ?? '',\r\n\t\t\t\t\t\tproviderSchemeName: manifestLoginProvider.forProviderName,\r\n\t\t\t\t\t\ticon: manifestLoginProvider.meta?.defaultView?.icon,\r\n\t\t\t\t\t\tdisplayName:\r\n\t\t\t\t\t\t\tmanifestLoginProvider.meta?.label ?? manifestLoginProvider.forProviderName ?? manifestLoginProvider.name,\r\n\t\t\t\t\t} satisfies UmbExternalLoginProviderOption;\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn providers;\r\n\t\t\t},\r\n\t\t);\r\n\r\n\t\tthis.observe(\r\n\t\t\texternalLoginProviders$,\r\n\t\t\t(providers) => {\r\n\t\t\t\tthis._items = providers;\r\n\t\t\t},\r\n\t\t\t'_externalLoginProviders',\r\n\t\t);\r\n\t}\r\n\r\n\t#close() {\r\n\t\tthis.modalContext?.submit();\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-body-layout headline=\"${this.localize.term('defaultdialogs_externalLoginProviders')}\">\r\n\t\t\t\t<div id=\"main\">\r\n\t\t\t\t\t${repeat(\r\n\t\t\t\t\t\tthis._items,\r\n\t\t\t\t\t\t(item) => item.providerSchemeName,\r\n\t\t\t\t\t\t(item) => this.#renderProvider(item),\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div slot=\"actions\">\r\n\t\t\t\t\t<uui-button @click=${this.#close} look=\"secondary\" .label=${this.localize.term('general_close')}></uui-button>\r\n\t\t\t\t</div>\r\n\t\t\t</umb-body-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\t/**\r\n\t * Render a provider with a toggle to enable/disable it\r\n\t * @param item\r\n\t */\r\n\t#renderProvider(item: UmbExternalLoginProviderOption) {\r\n\t\treturn html`\r\n\t\t\t<uui-box>\r\n\t\t\t\t<div class=\"header\" slot=\"header\">\r\n\t\t\t\t\t<uui-icon class=\"header-icon\" name=${item.icon ?? 'icon-cloud'}></uui-icon>\r\n\t\t\t\t\t${this.localize.string(item.displayName)}\r\n\t\t\t\t</div>\r\n\t\t\t\t${when(\r\n\t\t\t\t\titem.existsOnServer,\r\n\t\t\t\t\t() => nothing,\r\n\t\t\t\t\t() =>\r\n\t\t\t\t\t\thtml`<div style=\"position:relative\" slot=\"header-actions\">\r\n\t\t\t\t\t\t\t<uui-badge\r\n\t\t\t\t\t\t\t\tstyle=\"cursor:default\"\r\n\t\t\t\t\t\t\t\ttitle=\"Warning: This provider is not configured on the server\"\r\n\t\t\t\t\t\t\t\tcolor=\"danger\"\r\n\t\t\t\t\t\t\t\tlook=\"primary\">\r\n\t\t\t\t\t\t\t\t!\r\n\t\t\t\t\t\t\t</uui-badge>\r\n\t\t\t\t\t\t</div>`,\r\n\t\t\t\t)}\r\n\t\t\t\t${when(\r\n\t\t\t\t\titem.isLinkedOnUser,\r\n\t\t\t\t\t() => html`\r\n\t\t\t\t\t\t<p style=\"margin-top:0\">\r\n\t\t\t\t\t\t\t<umb-localize key=\"defaultdialogs_linkedToService\">Your account is linked to this service</umb-localize>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<uui-button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tlook=\"secondary\"\r\n\t\t\t\t\t\t\tcolor=\"danger\"\r\n\t\t\t\t\t\t\t.label=${this.localize.term('defaultdialogs_unLinkYour', this.localize.string(item.displayName))}\r\n\t\t\t\t\t\t\t@click=${() => this.#onProviderDisable(item)}>\r\n\t\t\t\t\t\t\t<umb-localize key=\"defaultdialogs_unLinkYour\" .args=${[this.localize.string(item.displayName)]}>\r\n\t\t\t\t\t\t\t\tUnlink your ${this.localize.string(item.displayName)} account\r\n\t\t\t\t\t\t\t</umb-localize>\r\n\t\t\t\t\t\t\t<uui-icon name=\"icon-window-popout\"></uui-icon>\r\n\t\t\t\t\t\t</uui-button>\r\n\t\t\t\t\t`,\r\n\t\t\t\t\t() => html`\r\n\t\t\t\t\t\t<uui-button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tlook=\"secondary\"\r\n\t\t\t\t\t\t\t.label=${this.localize.term('defaultdialogs_linkYour', item.displayName)}\r\n\t\t\t\t\t\t\t?disabled=${!item.existsOnServer || !item.hasManualLinkingEnabled}\r\n\t\t\t\t\t\t\t@click=${() => this.#onProviderEnable(item)}>\r\n\t\t\t\t\t\t\t<umb-localize key=\"defaultdialogs_linkYour\" .args=${[this.localize.string(item.displayName)]}>\r\n\t\t\t\t\t\t\t\tLink your ${this.localize.string(item.displayName)} account\r\n\t\t\t\t\t\t\t</umb-localize>\r\n\t\t\t\t\t\t\t<uui-icon name=\"icon-window-popout\"></uui-icon>\r\n\t\t\t\t\t\t</uui-button>\r\n\t\t\t\t\t`,\r\n\t\t\t\t)}\r\n\t\t\t</uui-box>\r\n\t\t`;\r\n\t}\r\n\r\n\tasync #onProviderEnable(item: UmbExternalLoginProviderOption) {\r\n\t\tconst providerDisplayName = this.localize.string(item.displayName);\r\n\t\ttry {\r\n\t\t\tawait umbConfirmModal(this, {\r\n\t\t\t\theadline: this.localize.term('defaultdialogs_linkYour', providerDisplayName),\r\n\t\t\t\tcontent: this.localize.term('defaultdialogs_linkYourConfirm', providerDisplayName),\r\n\t\t\t\tconfirmLabel: this.localize.term('general_continue'),\r\n\t\t\t\tcolor: 'positive',\r\n\t\t\t});\r\n\t\t\tconst authContext = await this.getContext(UMB_AUTH_CONTEXT);\r\n\t\t\tif (!authContext) {\r\n\t\t\t\tthrow new Error('Auth context is missing');\r\n\t\t\t}\r\n\t\t\tawait authContext.linkLogin(item.providerSchemeName);\r\n\t\t} catch (error) {\r\n\t\t\tif (error instanceof Error) {\r\n\t\t\t\tthis.#notificationContext?.peek('danger', {\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\theadline: this.localize.term('defaultdialogs_linkYour', providerDisplayName),\r\n\t\t\t\t\t\tmessage: error.message,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tasync #onProviderDisable(item: UmbExternalLoginProviderOption) {\r\n\t\tif (!item.providerKey) {\r\n\t\t\tthrow new Error('Provider key is missing');\r\n\t\t}\r\n\r\n\t\tconst providerDisplayName = this.localize.string(item.displayName);\r\n\t\ttry {\r\n\t\t\tawait umbConfirmModal(this, {\r\n\t\t\t\theadline: this.localize.term('defaultdialogs_unLinkYour', providerDisplayName),\r\n\t\t\t\tcontent: this.localize.term('defaultdialogs_unLinkYourConfirm', providerDisplayName),\r\n\t\t\t\tconfirmLabel: this.localize.term('general_continue'),\r\n\t\t\t\tcolor: 'danger',\r\n\t\t\t});\r\n\t\t\tconst authContext = await this.getContext(UMB_AUTH_CONTEXT);\r\n\t\t\tif (!authContext) {\r\n\t\t\t\tthrow new Error('Auth context is missing');\r\n\t\t\t}\r\n\t\t\tawait authContext.unlinkLogin(item.providerSchemeName, item.providerKey);\r\n\t\t} catch (error) {\r\n\t\t\tlet message = this.localize.term('errors_receivedErrorFromServer');\r\n\t\t\tif (UmbApiError.isUmbApiError(error)) {\r\n\t\t\t\tmessage = error.problemDetails.detail ?? message;\r\n\t\t\t} else if (error instanceof Error) {\r\n\t\t\t\tmessage = error.message;\r\n\t\t\t}\r\n\t\t\tconsole.error('[External Login] Error unlinking provider: ', error);\r\n\t\t\tthis.#notificationContext?.peek('danger', {\r\n\t\t\t\tdata: {\r\n\t\t\t\t\theadline: this.localize.term('defaultdialogs_unLinkYour', providerDisplayName),\r\n\t\t\t\t\tmessage,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\tuui-box {\r\n\t\t\t\tmargin-bottom: var(--uui-size-space-3);\r\n\t\t\t}\r\n\r\n\t\t\t.header {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t}\r\n\r\n\t\t\t.header-icon {\r\n\t\t\t\tmargin-right: var(--uui-size-space-4);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbCurrentUserExternalLoginModalElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-current-user-external-login-modal': UmbCurrentUserExternalLoginModalElement;\r\n\t}\r\n}\r\n"],"names":["_currentUserRepository","_notificationContext","_UmbCurrentUserExternalLoginModalElement_instances","loadProviders_fn","close_fn","renderProvider_fn","onProviderEnable_fn","onProviderDisable_fn","UmbCurrentUserExternalLoginModalElement","UmbLitElement","__privateAdd","UmbCurrentUserRepository","__privateMethod","UMB_NOTIFICATION_CONTEXT","context","__privateSet","html","repeat","item","serverLoginProviders$","__privateGet","manifestLoginProviders$","umbExtensionsRegistry","ext","externalLoginProviders$","mergeObservables","serverLoginProviders","manifestLoginProviders","manifestLoginProvider","serverLoginProvider","providers","when","nothing","providerDisplayName","umbConfirmModal","authContext","UMB_AUTH_CONTEXT","error","message","UmbApiError","UmbTextStyles","css","__decorateClass","property","state","customElement","UmbCurrentUserExternalLoginModalElement$1"],"mappings":"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"}