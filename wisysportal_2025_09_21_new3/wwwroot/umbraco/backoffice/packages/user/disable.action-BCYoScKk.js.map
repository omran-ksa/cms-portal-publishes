{"version":3,"file":"disable.action-BCYoScKk.js","sources":["../../../src/packages/user/user/entity-bulk-actions/disable/disable.action.ts"],"sourcesContent":["import { UmbDisableUserRepository } from '../../repository/index.js';\r\nimport { UMB_ACTION_EVENT_CONTEXT } from '@umbraco-cms/backoffice/action';\r\nimport { UmbEntityBulkActionBase } from '@umbraco-cms/backoffice/entity-bulk-action';\r\nimport { UmbRequestReloadChildrenOfEntityEvent } from '@umbraco-cms/backoffice/entity-action';\r\nimport { UMB_ENTITY_CONTEXT } from '@umbraco-cms/backoffice/entity';\r\n\r\nexport class UmbDisableUserEntityBulkAction extends UmbEntityBulkActionBase<object> {\r\n\tasync execute() {\r\n\t\tconst repository = new UmbDisableUserRepository(this._host);\r\n\t\tawait repository.disable(this.selection);\r\n\r\n\t\tconst entityContext = await this.getContext(UMB_ENTITY_CONTEXT);\r\n\t\tif (!entityContext) throw new Error('Entity context not found');\r\n\t\tconst entityType = entityContext.getEntityType();\r\n\t\tconst unique = entityContext.getUnique();\r\n\r\n\t\tif (!entityType) throw new Error('Entity type not found');\r\n\t\tif (unique === undefined) throw new Error('Entity unique not found');\r\n\r\n\t\tconst eventContext = await this.getContext(UMB_ACTION_EVENT_CONTEXT);\r\n\t\tif (!eventContext) throw new Error('Event context not found');\r\n\t\tconst event = new UmbRequestReloadChildrenOfEntityEvent({\r\n\t\t\tentityType,\r\n\t\t\tunique,\r\n\t\t});\r\n\r\n\t\teventContext.dispatchEvent(event);\r\n\t}\r\n}\r\n\r\nexport { UmbDisableUserEntityBulkAction as api };\r\n"],"names":["UmbDisableUserEntityBulkAction","UmbEntityBulkActionBase","UmbDisableUserRepository","entityContext","UMB_ENTITY_CONTEXT","entityType","unique","eventContext","UMB_ACTION_EVENT_CONTEXT","event","UmbRequestReloadChildrenOfEntityEvent"],"mappings":";;;;;;;;;;;;;;;AAMO,MAAMA,UAAuCC,EAAgC;AAAA,EACnF,MAAM,UAAU;AAET,UADa,IAAIC,EAAyB,KAAK,KAAK,EACzC,QAAQ,KAAK,SAAS;AAEvC,UAAMC,IAAgB,MAAM,KAAK,WAAWC,CAAkB;AAC9D,QAAI,CAACD,EAAqB,OAAA,IAAI,MAAM,0BAA0B;AACxD,UAAAE,IAAaF,EAAc,cAAc,GACzCG,IAASH,EAAc,UAAU;AAEvC,QAAI,CAACE,EAAkB,OAAA,IAAI,MAAM,uBAAuB;AACxD,QAAIC,MAAW,OAAiB,OAAA,IAAI,MAAM,yBAAyB;AAEnE,UAAMC,IAAe,MAAM,KAAK,WAAWC,CAAwB;AACnE,QAAI,CAACD,EAAoB,OAAA,IAAI,MAAM,yBAAyB;AACtD,UAAAE,IAAQ,IAAIC,EAAsC;AAAA,MACvD,YAAAL;AAAA,MACA,QAAAC;AAAA,IAAA,CACA;AAED,IAAAC,EAAa,cAAcE,CAAK;AAAA,EAAA;AAElC;"}