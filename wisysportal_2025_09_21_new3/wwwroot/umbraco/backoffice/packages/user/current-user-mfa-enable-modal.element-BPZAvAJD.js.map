{"version":3,"file":"current-user-mfa-enable-modal.element-BPZAvAJD.js","sources":["../../../src/packages/user/current-user/modals/current-user-mfa-enable/current-user-mfa-enable-modal.element.ts"],"sourcesContent":["import type { UmbMfaProviderConfigurationElementProps } from '../../types.js';\r\nimport { UmbCurrentUserRepository } from '../../repository/index.js';\r\nimport type { UmbCurrentUserMfaEnableModalConfig } from './current-user-mfa-enable-modal.token.js';\r\nimport type { ManifestMfaLoginProvider } from '@umbraco-cms/backoffice/extension-registry';\r\nimport { customElement, html } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbModalBaseElement } from '@umbraco-cms/backoffice/modal';\r\n\r\nimport '../../components/mfa-provider-default.element.js';\r\n\r\n@customElement('umb-current-user-mfa-enable-modal')\r\nexport class UmbCurrentUserMfaEnableModalElement extends UmbModalBaseElement<\r\n\tUmbCurrentUserMfaEnableModalConfig,\r\n\tnever\r\n> {\r\n\t#currentUserRepository = new UmbCurrentUserRepository(this);\r\n\r\n\t#close = () => {\r\n\t\tthis._rejectModal();\r\n\t};\r\n\r\n\tget #extensionSlotProps(): UmbMfaProviderConfigurationElementProps {\r\n\t\treturn {\r\n\t\t\tproviderName: this.data!.providerName,\r\n\t\t\tdisplayName: this.data!.displayName,\r\n\t\t\tcallback: (providerName, code, secret) =>\r\n\t\t\t\tthis.#currentUserRepository.enableMfaProvider(providerName, code, secret),\r\n\t\t\tclose: this.#close,\r\n\t\t};\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tif (!this.data) {\r\n\t\t\treturn html`<uui-loader-bar></uui-loader-bar>`;\r\n\t\t}\r\n\r\n\t\treturn html`\r\n\t\t\t<umb-extension-slot\r\n\t\t\t\ttype=\"mfaLoginProvider\"\r\n\t\t\t\tdefault-element=\"umb-mfa-provider-default\"\r\n\t\t\t\t.filter=${this.#extensionSlotFilter}\r\n\t\t\t\t.props=${this.#extensionSlotProps}></umb-extension-slot>\r\n\t\t`;\r\n\t}\r\n\r\n\t#extensionSlotFilter = (manifest: ManifestMfaLoginProvider): boolean => {\r\n\t\tif (!this.data) return false;\r\n\t\treturn manifest.forProviderName.toLowerCase() === this.data.providerName.toLowerCase();\r\n\t};\r\n}\r\n\r\nexport default UmbCurrentUserMfaEnableModalElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-current-user-mfa-enable-modal': UmbCurrentUserMfaEnableModalElement;\r\n\t}\r\n}\r\n"],"names":["_currentUserRepository","_close","_UmbCurrentUserMfaEnableModalElement_instances","extensionSlotProps_get","_extensionSlotFilter","UmbCurrentUserMfaEnableModalElement","UmbModalBaseElement","__privateAdd","UmbCurrentUserRepository","manifest","html","__privateGet","providerName","code","secret","__decorateClass","customElement","UmbCurrentUserMfaEnableModalElement$1"],"mappings":";;;;;;;;;;;;;;uQAAAA,GAAAC,GAAAC,GAAAC,GAAAC;AAUa,IAAAC,IAAN,cAAkDC,EAGvD;AAAA,EAHK,cAAA;AAAA,UAAA,GAAA,SAAA,GAAAC,EAAA,MAAAL,CAAA,GAImBK,EAAA,MAAAP,GAAA,IAAIQ,EAAyB,IAAI,CAAA,GAE1DD,EAAA,MAAAN,GAAS,MAAM;AACd,WAAK,aAAa;AAAA,IAAA,CACnB,GA0BAM,EAAA,MAAAH,GAAuB,CAACK,MAClB,KAAK,OACHA,EAAS,gBAAgB,YAAA,MAAkB,KAAK,KAAK,aAAa,YAAY,IAD9D,EAExB;AAAA,EAAA;AAAA,EAjBS,SAAS;AACb,WAAC,KAAK,OAIHC;AAAA;AAAA;AAAA;AAAA,cAIKC,QAAKP,CAAoB,CAAA;AAAA,aAC1BO,QAAKT,GAAmBC,CAAA,CAAA;AAAA,MAR3BO;AAAA,EAQ2B;AAQrC;AAlCCV,IAAA,oBAAA,QAAA;AAEAC,IAAA,oBAAA,QAAA;AANMC,IAAA,oBAAA,QAAA;AAUFC,IAAmB,WAA4C;AAC3D,SAAA;AAAA,IACN,cAAc,KAAK,KAAM;AAAA,IACzB,aAAa,KAAK,KAAM;AAAA,IACxB,UAAU,CAACS,GAAcC,GAAMC,MAC9BH,QAAKX,CAAuB,EAAA,kBAAkBY,GAAcC,GAAMC,CAAM;AAAA,IACzE,OAAOH,EAAK,MAAAV,CAAA;AAAA,EACb;AACD;AAgBAG,IAAA,oBAAA,QAAA;AAlCYC,IAANU,EAAA;AAAA,EADNC,EAAc,mCAAmC;AAAA,GACrCX,CAAA;AAwCb,MAAAY,IAAeZ;"}