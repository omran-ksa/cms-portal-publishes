{"version":3,"file":"entity-user-permission-settings-modal.element-Beu2TnBN.js","sources":["../../../src/packages/user/user-permission/modals/settings/entity-user-permission-settings-modal.element.ts"],"sourcesContent":["import type {\r\n\tUmbEntityUserPermissionSettingsModalData,\r\n\tUmbEntityUserPermissionSettingsModalValue,\r\n} from './entity-user-permission-settings-modal.token.js';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { html, customElement, css, nothing, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbModalBaseElement } from '@umbraco-cms/backoffice/modal';\r\nimport type { UmbSelectionChangeEvent } from '@umbraco-cms/backoffice/event';\r\n\r\n@customElement('umb-entity-user-permission-settings-modal')\r\nexport class UmbEntityUserPermissionSettingsModalElement extends UmbModalBaseElement<\r\n\tUmbEntityUserPermissionSettingsModalData,\r\n\tUmbEntityUserPermissionSettingsModalValue\r\n> {\r\n\toverride set data(data: UmbEntityUserPermissionSettingsModalData | undefined) {\r\n\t\tsuper.data = data;\r\n\t\tthis._entityType = data?.entityType;\r\n\t\tthis._headline = data?.headline ?? this._headline;\r\n\t\tthis._preset = data?.preset;\r\n\t}\r\n\r\n\t@state()\r\n\t_headline: string = 'Set permissions';\r\n\r\n\t@state()\r\n\t_entityType?: string;\r\n\r\n\t@state()\r\n\t_preset?: UmbEntityUserPermissionSettingsModalValue;\r\n\r\n\toverride connectedCallback(): void {\r\n\t\tsuper.connectedCallback();\r\n\r\n\t\tif (this._preset?.allowedVerbs && !this.value?.allowedVerbs) {\r\n\t\t\tthis.updateValue({ allowedVerbs: this._preset.allowedVerbs });\r\n\t\t}\r\n\t}\r\n\r\n\t#onPermissionChange(event: UmbSelectionChangeEvent) {\r\n\t\tconst target = event.target as any;\r\n\t\tthis.updateValue({ allowedVerbs: target.allowedVerbs });\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-body-layout headline=${this._headline}>\r\n\t\t\t\t<uui-box>\r\n\t\t\t\t\t${this._entityType\r\n\t\t\t\t\t\t? html` <umb-input-entity-user-permission\r\n\t\t\t\t\t\t\t\t.entityType=${this._entityType}\r\n\t\t\t\t\t\t\t\t.allowedVerbs=${this.value?.allowedVerbs ?? []}\r\n\t\t\t\t\t\t\t\t@change=${this.#onPermissionChange}></umb-input-entity-user-permission>`\r\n\t\t\t\t\t\t: nothing}\r\n\t\t\t\t</uui-box>\r\n\r\n\t\t\t\t<uui-button slot=\"actions\" id=\"cancel\" label=\"Cancel\" @click=\"${this._rejectModal}\">Cancel</uui-button>\r\n\t\t\t\t<uui-button\r\n\t\t\t\t\tslot=\"actions\"\r\n\t\t\t\t\tid=\"confirm\"\r\n\t\t\t\t\tcolor=\"positive\"\r\n\t\t\t\t\tlook=\"primary\"\r\n\t\t\t\t\tlabel=\"Confirm\"\r\n\t\t\t\t\t@click=${this._submitModal}></uui-button>\r\n\t\t\t</umb-body-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override readonly styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t.permission-toggle {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tborder-bottom: 1px solid var(--uui-color-divider);\r\n\t\t\t\tpadding: var(--uui-size-space-3) 0 var(--uui-size-space-4) 0;\r\n\t\t\t}\r\n\r\n\t\t\t.permission-meta {\r\n\t\t\t\tmargin-left: var(--uui-size-space-4);\r\n\t\t\t\tline-height: 1.2em;\r\n\t\t\t}\r\n\r\n\t\t\t.permission-name {\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbEntityUserPermissionSettingsModalElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-entity-user-permission-modal': UmbEntityUserPermissionSettingsModalElement;\r\n\t}\r\n}\r\n"],"names":["_UmbEntityUserPermissionSettingsModalElement_instances","onPermissionChange_fn","UmbEntityUserPermissionSettingsModalElement","UmbModalBaseElement","__privateAdd","data","html","__privateMethod","nothing","event","target","UmbTextStyles","css","__decorateClass","state","customElement","UmbEntityUserPermissionSettingsModalElement$1"],"mappings":";;;;;;;;;8OAAAA,GAAAC;AAUa,IAAAC,IAAN,cAA0DC,EAG/D;AAAA,EAHK,cAAA;AAAA,UAAA,GAAA,SAAA,GAAAC,EAAA,MAAAJ,CAAA,GAYc,KAAA,YAAA;AAAA,EAAA;AAAA,EARpB,IAAa,KAAKK,GAA4D;AAC7E,UAAM,OAAOA,GACb,KAAK,cAAcA,GAAM,YACpB,KAAA,YAAYA,GAAM,YAAY,KAAK,WACxC,KAAK,UAAUA,GAAM;AAAA,EAAA;AAAA,EAYb,oBAA0B;AAClC,UAAM,kBAAkB,GAEpB,KAAK,SAAS,gBAAgB,CAAC,KAAK,OAAO,gBAC9C,KAAK,YAAY,EAAE,cAAc,KAAK,QAAQ,cAAc;AAAA,EAC7D;AAAA,EAQQ,SAAS;AACV,WAAAC;AAAA,+BACsB,KAAK,SAAS;AAAA;AAAA,OAEtC,KAAK,cACJA;AAAA,sBACc,KAAK,WAAW;AAAA,wBACd,KAAK,OAAO,gBAAgB,CAAE,CAAA;AAAA,kBACpCC,EAAA,MAAKP,GAAmBC,CAAA,CAAA,yCAClCO,CAAO;AAAA;AAAA;AAAA,oEAGqD,KAAK,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAOvE,KAAK,YAAY;AAAA;AAAA;AAAA,EAAA;AAyB/B;AA7EOR,IAAA,oBAAA,QAAA;AA4BNC,IAAmB,SAACQ,GAAgC;AACnD,QAAMC,IAASD,EAAM;AACrB,OAAK,YAAY,EAAE,cAAcC,EAAO,cAAc;AACvD;AA/BYR,EAyDa,SAAS;AAAA,EACjCS;AAAA,EACAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBD;AAhEAC,EAAA;AAAA,EADCC,EAAM;AAAA,GAXKZ,EAYZ,WAAA,aAAA,CAAA;AAGAW,EAAA;AAAA,EADCC,EAAM;AAAA,GAdKZ,EAeZ,WAAA,eAAA,CAAA;AAGAW,EAAA;AAAA,EADCC,EAAM;AAAA,GAjBKZ,EAkBZ,WAAA,WAAA,CAAA;AAlBYA,IAANW,EAAA;AAAA,EADNE,EAAc,2CAA2C;AAAA,GAC7Cb,CAAA;AA+Eb,MAAAc,IAAed;"}