{"version":3,"file":"property-editor-ui-multiple-text-string.element-D5OJ-Oln.js","sources":["../../../src/packages/property-editors/multiple-text-string/property-editor-ui-multiple-text-string.element.ts"],"sourcesContent":["import { customElement, html, property, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { umbBindToValidation, UmbFormControlMixin } from '@umbraco-cms/backoffice/validation';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UMB_PROPERTY_CONTEXT } from '@umbraco-cms/backoffice/property';\r\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\nimport type { UmbInputMultipleTextStringElement } from '@umbraco-cms/backoffice/components';\r\nimport type {\r\n\tUmbPropertyEditorConfigCollection,\r\n\tUmbPropertyEditorUiElement,\r\n} from '@umbraco-cms/backoffice/property-editor';\r\n\r\n/**\r\n * @element umb-property-editor-ui-multiple-text-string\r\n */\r\n@customElement('umb-property-editor-ui-multiple-text-string')\r\nexport class UmbPropertyEditorUIMultipleTextStringElement\r\n\textends UmbFormControlMixin<Array<string>, typeof UmbLitElement, undefined>(UmbLitElement)\r\n\timplements UmbPropertyEditorUiElement\r\n{\r\n\tpublic set config(config: UmbPropertyEditorConfigCollection | undefined) {\r\n\t\tif (!config) return;\r\n\r\n\t\tthis._min = Number(config.getValueByAlias('min')) || 0;\r\n\t\tthis._max = Number(config.getValueByAlias('max')) || Infinity;\r\n\t}\r\n\r\n\t/**\r\n\t * Disables the Multiple Text String Property Editor UI\r\n\t * @type {boolean}\r\n\t * @attr\r\n\t * @default false\r\n\t */\r\n\t@property({ type: Boolean, reflect: true })\r\n\tdisabled = false;\r\n\r\n\t/**\r\n\t * Makes the Multiple Text String Property Editor UI readonly\r\n\t * @type {boolean}\r\n\t * @attr\r\n\t * @default false\r\n\t */\r\n\t@property({ type: Boolean, reflect: true })\r\n\treadonly = false;\r\n\r\n\t/**\r\n\t * Makes the Multiple Text String Property Editor UI mandatory\r\n\t * @type {boolean}\r\n\t * @attr\r\n\t * @default false\r\n\t */\r\n\t@property({ type: Boolean, reflect: true })\r\n\trequired = false;\r\n\r\n\t@state()\r\n\tprivate _label?: string;\r\n\r\n\t@state()\r\n\tprivate _min = 0;\r\n\r\n\t@state()\r\n\tprivate _max = Infinity;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_PROPERTY_CONTEXT, (context) => {\r\n\t\t\tthis._label = context?.getLabel();\r\n\t\t});\r\n\t}\r\n\r\n\tprotected override firstUpdated() {\r\n\t\tif (this._min && this._max && this._min > this._max) {\r\n\t\t\tconsole.warn(\r\n\t\t\t\t`Property '${this._label}' (Multiple Text String) has been misconfigured, 'min' is greater than 'max'. Please correct your data type configuration.`,\r\n\t\t\t\tthis,\r\n\t\t\t);\r\n\t\t}\r\n\t\tthis.addFormControlElement(this.shadowRoot!.querySelector('umb-input-multiple-text-string')!);\r\n\t}\r\n\r\n\t#onChange(event: UmbChangeEvent) {\r\n\t\tevent.stopPropagation();\r\n\t\tconst target = event.currentTarget as UmbInputMultipleTextStringElement;\r\n\t\tthis.value = target.items;\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-input-multiple-text-string\r\n\t\t\t\tmax=${this._max}\r\n\t\t\t\tmin=${this._min}\r\n\t\t\t\t.items=${this.value ?? []}\r\n\t\t\t\t?disabled=${this.disabled}\r\n\t\t\t\t?readonly=${this.readonly}\r\n\t\t\t\t?required=${this.required}\r\n\t\t\t\t@change=${this.#onChange}\r\n\t\t\t\t${umbBindToValidation(this)}>\r\n\t\t\t</umb-input-multiple-text-string>\r\n\t\t`;\r\n\t}\r\n}\r\n\r\nexport default UmbPropertyEditorUIMultipleTextStringElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-property-editor-ui-multiple-text-string': UmbPropertyEditorUIMultipleTextStringElement;\r\n\t}\r\n}\r\n"],"names":["_UmbPropertyEditorUIMultipleTextStringElement_instances","onChange_fn","UmbPropertyEditorUIMultipleTextStringElement","UmbFormControlMixin","UmbLitElement","__privateAdd","UMB_PROPERTY_CONTEXT","context","config","html","__privateMethod","umbBindToValidation","event","target","UmbChangeEvent","__decorateClass","property","state","customElement","UmbPropertyEditorUIMultipleTextStringElement$1"],"mappings":";;;;;;;;;;;8OAAAA,GAAAC;AAeO,IAAMC,IAAN,cACEC,EAAoEC,CAAa,EAE1F;AAAA,EA4CC,cAAc;AACP,UAAA,GAhDDC,EAAA,MAAAL,CAAA,GAkBK,KAAA,WAAA,IASA,KAAA,WAAA,IASA,KAAA,WAAA,IAMX,KAAQ,OAAO,GAGf,KAAQ,OAAO,OAKT,KAAA,eAAeM,GAAsB,CAACC,MAAY;AACjD,WAAA,SAASA,GAAS,SAAS;AAAA,IAAA,CAChC;AAAA,EAAA;AAAA,EAhDF,IAAW,OAAOC,GAAuD;AACxE,IAAKA,MAEL,KAAK,OAAO,OAAOA,EAAO,gBAAgB,KAAK,CAAC,KAAK,GACrD,KAAK,OAAO,OAAOA,EAAO,gBAAgB,KAAK,CAAC,KAAK;AAAA,EAAA;AAAA,EA+CnC,eAAe;AACjC,IAAI,KAAK,QAAQ,KAAK,QAAQ,KAAK,OAAO,KAAK,QACtC,QAAA;AAAA,MACP,aAAa,KAAK,MAAM;AAAA,MACxB;AAAA,IACD,GAED,KAAK,sBAAsB,KAAK,WAAY,cAAc,gCAAgC,CAAE;AAAA,EAAA;AAAA,EAUpF,SAAS;AACV,WAAAC;AAAA;AAAA,UAEC,KAAK,IAAI;AAAA,UACT,KAAK,IAAI;AAAA,aACN,KAAK,SAAS,CAAE,CAAA;AAAA,gBACb,KAAK,QAAQ;AAAA,gBACb,KAAK,QAAQ;AAAA,gBACb,KAAK,QAAQ;AAAA,cACfC,QAAKV,GAASC,CAAA,CAAA;AAAA,MACtBU,EAAoB,IAAI,CAAC;AAAA;AAAA;AAAA,EAAA;AAI/B;AAtFOX,IAAA,oBAAA,QAAA;AAiENC,IAAS,SAACW,GAAuB;AAChC,EAAAA,EAAM,gBAAgB;AACtB,QAAMC,IAASD,EAAM;AACrB,OAAK,QAAQC,EAAO,OACf,KAAA,cAAc,IAAIC,GAAgB;AACxC;AApDAC,EAAA;AAAA,EADCC,EAAS,EAAE,MAAM,SAAS,SAAS,GAAM,CAAA;AAAA,GAjB9Bd,EAkBZ,WAAA,YAAA,CAAA;AASAa,EAAA;AAAA,EADCC,EAAS,EAAE,MAAM,SAAS,SAAS,GAAM,CAAA;AAAA,GA1B9Bd,EA2BZ,WAAA,YAAA,CAAA;AASAa,EAAA;AAAA,EADCC,EAAS,EAAE,MAAM,SAAS,SAAS,GAAM,CAAA;AAAA,GAnC9Bd,EAoCZ,WAAA,YAAA,CAAA;AAGQa,EAAA;AAAA,EADPE,EAAM;AAAA,GAtCKf,EAuCJ,WAAA,UAAA,CAAA;AAGAa,EAAA;AAAA,EADPE,EAAM;AAAA,GAzCKf,EA0CJ,WAAA,QAAA,CAAA;AAGAa,EAAA;AAAA,EADPE,EAAM;AAAA,GA5CKf,EA6CJ,WAAA,QAAA,CAAA;AA7CIA,IAANa,EAAA;AAAA,EADNG,EAAc,6CAA6C;AAAA,GAC/ChB,CAAA;AAwFb,MAAAiB,IAAejB;"}