{"version":3,"file":"order-by.element-De26bqzZ.js","sources":["../../../src/packages/property-editors/collection/config/order-by/order-by.element.ts"],"sourcesContent":["import type { UmbCollectionColumnConfiguration } from '@umbraco-cms/backoffice/collection';\r\nimport { customElement, html, property, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UMB_PROPERTY_DATASET_CONTEXT } from '@umbraco-cms/backoffice/property';\r\nimport type {\r\n\tUmbPropertyEditorConfigCollection,\r\n\tUmbPropertyEditorUiElement,\r\n} from '@umbraco-cms/backoffice/property-editor';\r\nimport type { UUISelectEvent } from '@umbraco-cms/backoffice/external/uui';\r\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\n\r\n/**\r\n * @element umb-property-editor-ui-collection-order-by\r\n */\r\n@customElement('umb-property-editor-ui-collection-order-by')\r\nexport class UmbPropertyEditorUICollectionOrderByElement extends UmbLitElement implements UmbPropertyEditorUiElement {\r\n\t@property()\r\n\tpublic value: string = '';\r\n\r\n\tpublic config?: UmbPropertyEditorConfigCollection;\r\n\r\n\t@state()\r\n\tprivate _options: Array<Option> = [];\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_PROPERTY_DATASET_CONTEXT, async (instance) => {\r\n\t\t\tconst workspace = instance;\r\n\t\t\tthis.observe(\r\n\t\t\t\tawait workspace?.propertyValueByAlias<Array<UmbCollectionColumnConfiguration>>('includeProperties'),\r\n\t\t\t\t(includeProperties) => {\r\n\t\t\t\t\tif (!includeProperties) return;\r\n\t\t\t\t\tconst options = includeProperties.map((property) => ({\r\n\t\t\t\t\t\tname: property.header,\r\n\t\t\t\t\t\tvalue: property.alias,\r\n\t\t\t\t\t\tselected: property.alias === this.value,\r\n\t\t\t\t\t}));\r\n\t\t\t\t\tthis._options = [\r\n\t\t\t\t\t\t{ name: this.localize.term('general_name'), value: 'name', selected: 'name' === this.value },\r\n\t\t\t\t\t\t...options,\r\n\t\t\t\t\t];\r\n\t\t\t\t},\r\n\t\t\t\t'_observeIncludeProperties',\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\t#onChange(e: UUISelectEvent) {\r\n\t\tthis.value = e.target.value as string;\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tif (!this._options.length) return html`<p><em>Add a column (above) to order by.</em></p>`;\r\n\t\treturn html`<uui-select label=\"select\" .options=${this._options} @change=${this.#onChange}></uui-select>`;\r\n\t}\r\n}\r\n\r\nexport default UmbPropertyEditorUICollectionOrderByElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-property-editor-ui-collection-order-by': UmbPropertyEditorUICollectionOrderByElement;\r\n\t}\r\n}\r\n"],"names":["_UmbPropertyEditorUICollectionOrderByElement_instances","onChange_fn","UmbPropertyEditorUICollectionOrderByElement","UmbLitElement","__privateAdd","UMB_PROPERTY_DATASET_CONTEXT","instance","workspace","includeProperties","options","property","html","__privateMethod","UmbChangeEvent","__decorateClass","state","customElement","UmbPropertyEditorUICollectionOrderByElement$1"],"mappings":";;;;;;;;;;8OAAAA,GAAAC;AAea,IAAAC,IAAN,cAA0DC,EAAoD;AAAA,EASpH,cAAc;AACP,UAAA,GAVDC,EAAA,MAAAJ,CAAA,GAEN,KAAO,QAAgB,IAKvB,KAAQ,WAA0B,CAAC,GAK7B,KAAA,eAAeK,GAA8B,OAAOC,MAAa;AACrE,YAAMC,IAAYD;AACb,WAAA;AAAA,QACJ,MAAMC,GAAW,qBAA8D,mBAAmB;AAAA,QAClG,CAACC,MAAsB;AACtB,cAAI,CAACA,EAAmB;AACxB,gBAAMC,IAAUD,EAAkB,IAAI,CAACE,OAAc;AAAA,YACpD,MAAMA,EAAS;AAAA,YACf,OAAOA,EAAS;AAAA,YAChB,UAAUA,EAAS,UAAU,KAAK;AAAA,UAAA,EACjC;AACF,eAAK,WAAW;AAAA,YACf,EAAE,MAAM,KAAK,SAAS,KAAK,cAAc,GAAG,OAAO,QAAQ,UAAqB,KAAK,UAAhB,OAAsB;AAAA,YAC3F,GAAGD;AAAA,UACJ;AAAA,QACD;AAAA,QACA;AAAA,MACD;AAAA,IAAA,CACA;AAAA,EAAA;AAAA,EAQO,SAAS;AACjB,WAAK,KAAK,SAAS,SACZE,wCAA2C,KAAK,QAAQ,YAAYC,QAAKZ,GAASC,CAAA,CAAA,mBADvDU;AAAA,EACuD;AAE3F;AA1COX,IAAA,oBAAA,QAAA;AAiCNC,IAAS,SAAC,GAAmB;AACvB,OAAA,QAAQ,EAAE,OAAO,OACjB,KAAA,cAAc,IAAIY,GAAgB;AACxC;AAlCOC,EAAA;AAAA,EADNJ,EAAS;AAAA,GADER,EAEL,WAAA,SAAA,CAAA;AAKCY,EAAA;AAAA,EADPC,EAAM;AAAA,GANKb,EAOJ,WAAA,YAAA,CAAA;AAPIA,IAANY,EAAA;AAAA,EADNE,EAAc,4CAA4C;AAAA,GAC9Cd,CAAA;AA4Cb,MAAAe,IAAef;"}