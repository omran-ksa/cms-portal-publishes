{"version":3,"file":"document-permission.repository-Dlz2NUte.js","sources":["../../../src/packages/documents/documents/user-permissions/document/repository/document-permission.server.data.ts","../../../src/packages/documents/documents/user-permissions/document/repository/document-permission.repository.ts"],"sourcesContent":["import type { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport { tryExecute } from '@umbraco-cms/backoffice/resources';\r\n\r\n/**\r\n * @class UmbUserGroupCollectionServerDataSource\r\n * @implements {RepositoryDetailDataSource}\r\n */\r\nexport class UmbDocumentPermissionServerDataSource {\r\n\t#host: UmbControllerHost;\r\n\r\n\t/**\r\n\t * Creates an instance of UmbDocumentPermissionServerDataSource.\r\n\t * @param {UmbControllerHost} host - The controller host for this controller to be appended to\r\n\t * @memberof UmbDocumentPermissionServerDataSource\r\n\t */\r\n\tconstructor(host: UmbControllerHost) {\r\n\t\tthis.#host = host;\r\n\t}\r\n\r\n\trequestPermissions(id: string) {\r\n\t\treturn tryExecute(\r\n\t\t\tthis.#host,\r\n\t\t\tfetch(`/umbraco/management/api/v1/document/${id}/permissions`, {\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t}).then((res) => res.json()),\r\n\t\t);\r\n\t}\r\n}\r\n","import { UmbDocumentPermissionServerDataSource } from './document-permission.server.data.js';\r\nimport type { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport { UmbControllerBase } from '@umbraco-cms/backoffice/class-api';\r\n\r\nexport class UmbDocumentPermissionRepository extends UmbControllerBase {\r\n\t#permissionSource: UmbDocumentPermissionServerDataSource;\r\n\r\n\tconstructor(host: UmbControllerHost) {\r\n\t\tsuper(host);\r\n\t\tthis.#permissionSource = new UmbDocumentPermissionServerDataSource(this);\r\n\t}\r\n\r\n\tasync requestPermissions(id: string) {\r\n\t\tif (!id) throw new Error(`id is required`);\r\n\t\treturn this.#permissionSource.requestPermissions(id);\r\n\t}\r\n}\r\n\r\nexport default UmbDocumentPermissionRepository;\r\n"],"names":["UmbDocumentPermissionServerDataSource","#host","host","id","tryExecute","res","UmbDocumentPermissionRepository","UmbControllerBase","#permissionSource"],"mappings":";;AAOO,MAAMA,EAAsC;AAAA,EAClDC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,YAAYC,GAAyB;AACpC,SAAKD,KAAQC;AAAA,EAAA;AAAA,EAGd,mBAAmBC,GAAY;AACvB,WAAAC;AAAA,MACN,KAAKH;AAAA,MACL,MAAM,uCAAuCE,CAAE,gBAAgB;AAAA,QAC9D,QAAQ;AAAA,QACR,SAAS;AAAA,UACR,gBAAgB;AAAA,QAAA;AAAA,MAEjB,CAAA,EAAE,KAAK,CAACE,MAAQA,EAAI,KAAM,CAAA;AAAA,IAC5B;AAAA,EAAA;AAEF;AC1BO,MAAMC,UAAwCC,EAAkB;AAAA,EACtEC;AAAA,EAEA,YAAYN,GAAyB;AACpC,UAAMA,CAAI,GACL,KAAAM,KAAoB,IAAIR,EAAsC,IAAI;AAAA,EAAA;AAAA,EAGxE,MAAM,mBAAmBG,GAAY;AACpC,QAAI,CAACA,EAAU,OAAA,IAAI,MAAM,gBAAgB;AAClC,WAAA,KAAKK,GAAkB,mBAAmBL,CAAE;AAAA,EAAA;AAErD;"}