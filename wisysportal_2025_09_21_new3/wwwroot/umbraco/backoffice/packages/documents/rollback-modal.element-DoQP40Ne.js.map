{"version":3,"file":"rollback-modal.element-DoQP40Ne.js","sources":["../../../src/packages/documents/documents/rollback/modal/rollback-modal.element.ts"],"sourcesContent":["import { UMB_DOCUMENT_ENTITY_TYPE } from '../../constants.js';\r\nimport { UmbRollbackRepository } from '../repository/rollback.repository.js';\r\nimport { UmbDocumentDetailRepository } from '../../repository/index.js';\r\nimport type { UmbDocumentDetailModel } from '../../types.js';\r\nimport type { UmbRollbackModalData, UmbRollbackModalValue } from './types.js';\r\nimport { diffWords, type UmbDiffChange } from '@umbraco-cms/backoffice/utils';\r\nimport { css, customElement, html, nothing, repeat, state, unsafeHTML } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbModalBaseElement } from '@umbraco-cms/backoffice/modal';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { UmbUserItemRepository } from '@umbraco-cms/backoffice/user';\r\nimport { UMB_PROPERTY_DATASET_CONTEXT } from '@umbraco-cms/backoffice/property';\r\nimport type { UUISelectEvent } from '@umbraco-cms/backoffice/external/uui';\r\nimport { UMB_APP_LANGUAGE_CONTEXT, UmbLanguageItemRepository } from '@umbraco-cms/backoffice/language';\r\nimport { UMB_ENTITY_CONTEXT } from '@umbraco-cms/backoffice/entity';\r\nimport { UmbVariantId } from '@umbraco-cms/backoffice/variant';\r\n\r\nimport '../../modals/shared/document-variant-language-picker.element.js';\r\nimport { UMB_ACTION_EVENT_CONTEXT } from '@umbraco-cms/backoffice/action';\r\nimport { UmbEntityUpdatedEvent, UmbRequestReloadStructureForEntityEvent } from '@umbraco-cms/backoffice/entity-action';\r\n\r\ntype DocumentVersion = {\r\n\tid: string;\r\n\tdate: string;\r\n\tuser: string;\r\n\tisCurrentlyPublishedVersion: boolean;\r\n\tpreventCleanup: boolean;\r\n};\r\n\r\n@customElement('umb-rollback-modal')\r\nexport class UmbRollbackModalElement extends UmbModalBaseElement<UmbRollbackModalData, UmbRollbackModalValue> {\r\n\t@state()\r\n\t_versions: DocumentVersion[] = [];\r\n\r\n\t@state()\r\n\t_selectedVersion?: {\r\n\t\tdate: string;\r\n\t\tname: string;\r\n\t\tuser: string;\r\n\t\tid: string;\r\n\t\tproperties: {\r\n\t\t\talias: string;\r\n\t\t\tvalue: string;\r\n\t\t}[];\r\n\t};\r\n\r\n\t@state()\r\n\t_selectedCulture: string | null = null;\r\n\r\n\t@state()\r\n\t_isInvariant = true;\r\n\r\n\t@state()\r\n\t_availableVariants: Option[] = [];\r\n\r\n\t@state()\r\n\t_diffs: Array<{ alias: string; diff: UmbDiffChange[] }> = [];\r\n\r\n\t#rollbackRepository = new UmbRollbackRepository(this);\r\n\t#userItemRepository = new UmbUserItemRepository(this);\r\n\r\n\t#localizeDateOptions: Intl.DateTimeFormatOptions = {\r\n\t\tday: 'numeric',\r\n\t\tmonth: 'long',\r\n\t\thour: 'numeric',\r\n\t\tminute: '2-digit',\r\n\t};\r\n\r\n\t#currentDocument: UmbDocumentDetailModel | undefined;\r\n\t#currentAppCulture: string | undefined;\r\n\t#currentDatasetCulture: string | undefined;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_PROPERTY_DATASET_CONTEXT, (instance) => {\r\n\t\t\tthis.#currentDatasetCulture = instance?.getVariantId().culture ?? undefined;\r\n\t\t\tthis.#selectCulture();\r\n\t\t});\r\n\r\n\t\tthis.consumeContext(UMB_APP_LANGUAGE_CONTEXT, (instance) => {\r\n\t\t\tthis.#currentAppCulture = instance?.getAppCulture();\r\n\t\t\tthis.#selectCulture();\r\n\t\t});\r\n\r\n\t\tthis.consumeContext(UMB_ENTITY_CONTEXT, async (instance) => {\r\n\t\t\tif (!instance) return;\r\n\t\t\tif (instance.getEntityType() !== UMB_DOCUMENT_ENTITY_TYPE) {\r\n\t\t\t\tthrow new Error(`Entity type is not ${UMB_DOCUMENT_ENTITY_TYPE}`);\r\n\t\t\t}\r\n\r\n\t\t\tconst unique = instance.getUnique();\r\n\r\n\t\t\tif (!unique) {\r\n\t\t\t\tthrow new Error('Document unique is not set');\r\n\t\t\t}\r\n\r\n\t\t\tconst { data } = await new UmbDocumentDetailRepository(this).requestByUnique(unique);\r\n\t\t\tif (!data) return;\r\n\r\n\t\t\tthis.#currentDocument = data;\r\n\t\t\tconst itemVariants = this.#currentDocument?.variants ?? [];\r\n\r\n\t\t\tthis._isInvariant = itemVariants.length === 1 && new UmbVariantId(itemVariants[0].culture).isInvariant();\r\n\t\t\tthis.#selectCulture();\r\n\r\n\t\t\tconst cultures = itemVariants.map((x) => x.culture).filter((x) => x !== null) as string[];\r\n\t\t\tconst { data: languageItems } = await new UmbLanguageItemRepository(this).requestItems(cultures);\r\n\r\n\t\t\tif (languageItems) {\r\n\t\t\t\tthis._availableVariants = languageItems.map((language) => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tname: language.name,\r\n\t\t\t\t\t\tvalue: language.unique,\r\n\t\t\t\t\t\tselected: language.unique === this._selectedCulture,\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis._availableVariants = [];\r\n\t\t\t}\r\n\r\n\t\t\tthis.#requestVersions();\r\n\t\t});\r\n\t}\r\n\r\n\t#selectCulture() {\r\n\t\tconst contextCulture = this.#currentDatasetCulture ?? this.#currentAppCulture ?? null;\r\n\t\tthis._selectedCulture = this._isInvariant ? null : contextCulture;\r\n\t}\r\n\r\n\tasync #requestVersions() {\r\n\t\tif (!this.#currentDocument?.unique) {\r\n\t\t\tthrow new Error('Document unique is not set');\r\n\t\t}\r\n\r\n\t\tconst { data } = await this.#rollbackRepository.requestVersionsByDocumentId(\r\n\t\t\tthis.#currentDocument?.unique,\r\n\t\t\tthis._selectedCulture ?? undefined,\r\n\t\t);\r\n\t\tif (!data) return;\r\n\r\n\t\tconst tempItems: DocumentVersion[] = [];\r\n\r\n\t\tconst uniqueUserIds = [...new Set(data?.items.map((item) => item.user.id))];\r\n\r\n\t\tconst { data: userItems } = await this.#userItemRepository.requestItems(uniqueUserIds);\r\n\r\n\t\tdata?.items.forEach((item: any) => {\r\n\t\t\tif (item.isCurrentDraftVersion) return;\r\n\r\n\t\t\ttempItems.push({\r\n\t\t\t\tdate: item.versionDate,\r\n\t\t\t\tuser:\r\n\t\t\t\t\tuserItems?.find((user) => user.unique === item.user.id)?.name || this.localize.term('general_unknownUser'),\r\n\t\t\t\tisCurrentlyPublishedVersion: item.isCurrentPublishedVersion,\r\n\t\t\t\tid: item.id,\r\n\t\t\t\tpreventCleanup: item.preventCleanup,\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis._versions = tempItems;\r\n\t\tconst id = tempItems.find((item) => item.isCurrentlyPublishedVersion)?.id;\r\n\r\n\t\tif (id) {\r\n\t\t\tthis.#selectVersion(id);\r\n\t\t}\r\n\t}\r\n\r\n\tasync #selectVersion(id: string) {\r\n\t\tconst version = this._versions.find((item) => item.id === id);\r\n\r\n\t\tif (!version) {\r\n\t\t\tthis._selectedVersion = undefined;\r\n\t\t\tthis._diffs = [];\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst { data } = await this.#rollbackRepository.requestVersionById(id);\r\n\r\n\t\tif (!data) {\r\n\t\t\tthis._selectedVersion = undefined;\r\n\t\t\tthis._diffs = [];\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._selectedVersion = {\r\n\t\t\tdate: version.date,\r\n\t\t\tuser: version.user,\r\n\t\t\tname: data.variants.find((x) => x.culture === this._selectedCulture)?.name || data.variants[0].name,\r\n\t\t\tid: data.id,\r\n\t\t\tproperties: data.values\r\n\t\t\t\t.filter((x) => x.culture === this._selectedCulture || !x.culture) // When invariant, culture is undefined or null.\r\n\t\t\t\t.map((value: any) => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\talias: value.alias,\r\n\t\t\t\t\t\tvalue: value.value,\r\n\t\t\t\t\t};\r\n\t\t\t\t}),\r\n\t\t};\r\n\r\n\t\tawait this.#setDiffs();\r\n\t}\r\n\r\n\tasync #onRollback() {\r\n\t\tif (!this._selectedVersion) return;\r\n\r\n\t\tconst id = this._selectedVersion.id;\r\n\t\tconst culture = this._selectedCulture ?? undefined;\r\n\r\n\t\tconst { error } = await this.#rollbackRepository.rollback(id, culture);\r\n\t\tif (error) return;\r\n\r\n\t\tconst unique = this.#currentDocument?.unique;\r\n\t\tconst entityType = this.#currentDocument?.entityType;\r\n\r\n\t\tif (!unique || !entityType) {\r\n\t\t\tthrow new Error('Document unique or entity type is not set');\r\n\t\t}\r\n\r\n\t\tconst actionEventContext = await this.getContext(UMB_ACTION_EVENT_CONTEXT);\r\n\t\tif (!actionEventContext) {\r\n\t\t\tthrow new Error('Action event context not found');\r\n\t\t}\r\n\r\n\t\tconst reloadStructureEvent = new UmbRequestReloadStructureForEntityEvent({ unique, entityType });\r\n\t\tactionEventContext.dispatchEvent(reloadStructureEvent);\r\n\r\n\t\tconst entityUpdatedEvent = new UmbEntityUpdatedEvent({ unique, entityType });\r\n\t\tactionEventContext.dispatchEvent(entityUpdatedEvent);\r\n\r\n\t\tthis.value = {};\r\n\r\n\t\tthis.modalContext?.submit();\r\n\t}\r\n\r\n\t#onCancel() {\r\n\t\tthis.modalContext?.reject();\r\n\t}\r\n\r\n\t#onVersionClicked(id: string) {\r\n\t\tthis.#selectVersion(id);\r\n\t}\r\n\r\n\t#onPreventCleanup(event: Event, id: string, preventCleanup: boolean) {\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopImmediatePropagation();\r\n\t\tthis.#rollbackRepository.setPreventCleanup(id, preventCleanup);\r\n\r\n\t\tconst version = this._versions.find((item) => item.id === id);\r\n\t\tif (!version) return;\r\n\r\n\t\tversion.preventCleanup = preventCleanup;\r\n\t\tthis.requestUpdate('_versions');\r\n\t}\r\n\r\n\t#onChangeCulture(event: UUISelectEvent) {\r\n\t\tconst value = event.target.value;\r\n\r\n\t\tthis._selectedCulture = value.toString();\r\n\t\tthis.#requestVersions();\r\n\t}\r\n\r\n\t#trimQuotes(str: string): string {\r\n\t\treturn str.replace(/^['\"]|['\"]$/g, '');\r\n\t}\r\n\r\n\t#renderCultureSelect() {\r\n\t\treturn html`\r\n\t\t\t<uui-select\r\n\t\t\t\tid=\"language-select\"\r\n\t\t\t\t@change=${this.#onChangeCulture}\r\n\t\t\t\t.options=${this._availableVariants}></uui-select>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderVersions() {\r\n\t\tif (!this._versions.length) {\r\n\t\t\treturn html`<uui-box headline=${this.localize.term('rollback_versions')}>No versions available</uui-box>`;\r\n\t\t}\r\n\r\n\t\treturn html` <uui-box id=\"versions-box\" headline=${this.localize.term('rollback_versions')}>\r\n\t\t\t${repeat(\r\n\t\t\t\tthis._versions,\r\n\t\t\t\t(item) => item.id,\r\n\t\t\t\t(item) => {\r\n\t\t\t\t\treturn html`\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t@click=${() => this.#onVersionClicked(item.id)}\r\n\t\t\t\t\t\t\t@keydown=${() => {}}\r\n\t\t\t\t\t\t\tclass=\"rollback-item ${this._selectedVersion?.id === item.id ? 'active' : ''}\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p class=\"rollback-item-date\">\r\n\t\t\t\t\t\t\t\t\t<umb-localize-date date=\"${item.date}\" .options=${this.#localizeDateOptions}></umb-localize-date>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>${item.user}</p>\r\n\t\t\t\t\t\t\t\t<p>${item.isCurrentlyPublishedVersion ? this.localize.term('rollback_currentPublishedVersion') : ''}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<uui-button\r\n\t\t\t\t\t\t\t\tlook=\"secondary\"\r\n\t\t\t\t\t\t\t\t@click=${(event: Event) => this.#onPreventCleanup(event, item.id, !item.preventCleanup)}\r\n\t\t\t\t\t\t\t\tlabel=${item.preventCleanup\r\n\t\t\t\t\t\t\t\t\t? this.localize.term('contentTypeEditor_historyCleanupEnableCleanup')\r\n\t\t\t\t\t\t\t\t\t: this.localize.term('contentTypeEditor_historyCleanupPreventCleanup')}></uui-button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t`;\r\n\t\t\t\t},\r\n\t\t\t)}</uui-box\r\n\t\t>`;\r\n\t}\r\n\r\n\tasync #setDiffs() {\r\n\t\tif (!this._selectedVersion) return;\r\n\r\n\t\tconst currentPropertyValues = this.#currentDocument?.values.filter(\r\n\t\t\t(x) => x.culture === this._selectedCulture || !x.culture,\r\n\t\t); // When invariant, culture is undefined or null.\r\n\r\n\t\tif (!currentPropertyValues) {\r\n\t\t\tthrow new Error('Current property values are not set');\r\n\t\t}\r\n\r\n\t\tconst currentName = this.#currentDocument?.variants.find((x) => x.culture === this._selectedCulture)?.name;\r\n\r\n\t\tif (!currentName) {\r\n\t\t\tthrow new Error('Current name is not set');\r\n\t\t}\r\n\r\n\t\tconst diffs: Array<{ alias: string; diff: UmbDiffChange[] }> = [];\r\n\r\n\t\tconst nameDiff = diffWords(currentName, this._selectedVersion.name);\r\n\t\tdiffs.push({ alias: 'name', diff: nameDiff });\r\n\r\n\t\tthis._selectedVersion.properties.forEach((item) => {\r\n\t\t\tconst draftValue = currentPropertyValues.find((x) => x.alias === item.alias);\r\n\r\n\t\t\tif (!draftValue) return;\r\n\r\n\t\t\tconst draftValueString = this.#trimQuotes(JSON.stringify(draftValue.value));\r\n\t\t\tconst versionValueString = this.#trimQuotes(JSON.stringify(item.value));\r\n\r\n\t\t\tconst diff = diffWords(draftValueString, versionValueString);\r\n\t\t\tdiffs.push({ alias: item.alias, diff });\r\n\t\t});\r\n\r\n\t\tthis._diffs = [...diffs];\r\n\t}\r\n\r\n\t#renderSelectedVersion() {\r\n\t\tif (!this._selectedVersion)\r\n\t\t\treturn html`\r\n\t\t\t\t<uui-box id=\"box-right\" style=\"display: flex; align-items: center; justify-content: center;\"\r\n\t\t\t\t\t>No selected version</uui-box\r\n\t\t\t\t>\r\n\t\t\t`;\r\n\r\n\t\treturn html`\r\n\t\t\t<uui-box headline=${this.currentVersionHeader} id=\"box-right\">\r\n\t\t\t\t${unsafeHTML(this.localize.term('rollback_diffHelp'))}\r\n\t\t\t\t<uui-table>\r\n\t\t\t\t\t<uui-table-column style=\"width: 0\"></uui-table-column>\r\n\t\t\t\t\t<uui-table-column></uui-table-column>\r\n\r\n\t\t\t\t\t<uui-table-head>\r\n\t\t\t\t\t\t<uui-table-head-cell>${this.localize.term('general_alias')}</uui-table-head-cell>\r\n\t\t\t\t\t\t<uui-table-head-cell>${this.localize.term('general_value')}</uui-table-head-cell>\r\n\t\t\t\t\t</uui-table-head>\r\n\t\t\t\t\t${repeat(\r\n\t\t\t\t\t\tthis._diffs,\r\n\t\t\t\t\t\t(item) => item.alias,\r\n\t\t\t\t\t\t(item) => {\r\n\t\t\t\t\t\t\tconst diff = this._diffs.find((x) => x?.alias === item.alias);\r\n\t\t\t\t\t\t\treturn html`\r\n\t\t\t\t\t\t\t\t<uui-table-row>\r\n\t\t\t\t\t\t\t\t\t<uui-table-cell>${item.alias}</uui-table-cell>\r\n\t\t\t\t\t\t\t\t\t<uui-table-cell>\r\n\t\t\t\t\t\t\t\t\t\t${diff\r\n\t\t\t\t\t\t\t\t\t\t\t? diff.diff.map((part) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpart.added\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? html`<span class=\"diff-added\">${part.value}</span>`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: part.removed\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? html`<span class=\"diff-removed\">${part.value}</span>`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: part.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t: nothing}\r\n\t\t\t\t\t\t\t\t\t</uui-table-cell>\r\n\t\t\t\t\t\t\t\t</uui-table-row>\r\n\t\t\t\t\t\t\t`;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t)}\r\n\t\t\t\t</uui-table>\r\n\t\t\t</uui-box>\r\n\t\t`;\r\n\t}\r\n\r\n\tget currentVersionHeader() {\r\n\t\treturn (\r\n\t\t\tthis.localize.date(this._selectedVersion?.date ?? new Date(), this.#localizeDateOptions) +\r\n\t\t\t' - ' +\r\n\t\t\tthis._selectedVersion?.user\r\n\t\t);\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-body-layout headline=\"Rollback\">\r\n\t\t\t\t<div id=\"main\">\r\n\t\t\t\t\t<div id=\"box-left\">\r\n\t\t\t\t\t\t${this._availableVariants.length\r\n\t\t\t\t\t\t\t? html`\r\n\t\t\t\t\t\t\t\t\t<uui-box id=\"language-box\" headline=${this.localize.term('general_language')}>\r\n\t\t\t\t\t\t\t\t\t\t${this.#renderCultureSelect()}\r\n\t\t\t\t\t\t\t\t\t</uui-box>\r\n\t\t\t\t\t\t\t\t`\r\n\t\t\t\t\t\t\t: nothing}\r\n\t\t\t\t\t\t${this.#renderVersions()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t${this.#renderSelectedVersion()}\r\n\t\t\t\t</div>\r\n\t\t\t\t<umb-footer-layout slot=\"footer\">\r\n\t\t\t\t\t<uui-button\r\n\t\t\t\t\t\tslot=\"actions\"\r\n\t\t\t\t\t\tlook=\"secondary\"\r\n\t\t\t\t\t\t@click=${this.#onCancel}\r\n\t\t\t\t\t\tlabel=${this.localize.term('general_cancel')}></uui-button>\r\n\t\t\t\t\t<uui-button\r\n\t\t\t\t\t\tslot=\"actions\"\r\n\t\t\t\t\t\tlook=\"primary\"\r\n\t\t\t\t\t\t@click=${this.#onRollback}\r\n\t\t\t\t\t\tlabel=${this.localize.term('actions_rollback')}\r\n\t\t\t\t\t\t?disabled=${!this._selectedVersion}></uui-button>\r\n\t\t\t\t</umb-footer-layout>\r\n\t\t\t</umb-body-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tcolor: var(--uui-color-text);\r\n\t\t\t}\r\n\r\n\t\t\t#language-box {\r\n\t\t\t\tmargin-bottom: var(--uui-size-space-2);\r\n\t\t\t}\r\n\r\n\t\t\t#language-select {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\r\n\t\t\tuui-table {\r\n\t\t\t\t--uui-table-cell-padding: var(--uui-size-space-1) var(--uui-size-space-4);\r\n\t\t\t\tmargin-top: var(--uui-size-space-5);\r\n\t\t\t}\r\n\t\t\tuui-table-head-cell:first-child {\r\n\t\t\t\tborder-top-left-radius: var(--uui-border-radius);\r\n\t\t\t}\r\n\t\t\tuui-table-head-cell:last-child {\r\n\t\t\t\tborder-top-right-radius: var(--uui-border-radius);\r\n\t\t\t}\r\n\t\t\tuui-table-head-cell {\r\n\t\t\t\tbackground-color: var(--uui-color-surface-alt);\r\n\t\t\t}\r\n\t\t\tuui-table-head-cell:last-child,\r\n\t\t\tuui-table-cell:last-child {\r\n\t\t\t\tborder-right: 1px solid var(--uui-color-border);\r\n\t\t\t}\r\n\t\t\tuui-table-head-cell,\r\n\t\t\tuui-table-cell {\r\n\t\t\t\tborder-top: 1px solid var(--uui-color-border);\r\n\t\t\t\tborder-left: 1px solid var(--uui-color-border);\r\n\t\t\t}\r\n\t\t\tuui-table-row:last-child uui-table-cell {\r\n\t\t\t\tborder-bottom: 1px solid var(--uui-color-border);\r\n\t\t\t}\r\n\t\t\tuui-table-row:last-child uui-table-cell:last-child {\r\n\t\t\t\tborder-bottom-right-radius: var(--uui-border-radius);\r\n\t\t\t}\r\n\t\t\tuui-table-row:last-child uui-table-cell:first-child {\r\n\t\t\t\tborder-bottom-left-radius: var(--uui-border-radius);\r\n\t\t\t}\r\n\r\n\t\t\t.diff-added,\r\n\t\t\tins {\r\n\t\t\t\tbackground-color: #00c43e63;\r\n\t\t\t}\r\n\t\t\t.diff-removed,\r\n\t\t\tdel {\r\n\t\t\t\tbackground-color: #ff35356a;\r\n\t\t\t}\r\n\t\t\t.rollback-item {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tpadding: var(--uui-size-space-5);\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t}\r\n\t\t\t.rollback-item::after {\r\n\t\t\t\tcontent: '';\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tinset: 2px;\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tborder: 2px solid transparent;\r\n\t\t\t\tpointer-events: none;\r\n\t\t\t}\r\n\t\t\t.rollback-item.active::after,\r\n\t\t\t.rollback-item:hover::after {\r\n\t\t\t\tborder-color: var(--uui-color-selected);\r\n\t\t\t}\r\n\t\t\t.rollback-item:not(.active):hover::after {\r\n\t\t\t\topacity: 0.5;\r\n\t\t\t}\r\n\t\t\t.rollback-item p {\r\n\t\t\t\tmargin: 0;\r\n\t\t\t\topacity: 0.5;\r\n\t\t\t}\r\n\t\t\tp.rollback-item-date {\r\n\t\t\t\topacity: 1;\r\n\t\t\t}\r\n\t\t\t.rollback-item uui-button {\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t}\r\n\r\n\t\t\t#main {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tgap: var(--uui-size-space-5);\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t#versions-box {\r\n\t\t\t\t--uui-box-default-padding: 0;\r\n\t\t\t}\r\n\r\n\t\t\t#box-left {\r\n\t\t\t\tmax-width: 500px;\r\n\t\t\t\tflex: 1;\r\n\t\t\t\toverflow: auto;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t#box-right {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\toverflow: auto;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbRollbackModalElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-rollback-modal': UmbRollbackModalElement;\r\n\t}\r\n}\r\n"],"names":["_rollbackRepository","_userItemRepository","_localizeDateOptions","_currentDocument","_currentAppCulture","_currentDatasetCulture","_UmbRollbackModalElement_instances","selectCulture_fn","requestVersions_fn","selectVersion_fn","onRollback_fn","onCancel_fn","onVersionClicked_fn","onPreventCleanup_fn","onChangeCulture_fn","trimQuotes_fn","renderCultureSelect_fn","renderVersions_fn","setDiffs_fn","renderSelectedVersion_fn","UmbRollbackModalElement","UmbModalBaseElement","__privateAdd","UmbRollbackRepository","UmbUserItemRepository","UMB_PROPERTY_DATASET_CONTEXT","instance","__privateSet","__privateMethod","UMB_APP_LANGUAGE_CONTEXT","UMB_ENTITY_CONTEXT","UMB_DOCUMENT_ENTITY_TYPE","unique","data","UmbDocumentDetailRepository","itemVariants","__privateGet","UmbVariantId","cultures","x","languageItems","UmbLanguageItemRepository","language","html","nothing","contextCulture","tempItems","uniqueUserIds","item","userItems","user","id","version","value","culture","error","entityType","actionEventContext","UMB_ACTION_EVENT_CONTEXT","reloadStructureEvent","UmbRequestReloadStructureForEntityEvent","entityUpdatedEvent","UmbEntityUpdatedEvent","event","preventCleanup","str","repeat","currentPropertyValues","currentName","diffs","nameDiff","diffWords","draftValue","draftValueString","versionValueString","diff","unsafeHTML","part","UmbTextStyles","css","__decorateClass","state","customElement","UmbRollbackModalElement$1"],"mappings":"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"}