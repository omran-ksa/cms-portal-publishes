{"version":3,"file":"document-workspace-view-info.element-DME7zP7r.js","sources":["../../../src/packages/documents/documents/workspace/views/info/document-workspace-view-info.element.ts"],"sourcesContent":["import { UMB_DOCUMENT_PROPERTY_DATASET_CONTEXT, UMB_DOCUMENT_WORKSPACE_CONTEXT } from '../../../constants.js';\r\nimport type { UmbDocumentVariantModel } from '../../../types.js';\r\nimport { UMB_DOCUMENT_PUBLISHING_WORKSPACE_CONTEXT } from '../../../publishing/index.js';\r\nimport { TimeOptions } from '../../../utils.js';\r\nimport { css, customElement, html, ifDefined, nothing, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { DocumentVariantStateModel } from '@umbraco-cms/backoffice/external/backend-api';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbModalRouteRegistrationController } from '@umbraco-cms/backoffice/router';\r\nimport { umbOpenModal } from '@umbraco-cms/backoffice/modal';\r\nimport { UMB_WORKSPACE_MODAL } from '@umbraco-cms/backoffice/workspace';\r\nimport { UMB_TEMPLATE_PICKER_MODAL, UmbTemplateItemRepository } from '@umbraco-cms/backoffice/template';\r\nimport type { UmbDocumentTypeDetailModel } from '@umbraco-cms/backoffice/document-type';\r\nimport type { UmbModalRouteBuilder } from '@umbraco-cms/backoffice/router';\r\nimport { createExtensionApiByAlias } from '@umbraco-cms/backoffice/extension-registry';\r\nimport { UMB_SECTION_USER_PERMISSION_CONDITION_ALIAS } from '@umbraco-cms/backoffice/section';\r\nimport { UMB_SETTINGS_SECTION_ALIAS } from '@umbraco-cms/backoffice/settings';\r\n\r\n@customElement('umb-document-workspace-view-info')\r\nexport class UmbDocumentWorkspaceViewInfoElement extends UmbLitElement {\r\n\t@state()\r\n\tprivate _documentUnique = '';\r\n\r\n\t// Document Type\r\n\t@state()\r\n\tprivate _documentTypeUnique?: string = '';\r\n\r\n\t@state()\r\n\tprivate _documentTypeName?: string;\r\n\r\n\t@state()\r\n\tprivate _documentTypeIcon?: string;\r\n\r\n\t@state()\r\n\tprivate _allowedTemplates?: UmbDocumentTypeDetailModel['allowedTemplates'];\r\n\r\n\t// Template\r\n\t@state()\r\n\tprivate _templateUnique = '';\r\n\r\n\t@state()\r\n\tprivate _templateName?: string;\r\n\r\n\t@state()\r\n\tprivate _variant?: UmbDocumentVariantModel;\r\n\r\n\t@state()\r\n\tprivate _variantsWithPendingChanges: Array<any> = [];\r\n\r\n\t@state()\r\n\tprivate _hasSettingsAccess: boolean = false;\r\n\r\n\t#workspaceContext?: typeof UMB_DOCUMENT_WORKSPACE_CONTEXT.TYPE;\r\n\t#templateRepository = new UmbTemplateItemRepository(this);\r\n\t#documentPublishingWorkspaceContext?: typeof UMB_DOCUMENT_PUBLISHING_WORKSPACE_CONTEXT.TYPE;\r\n\r\n\t@state()\r\n\tprivate _routeBuilder?: UmbModalRouteBuilder;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tnew UmbModalRouteRegistrationController(this, UMB_WORKSPACE_MODAL)\r\n\t\t\t.addAdditionalPath('general/:entityType')\r\n\t\t\t.onSetup((params) => {\r\n\t\t\t\treturn { data: { entityType: params.entityType, preset: {} } };\r\n\t\t\t})\r\n\t\t\t.observeRouteBuilder((routeBuilder) => {\r\n\t\t\t\tthis._routeBuilder = routeBuilder;\r\n\t\t\t});\r\n\r\n\t\tthis.consumeContext(UMB_DOCUMENT_WORKSPACE_CONTEXT, (context) => {\r\n\t\t\tthis.#workspaceContext = context;\r\n\t\t\tthis._documentTypeUnique = this.#workspaceContext?.getContentTypeId();\r\n\t\t\tthis.#observeContent();\r\n\t\t});\r\n\r\n\t\tthis.consumeContext(UMB_DOCUMENT_PROPERTY_DATASET_CONTEXT, (context) => {\r\n\t\t\tthis.observe(context?.currentVariant, (currentVariant) => {\r\n\t\t\t\tthis._variant = currentVariant;\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis.consumeContext(UMB_DOCUMENT_PUBLISHING_WORKSPACE_CONTEXT, (instance) => {\r\n\t\t\tthis.#documentPublishingWorkspaceContext = instance;\r\n\t\t\tthis.#observePendingChanges();\r\n\t\t});\r\n\r\n\t\tcreateExtensionApiByAlias(this, UMB_SECTION_USER_PERMISSION_CONDITION_ALIAS, [\r\n\t\t\t{\r\n\t\t\t\tconfig: {\r\n\t\t\t\t\tmatch: UMB_SETTINGS_SECTION_ALIAS,\r\n\t\t\t\t},\r\n\t\t\t\tonChange: (permitted: boolean) => {\r\n\t\t\t\t\tthis._hasSettingsAccess = permitted;\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t]);\r\n\t}\r\n\r\n\t#observeContent() {\r\n\t\tif (!this.#workspaceContext) return;\r\n\r\n\t\tthis.observe(\r\n\t\t\tthis.#workspaceContext.structure.ownerContentType,\r\n\t\t\t(documentType) => {\r\n\t\t\t\tthis._documentTypeName = documentType?.name;\r\n\t\t\t\tthis._documentTypeIcon = documentType?.icon;\r\n\t\t\t\tthis._allowedTemplates = documentType?.allowedTemplates;\r\n\t\t\t},\r\n\t\t\t'_documentType',\r\n\t\t);\r\n\r\n\t\tthis.observe(\r\n\t\t\tthis.#workspaceContext.unique,\r\n\t\t\t(unique) => {\r\n\t\t\t\tthis._documentUnique = unique!;\r\n\t\t\t},\r\n\t\t\t'_documentUnique',\r\n\t\t);\r\n\r\n\t\tthis.observe(\r\n\t\t\tthis.#workspaceContext.templateId,\r\n\t\t\tasync (templateUnique) => {\r\n\t\t\t\tthis._templateUnique = templateUnique!;\r\n\t\t\t\tif (!templateUnique) return;\r\n\r\n\t\t\t\tconst { data } = await this.#templateRepository.requestItems([templateUnique]);\r\n\t\t\t\tif (!data?.length) return;\r\n\t\t\t\tthis._templateName = data[0].name;\r\n\t\t\t},\r\n\t\t\t'_templateUnique',\r\n\t\t);\r\n\t}\r\n\r\n\t#observePendingChanges() {\r\n\t\tthis.observe(\r\n\t\t\tthis.#documentPublishingWorkspaceContext?.publishedPendingChanges.variantsWithChanges,\r\n\t\t\t(variants) => {\r\n\t\t\t\tthis._variantsWithPendingChanges = variants || [];\r\n\t\t\t},\r\n\t\t\t'_observePendingChanges',\r\n\t\t);\r\n\t}\r\n\r\n\t#hasPendingChanges(variant: UmbDocumentVariantModel) {\r\n\t\treturn this._variantsWithPendingChanges.some((x) => x.variantId.compare(variant));\r\n\t}\r\n\r\n\t#renderStateTag() {\r\n\t\tswitch (this._variant?.state) {\r\n\t\t\tcase DocumentVariantStateModel.DRAFT:\r\n\t\t\t\treturn html`\r\n\t\t\t\t\t<uui-tag look=\"secondary\" label=${this.localize.term('content_unpublished')}>\r\n\t\t\t\t\t\t${this.localize.term('content_unpublished')}\r\n\t\t\t\t\t</uui-tag>\r\n\t\t\t\t`;\r\n\t\t\t// TODO: The pending changes state can be removed once the management Api removes this state\r\n\t\t\t// We should also make our own state model for this\r\n\t\t\tcase DocumentVariantStateModel.PUBLISHED:\r\n\t\t\tcase DocumentVariantStateModel.PUBLISHED_PENDING_CHANGES: {\r\n\t\t\t\tconst term = this.#hasPendingChanges(this._variant) ? 'content_publishedPendingChanges' : 'content_published';\r\n\t\t\t\treturn html`\r\n\t\t\t\t\t<uui-tag color=\"positive\" look=\"primary\" label=${this.localize.term(term)}>\r\n\t\t\t\t\t\t${this.localize.term(term)}\r\n\t\t\t\t\t</uui-tag>\r\n\t\t\t\t`;\r\n\t\t\t}\r\n\t\t\tdefault:\r\n\t\t\t\treturn html`\r\n\t\t\t\t\t<uui-tag look=\"primary\" label=${this.localize.term('content_notCreated')}>\r\n\t\t\t\t\t\t${this.localize.term('content_notCreated')}\r\n\t\t\t\t\t</uui-tag>\r\n\t\t\t\t`;\r\n\t\t}\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<div class=\"container\">\r\n\t\t\t\t<umb-extension-slot id=\"workspace-info-apps\" type=\"workspaceInfoApp\"></umb-extension-slot>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"container\">\r\n\t\t\t\t<uui-box headline=${this.localize.term('general_general')} id=\"general-section\">\r\n\t\t\t\t\t${this.#renderGeneralSection()}\r\n\t\t\t\t</uui-box>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderGeneralSection() {\r\n\t\tconst editDocumentTypePath = this._routeBuilder?.({ entityType: 'document-type' }) ?? '';\r\n\r\n\t\treturn html`\r\n\t\t\t<div class=\"general-item\"><span>${this.#renderStateTag()}</span></div>\r\n\t\t\t${this.#renderCreateDate()} ${this.#renderUpdateDate()} ${this.#renderPublishDate()}\r\n\t\t\t${this.#renderScheduledPublishDate()} ${this.#renderScheduledUnpublishDate()}\r\n\r\n\t\t\t<div class=\"general-item\">\r\n\t\t\t\t<strong><umb-localize key=\"content_documentType\">Document Type</umb-localize></strong>\r\n\t\t\t\t<uui-ref-node-document-type\r\n\t\t\t\t\tstandalone\r\n\t\t\t\t\thref=${ifDefined(\r\n\t\t\t\t\t\tthis._hasSettingsAccess ? editDocumentTypePath + 'edit/' + this._documentTypeUnique : undefined,\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t?readonly=${!this._hasSettingsAccess}\r\n\t\t\t\t\tname=${ifDefined(this.localize.string(this._documentTypeName ?? ''))}>\r\n\t\t\t\t\t<umb-icon slot=\"icon\" name=${ifDefined(this._documentTypeIcon)}></umb-icon>\r\n\t\t\t\t</uui-ref-node-document-type>\r\n\t\t\t</div>\r\n\t\t\t${this.#renderTemplateInput()}\r\n\t\t\t<div class=\"general-item\">\r\n\t\t\t\t<strong><umb-localize key=\"template_id\">Id</umb-localize></strong>\r\n\t\t\t\t<span>${this._documentUnique}</span>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderTemplateInput() {\r\n\t\tif (this._allowedTemplates?.length === 0) return nothing;\r\n\r\n\t\tconst editTemplatePath = this._routeBuilder?.({ entityType: 'template' }) ?? '';\r\n\r\n\t\treturn html`\r\n\t\t\t<div class=\"general-item\">\r\n\t\t\t\t<strong><umb-localize key=\"template_template\">Template</umb-localize></strong>\r\n\t\t\t\t${this._templateUnique\r\n\t\t\t\t\t? html`\r\n\t\t\t\t\t\t\t<uui-ref-node\r\n\t\t\t\t\t\t\t\tstandalone\r\n\t\t\t\t\t\t\t\tname=${ifDefined(this._templateName)}\r\n\t\t\t\t\t\t\t\thref=${ifDefined(\r\n\t\t\t\t\t\t\t\t\tthis._hasSettingsAccess ? editTemplatePath + 'edit/' + this._templateUnique : undefined,\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t?readonly=${!this._hasSettingsAccess}>\r\n\t\t\t\t\t\t\t\t<uui-icon slot=\"icon\" name=\"icon-document-html\"></uui-icon>\r\n\t\t\t\t\t\t\t\t<uui-action-bar slot=\"actions\">\r\n\t\t\t\t\t\t\t\t\t<uui-button\r\n\t\t\t\t\t\t\t\t\t\tlabel=${this.localize.term('general_choose')}\r\n\t\t\t\t\t\t\t\t\t\t@click=${this.#openTemplatePicker}></uui-button>\r\n\t\t\t\t\t\t\t\t</uui-action-bar>\r\n\t\t\t\t\t\t\t</uui-ref-node>\r\n\t\t\t\t\t\t`\r\n\t\t\t\t\t: html`\r\n\t\t\t\t\t\t\t<uui-button\r\n\t\t\t\t\t\t\t\tlabel=${this.localize.term('general_choose')}\r\n\t\t\t\t\t\t\t\tlook=\"placeholder\"\r\n\t\t\t\t\t\t\t\t@click=${this.#openTemplatePicker}></uui-button>\r\n\t\t\t\t\t\t`}\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderCreateDate() {\r\n\t\tif (!this._variant?.createDate) return nothing;\r\n\t\treturn this.#renderDate(this._variant.createDate, 'content_createDate', 'Created');\r\n\t}\r\n\r\n\t#renderUpdateDate() {\r\n\t\tif (!this._variant?.updateDate) return nothing;\r\n\t\treturn this.#renderDate(this._variant.updateDate, 'content_updateDate', 'Last edited');\r\n\t}\r\n\r\n\t#renderPublishDate() {\r\n\t\tif (!this._variant?.publishDate) return nothing;\r\n\t\treturn this.#renderDate(this._variant.publishDate, 'content_lastPublished', 'Last published');\r\n\t}\r\n\r\n\t#renderScheduledPublishDate() {\r\n\t\tif (!this._variant?.scheduledPublishDate) return nothing;\r\n\t\treturn this.#renderDate(this._variant.scheduledPublishDate, 'content_releaseDate', 'Publish At');\r\n\t}\r\n\r\n\t#renderScheduledUnpublishDate() {\r\n\t\tif (!this._variant?.scheduledUnpublishDate) return nothing;\r\n\t\treturn this.#renderDate(this._variant.scheduledUnpublishDate, 'content_expireDate', 'Remove At');\r\n\t}\r\n\r\n\t#renderDate(date: string, labelKey: string, labelText: string) {\r\n\t\treturn html`\r\n\t\t\t<div class=\"general-item\">\r\n\t\t\t\t<strong><umb-localize .key=${labelKey}>${labelText}</umb-localize></strong>\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<umb-localize-date .date=${date} .options=${TimeOptions}></umb-localize-date>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\tasync #openTemplatePicker() {\r\n\t\tconst result = await umbOpenModal(this, UMB_TEMPLATE_PICKER_MODAL, {\r\n\t\t\tdata: {\r\n\t\t\t\tmultiple: false,\r\n\t\t\t\tpickableFilter: (template) =>\r\n\t\t\t\t\tthis._allowedTemplates?.find((allowed) => template.unique === allowed.id) ? true : false,\r\n\t\t\t},\r\n\t\t\tvalue: {\r\n\t\t\t\tselection: [this._templateUnique],\r\n\t\t\t},\r\n\t\t}).catch(() => undefined);\r\n\r\n\t\tif (!result?.selection.length) return;\r\n\r\n\t\tconst templateUnique = result.selection[0];\r\n\r\n\t\tif (!templateUnique) return;\r\n\r\n\t\tthis.#workspaceContext?.setTemplate(templateUnique);\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: grid;\r\n\t\t\t\tgap: var(--uui-size-layout-1);\r\n\t\t\t\tpadding: var(--uui-size-layout-1);\r\n\t\t\t\tgrid-template-columns: 1fr 350px;\r\n\t\t\t}\r\n\r\n\t\t\tdiv.container {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tgap: var(--uui-size-layout-1);\r\n\t\t\t}\r\n\r\n\t\t\t//General section\r\n\r\n\t\t\t#general-section {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t}\r\n\r\n\t\t\t.general-item {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tgap: var(--uui-size-space-1);\r\n\t\t\t}\r\n\r\n\t\t\t.general-item:not(:last-child) {\r\n\t\t\t\tmargin-bottom: var(--uui-size-space-6);\r\n\t\t\t}\r\n\r\n\t\t\t.variant-state {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tgap: var(--uui-size-space-4);\r\n\t\t\t}\r\n\r\n\t\t\t.variant-state > span {\r\n\t\t\t\tcolor: var(--uui-color-divider-emphasis);\r\n\t\t\t}\r\n\r\n\t\t\tuui-ref-node-document-type[readonly] {\r\n\t\t\t\tpadding-top: 7px;\r\n\t\t\t\tpadding-bottom: 7px;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbDocumentWorkspaceViewInfoElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-document-workspace-view-info': UmbDocumentWorkspaceViewInfoElement;\r\n\t}\r\n}\r\n"],"names":["_workspaceContext","_templateRepository","_documentPublishingWorkspaceContext","_UmbDocumentWorkspaceViewInfoElement_instances","observeContent_fn","observePendingChanges_fn","hasPendingChanges_fn","renderStateTag_fn","renderGeneralSection_fn","renderTemplateInput_fn","renderCreateDate_fn","renderUpdateDate_fn","renderPublishDate_fn","renderScheduledPublishDate_fn","renderScheduledUnpublishDate_fn","renderDate_fn","openTemplatePicker_fn","UmbDocumentWorkspaceViewInfoElement","UmbLitElement","__privateAdd","UmbTemplateItemRepository","UmbModalRouteRegistrationController","UMB_WORKSPACE_MODAL","params","routeBuilder","UMB_DOCUMENT_WORKSPACE_CONTEXT","context","__privateSet","__privateGet","__privateMethod","UMB_DOCUMENT_PROPERTY_DATASET_CONTEXT","currentVariant","UMB_DOCUMENT_PUBLISHING_WORKSPACE_CONTEXT","instance","createExtensionApiByAlias","UMB_SECTION_USER_PERMISSION_CONDITION_ALIAS","UMB_SETTINGS_SECTION_ALIAS","permitted","html","documentType","unique","templateUnique","data","variants","variant","x","DocumentVariantStateModel","term","editDocumentTypePath","ifDefined","nothing","editTemplatePath","date","labelKey","labelText","TimeOptions","result","umbOpenModal","UMB_TEMPLATE_PICKER_MODAL","template","allowed","css","__decorateClass","state","customElement","UmbDocumentWorkspaceViewInfoElement$1"],"mappings":"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"}