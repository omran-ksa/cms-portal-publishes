{"version":3,"file":"document-move.repository-Co8XfLpx.js","sources":["../../../src/packages/documents/documents/entity-actions/move-to/repository/document-move.repository.ts"],"sourcesContent":["import { UmbMoveDocumentServerDataSource } from './document-move.server.data-source.js';\r\nimport { UMB_NOTIFICATION_CONTEXT } from '@umbraco-cms/backoffice/notification';\r\nimport type { UmbMoveRepository, UmbMoveToRequestArgs } from '@umbraco-cms/backoffice/tree';\r\nimport { UmbRepositoryBase } from '@umbraco-cms/backoffice/repository';\r\n\r\nexport class UmbMoveDocumentRepository extends UmbRepositoryBase implements UmbMoveRepository {\r\n\t#moveSource = new UmbMoveDocumentServerDataSource(this);\r\n\r\n\tasync requestMoveTo(args: UmbMoveToRequestArgs) {\r\n\t\tconst { error } = await this.#moveSource.moveTo(args);\r\n\r\n\t\tif (!error) {\r\n\t\t\tconst notificationContext = await this.getContext(UMB_NOTIFICATION_CONTEXT);\r\n\t\t\tif (!notificationContext) {\r\n\t\t\t\tthrow new Error('Notification context not found');\r\n\t\t\t}\r\n\t\t\tconst notification = { data: { message: `Moved` } };\r\n\t\t\tnotificationContext.peek('positive', notification);\r\n\t\t}\r\n\r\n\t\treturn { error };\r\n\t}\r\n}\r\n\r\nexport { UmbMoveDocumentRepository as api };\r\n"],"names":["UmbMoveDocumentRepository","UmbRepositoryBase","#moveSource","UmbMoveDocumentServerDataSource","args","error","notificationContext","UMB_NOTIFICATION_CONTEXT","notification"],"mappings":";;;AAKO,MAAMA,UAAkCC,EAA+C;AAAA,EAC7FC,KAAc,IAAIC,EAAgC,IAAI;AAAA,EAEtD,MAAM,cAAcC,GAA4B;AAC/C,UAAM,EAAE,OAAAC,EAAM,IAAI,MAAM,KAAKH,GAAY,OAAOE,CAAI;AAEpD,QAAI,CAACC,GAAO;AACX,YAAMC,IAAsB,MAAM,KAAK,WAAWC,CAAwB;AAC1E,UAAI,CAACD;AACE,cAAA,IAAI,MAAM,gCAAgC;AAEjD,YAAME,IAAe,EAAE,MAAM,EAAE,SAAS,UAAU;AAC9B,MAAAF,EAAA,KAAK,YAAYE,CAAY;AAAA,IAAA;AAGlD,WAAO,EAAE,OAAAH,EAAM;AAAA,EAAA;AAEjB;"}