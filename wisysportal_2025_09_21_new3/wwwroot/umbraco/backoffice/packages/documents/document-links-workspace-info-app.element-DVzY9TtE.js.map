{"version":3,"file":"document-links-workspace-info-app.element-DVzY9TtE.js","sources":["../../../src/packages/documents/documents/url/info-app/document-links-workspace-info-app.element.ts"],"sourcesContent":["import { UmbDocumentUrlRepository } from '../repository/index.js';\r\nimport type { UmbDocumentVariantOptionModel } from '../../types.js';\r\nimport { UMB_DOCUMENT_WORKSPACE_CONTEXT } from '../../workspace/constants.js';\r\nimport type { UmbDocumentUrlModel } from '../repository/types.js';\r\nimport { UmbDocumentUrlsDataResolver } from '../document-urls-data-resolver.js';\r\nimport {\r\n\tcss,\r\n\tcustomElement,\r\n\thtml,\r\n\tifDefined,\r\n\tnothing,\r\n\trepeat,\r\n\tstate,\r\n\twhen,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport type { UmbEntityActionEvent } from '@umbraco-cms/backoffice/entity-action';\r\nimport { UmbRequestReloadStructureForEntityEvent } from '@umbraco-cms/backoffice/entity-action';\r\nimport { UMB_ACTION_EVENT_CONTEXT } from '@umbraco-cms/backoffice/action';\r\nimport { observeMultiple } from '@umbraco-cms/backoffice/observable-api';\r\nimport { DocumentVariantStateModel } from '@umbraco-cms/backoffice/external/backend-api';\r\nimport { debounce } from '@umbraco-cms/backoffice/utils';\r\nimport { UMB_PROPERTY_DATASET_CONTEXT } from '@umbraco-cms/backoffice/property';\r\nimport type { UmbVariantId } from '@umbraco-cms/backoffice/variant';\r\n\r\ninterface UmbDocumentInfoViewLink {\r\n\tculture: string | null;\r\n\turl: string | null | undefined;\r\n\tstate: DocumentVariantStateModel | null | undefined;\r\n}\r\n\r\n@customElement('umb-document-links-workspace-info-app')\r\nexport class UmbDocumentLinksWorkspaceInfoAppElement extends UmbLitElement {\r\n\t#documentUrlRepository = new UmbDocumentUrlRepository(this);\r\n\r\n\t@state()\r\n\tprivate _isNew = false;\r\n\r\n\t@state()\r\n\tprivate _unique?: string;\r\n\r\n\t@state()\r\n\tprivate _variantOptions?: Array<UmbDocumentVariantOptionModel>;\r\n\r\n\t@state()\r\n\tprivate _loading = false;\r\n\r\n\t@state()\r\n\tprivate _links: Array<UmbDocumentInfoViewLink> = [];\r\n\r\n\t#urls: Array<UmbDocumentUrlModel> = [];\r\n\r\n\t#documentWorkspaceContext?: typeof UMB_DOCUMENT_WORKSPACE_CONTEXT.TYPE;\r\n\t#eventContext?: typeof UMB_ACTION_EVENT_CONTEXT.TYPE;\r\n\t#propertyDataSetVariantId?: UmbVariantId;\r\n\r\n\t#documentUrlsDataResolver? = new UmbDocumentUrlsDataResolver(this);\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_ACTION_EVENT_CONTEXT, (context) => {\r\n\t\t\tthis.#eventContext = context;\r\n\r\n\t\t\tthis.#eventContext?.removeEventListener(\r\n\t\t\t\tUmbRequestReloadStructureForEntityEvent.TYPE,\r\n\t\t\t\tthis.#onReloadRequest as unknown as EventListener,\r\n\t\t\t);\r\n\r\n\t\t\tthis.#eventContext?.addEventListener(\r\n\t\t\t\tUmbRequestReloadStructureForEntityEvent.TYPE,\r\n\t\t\t\tthis.#onReloadRequest as unknown as EventListener,\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tthis.consumeContext(UMB_DOCUMENT_WORKSPACE_CONTEXT, (context) => {\r\n\t\t\tthis.#documentWorkspaceContext = context;\r\n\t\t\tif (context) {\r\n\t\t\t\tthis.observe(\r\n\t\t\t\t\tobserveMultiple([context.isNew, context.unique]),\r\n\t\t\t\t\t([isNew, unique]) => {\r\n\t\t\t\t\t\tif (!unique) return;\r\n\t\t\t\t\t\tthis._isNew = isNew === true;\r\n\r\n\t\t\t\t\t\tif (unique !== this._unique) {\r\n\t\t\t\t\t\t\tthis._unique = unique;\r\n\t\t\t\t\t\t\tthis.#requestUrls();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'observeWorkspaceState',\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tthis.removeUmbControllerByAlias('observeWorkspaceState');\r\n\t\t\t}\r\n\r\n\t\t\tthis.observe(context?.variantOptions, (variantOptions) => {\r\n\t\t\t\tthis._variantOptions = variantOptions;\r\n\t\t\t\tthis.#setLinks();\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis.consumeContext(UMB_PROPERTY_DATASET_CONTEXT, (context) => {\r\n\t\t\tthis.#propertyDataSetVariantId = context?.getVariantId();\r\n\t\t\tthis.#setLinks();\r\n\t\t});\r\n\r\n\t\tthis.observe(this.#documentUrlsDataResolver?.urls, (urls) => {\r\n\t\t\tthis.#urls = urls ?? [];\r\n\t\t\tthis.#setLinks();\r\n\t\t});\r\n\t}\r\n\r\n\t#setLinks() {\r\n\t\tconst links: Array<UmbDocumentInfoViewLink> = this.#urls.map((url) => {\r\n\t\t\tconst culture = url.culture;\r\n\t\t\tconst state = this._variantOptions?.find((variantOption) => variantOption.culture === culture)?.variant?.state;\r\n\t\t\treturn {\r\n\t\t\t\tculture,\r\n\t\t\t\turl: url.url,\r\n\t\t\t\tstate,\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\tthis._links = links;\r\n\t}\r\n\r\n\t#getTargetUrl(url: string | undefined) {\r\n\t\tif (!url || url.length === 0) {\r\n\t\t\treturn url;\r\n\t\t}\r\n\r\n\t\tif (url.includes('.') && !url.includes('//')) {\r\n\t\t\treturn '//' + url;\r\n\t\t}\r\n\r\n\t\treturn url;\r\n\t}\r\n\r\n\tasync #requestUrls() {\r\n\t\tif (this._isNew) return;\r\n\t\tif (!this._unique) return;\r\n\r\n\t\tthis._loading = true;\r\n\t\tthis.#documentUrlsDataResolver?.setData([]);\r\n\r\n\t\tconst { data } = await this.#documentUrlRepository.requestItems([this._unique]);\r\n\r\n\t\tif (data?.length) {\r\n\t\t\tthis.#documentUrlsDataResolver?.setData(data[0].urls);\r\n\t\t}\r\n\r\n\t\tthis._loading = false;\r\n\t}\r\n\r\n\t#getStateLocalizationKey(state: DocumentVariantStateModel | null | undefined): string {\r\n\t\tswitch (state) {\r\n\t\t\tcase null:\r\n\t\t\tcase undefined:\r\n\t\t\tcase DocumentVariantStateModel.NOT_CREATED:\r\n\t\t\t\treturn 'content_notCreated';\r\n\t\t\tcase DocumentVariantStateModel.DRAFT:\r\n\t\t\t\treturn 'content_itemNotPublished';\r\n\t\t\tcase DocumentVariantStateModel.PUBLISHED:\r\n\t\t\t\treturn 'content_routeErrorCannotRoute';\r\n\t\t\tdefault:\r\n\t\t\t\treturn 'content_parentNotPublishedAnomaly';\r\n\t\t}\r\n\t}\r\n\r\n\t#debounceRequestUrls = debounce(() => this.#requestUrls(), 50);\r\n\r\n\t#onReloadRequest = (event: UmbEntityActionEvent) => {\r\n\t\t// TODO: Introduce \"Published Event\". We only need to update the url when the document is published.\r\n\t\tif (event.getUnique() !== this.#documentWorkspaceContext?.getUnique()) return;\r\n\t\tif (event.getEntityType() !== this.#documentWorkspaceContext.getEntityType()) return;\r\n\t\tthis.#debounceRequestUrls();\r\n\t};\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-workspace-info-app-layout headline=\"#general_links\">\r\n\t\t\t\t${when(\r\n\t\t\t\t\tthis._loading,\r\n\t\t\t\t\t() => this.#renderLoading(),\r\n\t\t\t\t\t() => this.#renderContent(),\r\n\t\t\t\t)}\r\n\t\t\t</umb-workspace-info-app-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderLoading() {\r\n\t\treturn html`<div id=\"loader-container\"><uui-loader></uui-loader></div>`;\r\n\t}\r\n\r\n\t#renderContent() {\r\n\t\treturn html`\r\n\t\t\t${when(\r\n\t\t\t\tthis._isNew,\r\n\t\t\t\t() => this.#renderNotCreated(),\r\n\t\t\t\t() => (this._links.length === 0 ? this.#renderNoLinks() : this.#renderLinks()),\r\n\t\t\t)}\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderNotCreated() {\r\n\t\treturn html`${this.#renderEmptyLink(null, null)}`;\r\n\t}\r\n\r\n\t#renderLinks() {\r\n\t\treturn html`\r\n\t\t\t${repeat(\r\n\t\t\t\tthis._links,\r\n\t\t\t\t(link) => link.url,\r\n\t\t\t\t(link) => this.#renderLink(link),\r\n\t\t\t)}\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderLink(link: UmbDocumentInfoViewLink) {\r\n\t\tif (!link.url) {\r\n\t\t\treturn this.#renderEmptyLink(link.culture, link.state);\r\n\t\t}\r\n\r\n\t\treturn html`\r\n\t\t\t<a class=\"link-item\" href=${ifDefined(this.#getTargetUrl(link.url))} target=\"_blank\">\r\n\t\t\t\t<span>\r\n\t\t\t\t\t${this.#renderLinkCulture(link.culture)}\r\n\t\t\t\t\t<span>${link.url}</span>\r\n\t\t\t\t</span>\r\n\t\t\t\t<uui-icon name=\"icon-out\"></uui-icon>\r\n\t\t\t</a>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderNoLinks() {\r\n\t\treturn html` ${this._variantOptions\r\n\t\t\t?.filter((variantOption) => variantOption.culture === this.#propertyDataSetVariantId?.culture)\r\n\t\t\t.map((variantOption) => this.#renderEmptyLink(variantOption.culture, variantOption.variant?.state))}`;\r\n\t}\r\n\r\n\t#renderEmptyLink(culture: string | null, state: DocumentVariantStateModel | null | undefined) {\r\n\t\treturn html`<div class=\"link-item\">\r\n\t\t\t<span>\r\n\t\t\t\t${this.#renderLinkCulture(culture)}\r\n\t\t\t\t<em><umb-localize key=${this.#getStateLocalizationKey(state)}></umb-localize></em>\r\n\t\t\t</span>\r\n\t\t</div>`;\r\n\t}\r\n\r\n\t#renderLinkCulture(culture: string | null) {\r\n\t\tif (!culture) return nothing;\r\n\t\tif (this._links.length === 1) return nothing;\r\n\t\tconst allLinksHaveSameCulture = this._links?.every((link) => link.culture === culture);\r\n\t\tif (allLinksHaveSameCulture) return nothing;\r\n\t\treturn html`<span class=\"culture\">${culture}</span>`;\r\n\t}\r\n\r\n\toverride disconnectedCallback(): void {\r\n\t\tsuper.disconnectedCallback();\r\n\r\n\t\tthis.#eventContext?.removeEventListener(\r\n\t\t\tUmbRequestReloadStructureForEntityEvent.TYPE,\r\n\t\t\tthis.#onReloadRequest as unknown as EventListener,\r\n\t\t);\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\t#loader-container {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tpadding: var(--uui-size-space-2);\r\n\t\t\t}\r\n\r\n\t\t\t.link-item {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: var(--uui-size-6);\r\n\t\t\t\tpadding: var(--uui-size-space-4) var(--uui-size-space-5);\r\n\r\n\t\t\t\t&:is(a) {\r\n\t\t\t\t\tcursor: pointer;\r\n\t\t\t\t\tcolor: inherit;\r\n\t\t\t\t\ttext-decoration: none;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&:is(a):hover {\r\n\t\t\t\t\tbackground: var(--uui-color-divider);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t& > span {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tgap: var(--uui-size-6);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.culture {\r\n\t\t\t\t\tcolor: var(--uui-color-divider-emphasis);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbDocumentLinksWorkspaceInfoAppElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-document-links-workspace-info-app': UmbDocumentLinksWorkspaceInfoAppElement;\r\n\t}\r\n}\r\n"],"names":["_documentUrlRepository","_urls","_documentWorkspaceContext","_eventContext","_propertyDataSetVariantId","_documentUrlsDataResolver","_UmbDocumentLinksWorkspaceInfoAppElement_instances","setLinks_fn","getTargetUrl_fn","requestUrls_fn","getStateLocalizationKey_fn","_debounceRequestUrls","_onReloadRequest","renderLoading_fn","renderContent_fn","renderNotCreated_fn","renderLinks_fn","renderLink_fn","renderNoLinks_fn","renderEmptyLink_fn","renderLinkCulture_fn","UmbDocumentLinksWorkspaceInfoAppElement","UmbLitElement","__privateAdd","UmbDocumentUrlRepository","UmbDocumentUrlsDataResolver","debounce","__privateMethod","event","__privateGet","UMB_ACTION_EVENT_CONTEXT","context","__privateSet","UmbRequestReloadStructureForEntityEvent","UMB_DOCUMENT_WORKSPACE_CONTEXT","observeMultiple","isNew","unique","variantOptions","UMB_PROPERTY_DATASET_CONTEXT","urls","html","when","links","url","culture","state","variantOption","data","DocumentVariantStateModel","repeat","link","ifDefined","nothing","css","__decorateClass","customElement","UmbDocumentLinksWorkspaceInfoAppElement$1"],"mappings":"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"}