{"version":3,"file":"duplicate-document-modal.element-CwIw2Xyu.js","sources":["../../../src/packages/documents/documents/entity-actions/duplicate/modal/duplicate-document-modal.element.ts"],"sourcesContent":["import { UMB_DOCUMENT_TREE_ALIAS } from '../../../tree/manifests.js';\r\nimport type {\r\n\tUmbDuplicateDocumentModalData,\r\n\tUmbDuplicateDocumentModalValue,\r\n} from './duplicate-document-modal.token.js';\r\nimport { html, customElement, nothing, css, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { UmbModalBaseElement } from '@umbraco-cms/backoffice/modal';\r\n\r\nimport type { UUIBooleanInputEvent } from '@umbraco-cms/backoffice/external/uui';\r\nimport type { UmbSelectionChangeEvent } from '@umbraco-cms/backoffice/event';\r\nimport type { UmbTreeElement } from '@umbraco-cms/backoffice/tree';\r\n\r\nconst elementName = 'umb-document-duplicate-to-modal';\r\n@customElement(elementName)\r\nexport class UmbDocumentDuplicateToModalElement extends UmbModalBaseElement<\r\n\tUmbDuplicateDocumentModalData,\r\n\tUmbDuplicateDocumentModalValue\r\n> {\r\n\t@state()\r\n\t_destinationUnique?: string | null;\r\n\r\n\t#onTreeSelectionChange(event: UmbSelectionChangeEvent) {\r\n\t\tconst target = event.target as UmbTreeElement;\r\n\t\tconst selection = target.getSelection();\r\n\t\tthis._destinationUnique = selection[0];\r\n\r\n\t\tif (this._destinationUnique || this._destinationUnique === null) {\r\n\t\t\tthis.updateValue({ destination: { unique: this._destinationUnique } });\r\n\t\t}\r\n\t}\r\n\r\n\t#onRelateToOriginalChange(event: UUIBooleanInputEvent) {\r\n\t\tconst target = event.target;\r\n\t\tthis.updateValue({ relateToOriginal: target.checked });\r\n\t}\r\n\r\n\t#onIncludeDescendantsChange(event: UUIBooleanInputEvent) {\r\n\t\tconst target = event.target;\r\n\t\tthis.updateValue({ includeDescendants: target.checked });\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tif (!this.data) return nothing;\r\n\r\n\t\treturn html`\r\n\t\t\t<umb-body-layout headline=\"Duplicate\">\r\n\t\t\t\t<uui-box id=\"tree-box\" headline=\"Duplicate to\">\r\n\t\t\t\t\t<umb-tree\r\n\t\t\t\t\t\talias=${UMB_DOCUMENT_TREE_ALIAS}\r\n\t\t\t\t\t\t.props=${{\r\n\t\t\t\t\t\t\texpandTreeRoot: true,\r\n\t\t\t\t\t\t\thideTreeItemActions: true,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t@selection-change=${this.#onTreeSelectionChange}></umb-tree>\r\n\t\t\t\t</uui-box>\r\n\t\t\t\t<uui-box headline=\"Options\">\r\n\t\t\t\t\t<umb-property-layout label=\"Relate to original\" orientation=\"vertical\"\r\n\t\t\t\t\t\t><div slot=\"editor\">\r\n\t\t\t\t\t\t\t<uui-toggle\r\n\t\t\t\t\t\t\t\t@change=${this.#onRelateToOriginalChange}\r\n\t\t\t\t\t\t\t\t.checked=${this.value?.relateToOriginal}></uui-toggle>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</umb-property-layout>\r\n\r\n\t\t\t\t\t<umb-property-layout label=\"Include descendants\" orientation=\"vertical\"\r\n\t\t\t\t\t\t><div slot=\"editor\">\r\n\t\t\t\t\t\t\t<uui-toggle\r\n\t\t\t\t\t\t\t\t@change=${this.#onIncludeDescendantsChange}\r\n\t\t\t\t\t\t\t\t.checked=${this.value?.includeDescendants}></uui-toggle>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</umb-property-layout>\r\n\t\t\t\t</uui-box>\r\n\t\t\t\t${this.#renderActions()}\r\n\t\t\t</umb-body-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderActions() {\r\n\t\treturn html`\r\n\t\t\t<uui-button slot=\"actions\" label=\"Cancel\" @click=\"${this._rejectModal}\"></uui-button>\r\n\t\t\t<uui-button\r\n\t\t\t\tslot=\"actions\"\r\n\t\t\t\tcolor=\"positive\"\r\n\t\t\t\tlook=\"primary\"\r\n\t\t\t\tlabel=\"Duplicate\"\r\n\t\t\t\t@click=${this._submitModal}\r\n\t\t\t\t?disabled=${this._destinationUnique === undefined}></uui-button>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t#tree-box {\r\n\t\t\t\tmargin-bottom: var(--uui-size-layout-1);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport { UmbDocumentDuplicateToModalElement as element };\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t[elementName]: UmbDocumentDuplicateToModalElement;\r\n\t}\r\n}\r\n"],"names":["_UmbDocumentDuplicateToModalElement_instances","onTreeSelectionChange_fn","onRelateToOriginalChange_fn","onIncludeDescendantsChange_fn","renderActions_fn","elementName","UmbDocumentDuplicateToModalElement","UmbModalBaseElement","__privateAdd","html","UMB_DOCUMENT_TREE_ALIAS","__privateMethod","nothing","event","selection","target","UmbTextStyles","css","__decorateClass","state","customElement"],"mappings":";;;;;;;;;;8OAAAA,GAAAC,GAAAC,GAAAC,GAAAC;AAaA,MAAMC,IAAc;AAEP,IAAAC,IAAN,cAAiDC,EAGtD;AAAA,EAHK,cAAA;AAAA,UAAA,GAAA,SAAA,GAAAC,EAAA,MAAAR,CAAA;AAAA,EAAA;AAAA,EA2BG,SAAS;AACb,WAAC,KAAK,OAEHS;AAAA;AAAA;AAAA;AAAA,cAIKC,CAAuB;AAAA,eACtB;AAAA,MACR,gBAAgB;AAAA,MAChB,qBAAqB;AAAA,IACrB,CAAA;AAAA,0BACmBC,QAAKX,GAAsBC,CAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAMnCU,QAAKX,GAAyBE,CAAA,CAAA;AAAA,mBAC7B,KAAK,OAAO,gBAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAO7BS,QAAKX,GAA2BG,CAAA,CAAA;AAAA,mBAC/B,KAAK,OAAO,kBAAkB;AAAA;AAAA;AAAA;AAAA,MAI3CQ,EAAA,MAAKX,MAAL,KAAqB,IAAA,CAAA;AAAA;AAAA,MA9BFY;AAAA,EA8BE;AA0B3B;AApFOZ,IAAA,oBAAA,QAAA;AAONC,IAAsB,SAACY,GAAgC;AAEhD,QAAAC,IADSD,EAAM,OACI,aAAa;AACjC,OAAA,qBAAqBC,EAAU,CAAC,IAEjC,KAAK,sBAAsB,KAAK,uBAAuB,SACrD,KAAA,YAAY,EAAE,aAAa,EAAE,QAAQ,KAAK,mBAAA,GAAsB;AAEvE;AAEAZ,IAAyB,SAACW,GAA6B;AACtD,QAAME,IAASF,EAAM;AACrB,OAAK,YAAY,EAAE,kBAAkBE,EAAO,SAAS;AACtD;AAEAZ,IAA2B,SAACU,GAA6B;AACxD,QAAME,IAASF,EAAM;AACrB,OAAK,YAAY,EAAE,oBAAoBE,EAAO,SAAS;AACxD;AAsCAX,IAAc,WAAG;AACT,SAAAK;AAAA,uDAC8C,KAAK,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAM3D,KAAK,YAAY;AAAA,gBACd,KAAK,uBAAuB,MAAS;AAAA;AAEpD;AA1EYH,EA4EI,SAAS;AAAA,EACxBU;AAAA,EACAC;AAAA;AAAA;AAAA;AAAA;AAKD;AA9EAC,EAAA;AAAA,EADCC,EAAM;AAAA,GAJKb,EAKZ,WAAA,sBAAA,CAAA;AALYA,IAANY,EAAA;AAAA,EADNE,EAAcf,CAAW;AAAA,GACbC,CAAA;"}