{"version":3,"file":"created-packages-section-view.element-nM75M2_V.js","sources":["../../../src/packages/packages/package-section/views/created/created-packages-section-view.element.ts"],"sourcesContent":["import { html, customElement, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { createExtensionElement } from '@umbraco-cms/backoffice/extension-api';\r\nimport { umbExtensionsRegistry } from '@umbraco-cms/backoffice/extension-registry';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport type { UmbSectionViewElement } from '@umbraco-cms/backoffice/section';\r\nimport type { ManifestWorkspace } from '@umbraco-cms/backoffice/workspace';\r\nimport type { UmbRoute } from '@umbraco-cms/backoffice/router';\r\n\r\n@customElement('umb-created-packages-section-view')\r\nexport class UmbCreatedPackagesSectionViewElement extends UmbLitElement implements UmbSectionViewElement {\r\n\t@state()\r\n\tprivate _routes: UmbRoute[] = [];\r\n\r\n\t#workspaces: Array<ManifestWorkspace> = [];\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.observe(\r\n\t\t\tumbExtensionsRegistry.byTypeAndFilter(\r\n\t\t\t\t'workspace',\r\n\t\t\t\t(workspace) => workspace.meta.entityType === 'package-builder',\r\n\t\t\t),\r\n\t\t\t(workspaceExtensions) => {\r\n\t\t\t\tthis.#workspaces = workspaceExtensions;\r\n\t\t\t\tthis._createRoutes();\r\n\t\t\t},\r\n\t\t);\r\n\t}\r\n\r\n\tprivate _createRoutes() {\r\n\t\tconst routes: UmbRoute[] = [\r\n\t\t\t{\r\n\t\t\t\tpath: 'overview',\r\n\t\t\t\tcomponent: () => import('./packages-created-overview.element.js'),\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\t// TODO: find a way to make this reuseable across:\r\n\t\tthis.#workspaces?.map((workspace: ManifestWorkspace) => {\r\n\t\t\troutes.push({\r\n\t\t\t\tpath: `${workspace.meta.entityType}/:unique`,\r\n\t\t\t\tcomponent: () => createExtensionElement(workspace),\r\n\t\t\t\tsetup: (component, info) => {\r\n\t\t\t\t\tif (component) {\r\n\t\t\t\t\t\t(component as any).entityUnique = info.match.params.unique;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\troutes.push({\r\n\t\t\t\tpath: workspace.meta.entityType,\r\n\t\t\t\tcomponent: () => createExtensionElement(workspace),\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\troutes.push({\r\n\t\t\tpath: '',\r\n\t\t\tpathMatch: 'full',\r\n\t\t\tredirectTo: 'overview',\r\n\t\t});\r\n\t\troutes.push({\r\n\t\t\tpath: `**`,\r\n\t\t\tcomponent: async () => (await import('@umbraco-cms/backoffice/router')).UmbRouteNotFoundElement,\r\n\t\t});\r\n\t\tthis._routes = routes;\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`<umb-router-slot .routes=${this._routes}></umb-router-slot>`;\r\n\t}\r\n}\r\n\r\nexport default UmbCreatedPackagesSectionViewElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-created-packages-section-view': UmbCreatedPackagesSectionViewElement;\r\n\t}\r\n}\r\n"],"names":["_workspaces","UmbCreatedPackagesSectionViewElement","UmbLitElement","__privateAdd","umbExtensionsRegistry","workspace","workspaceExtensions","__privateSet","routes","__privateGet","createExtensionElement","component","info","html","__decorateClass","state","customElement","UmbCreatedPackagesSectionViewElement$1"],"mappings":";;;;;;;;;;gUAAAA;AASa,IAAAC,IAAN,cAAmDC,EAA+C;AAAA,EAMxG,cAAc;AACP,UAAA,GALP,KAAQ,UAAsB,CAAC,GAE/BC,EAAA,MAAAH,GAAwC,EAAC,GAInC,KAAA;AAAA,MACJI,EAAsB;AAAA,QACrB;AAAA,QACA,CAACC,MAAcA,EAAU,KAAK,eAAe;AAAA,MAC9C;AAAA,MACA,CAACC,MAAwB;AACxB,QAAAC,EAAA,MAAKP,GAAcM,CAAA,GACnB,KAAK,cAAc;AAAA,MAAA;AAAA,IAErB;AAAA,EAAA;AAAA,EAGO,gBAAgB;AACvB,UAAME,IAAqB;AAAA,MAC1B;AAAA,QACC,MAAM;AAAA,QACN,WAAW,MAAM,OAAO,iDAAwC;AAAA,MAAA;AAAA,IAElE;AAGK,IAAAC,EAAA,MAAAT,CAAA,GAAa,IAAI,CAACK,MAAiC;AACvD,MAAAG,EAAO,KAAK;AAAA,QACX,MAAM,GAAGH,EAAU,KAAK,UAAU;AAAA,QAClC,WAAW,MAAMK,EAAuBL,CAAS;AAAA,QACjD,OAAO,CAACM,GAAWC,MAAS;AAC3B,UAAID,MACFA,EAAkB,eAAeC,EAAK,MAAM,OAAO;AAAA,QACrD;AAAA,MACD,CACA,GACDJ,EAAO,KAAK;AAAA,QACX,MAAMH,EAAU,KAAK;AAAA,QACrB,WAAW,MAAMK,EAAuBL,CAAS;AAAA,MAAA,CACjD;AAAA,IAAA,CACD,GAEDG,EAAO,KAAK;AAAA,MACX,MAAM;AAAA,MACN,WAAW;AAAA,MACX,YAAY;AAAA,IAAA,CACZ,GACDA,EAAO,KAAK;AAAA,MACX,MAAM;AAAA,MACN,WAAW,aAAa,MAAM,OAAO,gCAAgC,GAAG;AAAA,IAAA,CACxE,GACD,KAAK,UAAUA;AAAA,EAAA;AAAA,EAGP,SAAS;AACV,WAAAK,6BAAgC,KAAK,OAAO;AAAA,EAAA;AAErD;AAxDCb,IAAA,oBAAA,QAAA;AAFQc,EAAA;AAAA,EADPC,EAAM;AAAA,GADKd,EAEJ,WAAA,WAAA,CAAA;AAFIA,IAANa,EAAA;AAAA,EADNE,EAAc,mCAAmC;AAAA,GACrCf,CAAA;AA8Db,MAAAgB,IAAehB;"}