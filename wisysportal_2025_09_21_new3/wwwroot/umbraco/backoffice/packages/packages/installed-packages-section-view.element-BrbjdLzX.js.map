{"version":3,"file":"installed-packages-section-view.element-BrbjdLzX.js","sources":["../../../src/packages/packages/package-section/views/installed/installed-packages-section-view-item.element.ts","../../../src/packages/packages/package-section/views/installed/installed-packages-section-view.element.ts"],"sourcesContent":["import { html, css, nothing, ifDefined, customElement, property, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { createExtensionElement } from '@umbraco-cms/backoffice/extension-api';\r\nimport { PackageService } from '@umbraco-cms/backoffice/external/backend-api';\r\nimport { tryExecute } from '@umbraco-cms/backoffice/resources';\r\nimport { umbConfirmModal } from '@umbraco-cms/backoffice/modal';\r\nimport { umbExtensionsRegistry } from '@umbraco-cms/backoffice/extension-registry';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UMB_NOTIFICATION_CONTEXT } from '@umbraco-cms/backoffice/notification';\r\nimport type { UmbNotificationContext } from '@umbraco-cms/backoffice/notification';\r\nimport type { UUIButtonState } from '@umbraco-cms/backoffice/external/uui';\r\nimport type { ManifestPackageView } from '@umbraco-cms/backoffice/package';\r\n\r\n@customElement('umb-installed-packages-section-view-item')\r\nexport class UmbInstalledPackagesSectionViewItemElement extends UmbLitElement {\r\n\t@property()\r\n\tpublic set name(value: string | undefined) {\r\n\t\tconst oldValue = this.#name;\r\n\t\tif (oldValue === value) return;\r\n\t\tthis.#name = value;\r\n\t\tthis.#observePackageView();\r\n\t\tthis.requestUpdate('name', oldValue);\r\n\t}\r\n\tpublic get name(): string | undefined {\r\n\t\treturn this.#name;\r\n\t}\r\n\t#name?: string | undefined;\r\n\r\n\t@property()\r\n\tversion?: string | null;\r\n\r\n\t@property({ type: Boolean, attribute: false })\r\n\thasPendingMigrations = false;\r\n\r\n\t@property({ attribute: 'custom-icon' })\r\n\tcustomIcon?: string;\r\n\r\n\t@state()\r\n\tprivate _migrationButtonState?: UUIButtonState;\r\n\r\n\t@state()\r\n\tprivate _packageView?: ManifestPackageView;\r\n\r\n\t#notificationContext?: UmbNotificationContext;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_NOTIFICATION_CONTEXT, (instance) => {\r\n\t\t\tthis.#notificationContext = instance;\r\n\t\t});\r\n\t}\r\n\r\n\t#observePackageView() {\r\n\t\tthis.observe(\r\n\t\t\tumbExtensionsRegistry.byTypeAndFilter('packageView', (manifest) => manifest.meta.packageName === this.#name),\r\n\t\t\t(manifests) => {\r\n\t\t\t\tif (manifests.length === 0) {\r\n\t\t\t\t\tthis._packageView = undefined;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis._packageView = manifests[0];\r\n\t\t\t},\r\n\t\t\t'_observePackageViewExtension',\r\n\t\t);\r\n\t}\r\n\r\n\tasync #onConfigure() {\r\n\t\tif (!this._packageView) {\r\n\t\t\tconsole.warn('Tried to configure package without view');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst element = await createExtensionElement(this._packageView);\r\n\r\n\t\tif (!element) {\r\n\t\t\tconsole.warn('Failed to create package view element');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// TODO: add dedicated modal for package views, and register it in a manifest.\r\n\t\tthrow new Error('package view modal temporarily disabled.');\r\n\t\t/*\r\n\t\tthis._modalContext?.open(this, element, {\r\n\t\t\tdata: { name: this.name, version: this.version },\r\n\t\t\tsize: 'full',\r\n\t\t\ttype: 'sidebar',\r\n\t\t});\r\n\t\t*/\r\n\t}\r\n\r\n\tasync #onMigration() {\r\n\t\tif (!this.name) return;\r\n\r\n\t\tawait umbConfirmModal(this, {\r\n\t\t\tcolor: 'positive',\r\n\t\t\theadline: this.name,\r\n\t\t\tcontent: this.localize.term('packager_packageMigrationsConfirmText'),\r\n\t\t});\r\n\r\n\t\tthis._migrationButtonState = 'waiting';\r\n\t\tconst { error } = await tryExecute(\r\n\t\t\tthis,\r\n\t\t\tPackageService.postPackageByNameRunMigration({ path: { name: this.name } }),\r\n\t\t);\r\n\r\n\t\tif (error) return;\r\n\r\n\t\tthis.#notificationContext?.peek('positive', {\r\n\t\t\tdata: {\r\n\t\t\t\tmessage: this.localize.term('packager_packageMigrationsComplete'),\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tthis._migrationButtonState = 'success';\r\n\t\tthis.hasPendingMigrations = false;\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn this.name\r\n\t\t\t? html`\r\n\t\t\t\t\t<uui-ref-node-package\r\n\t\t\t\t\t\tname=${ifDefined(this.name)}\r\n\t\t\t\t\t\tversion=\"${ifDefined(this.version ?? undefined)}\"\r\n\t\t\t\t\t\t@open=${this.#onConfigure}\r\n\t\t\t\t\t\t?disabled=\"${!this._packageView}\">\r\n\t\t\t\t\t\t${this.customIcon ? html`<umb-icon slot=\"icon\" name=${this.customIcon}></umb-icon>` : nothing}\r\n\t\t\t\t\t\t<div slot=\"tag\">\r\n\t\t\t\t\t\t\t${this.hasPendingMigrations\r\n\t\t\t\t\t\t\t\t? html`<uui-button\r\n\t\t\t\t\t\t\t\t\t\t@click=\"${this.#onMigration}\"\r\n\t\t\t\t\t\t\t\t\t\t.state=${this._migrationButtonState}\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"warning\"\r\n\t\t\t\t\t\t\t\t\t\tlook=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=${this.localize.term('packager_packageMigrationsRun')}></uui-button>`\r\n\t\t\t\t\t\t\t\t: nothing}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</uui-ref-node-package>\r\n\t\t\t\t`\r\n\t\t\t: '';\r\n\t}\r\n\r\n\tstatic override styles = css`\r\n\t\t:host {\r\n\t\t\tdisplay: flex;\r\n\t\t\tmin-height: 47px;\r\n\t\t}\r\n\t`;\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-installed-packages-section-view-item': UmbInstalledPackagesSectionViewItemElement;\r\n\t}\r\n}\r\n","import { UmbPackageRepository } from '../../../package/repository/package.repository.js';\r\nimport type { UmbPackageWithMigrationStatus } from '../../../types.js';\r\nimport { html, css, customElement, state, repeat, nothing, unsafeHTML } from '@umbraco-cms/backoffice/external/lit';\r\nimport { observeMultiple } from '@umbraco-cms/backoffice/observable-api';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport type { UmbSectionViewElement } from '@umbraco-cms/backoffice/section';\r\n\r\nimport './installed-packages-section-view-item.element.js';\r\n\r\n@customElement('umb-installed-packages-section-view')\r\nexport class UmbInstalledPackagesSectionViewElement extends UmbLitElement implements UmbSectionViewElement {\r\n\t@state()\r\n\tprivate _installedPackages: UmbPackageWithMigrationStatus[] = [];\r\n\r\n\t@state()\r\n\tprivate _migrationPackages: UmbPackageWithMigrationStatus[] = [];\r\n\r\n\t#packageRepository: UmbPackageRepository;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.#packageRepository = new UmbPackageRepository(this);\r\n\t}\r\n\r\n\toverride firstUpdated() {\r\n\t\tthis.#loadInstalledPackages();\r\n\t}\r\n\r\n\tasync #loadInstalledPackages() {\r\n\t\tconst data = await Promise.all([this.#packageRepository.rootItems(), this.#packageRepository.migrations()]);\r\n\r\n\t\tconst [package$, migration$] = data;\r\n\r\n\t\tthis.observe(observeMultiple([package$, migration$]), ([packages, migrations]) => {\r\n\t\t\tthis._installedPackages = packages.map((pkg) => {\r\n\t\t\t\tconst migration = migrations.find((m) => m.packageName === pkg.name);\r\n\t\t\t\tif (migration) {\r\n\t\t\t\t\t// Remove that migration from the list\r\n\t\t\t\t\tmigrations = migrations.filter((m) => m.packageName !== pkg.name);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...pkg,\r\n\t\t\t\t\thasPendingMigrations: migration?.hasPendingMigrations ?? false,\r\n\t\t\t\t};\r\n\t\t\t});\r\n\r\n\t\t\tthis._migrationPackages = migrations.map((m) => ({\r\n\t\t\t\tname: m.packageName,\r\n\t\t\t\thasPendingMigrations: m.hasPendingMigrations ?? false,\r\n\t\t\t\textensions: [],\r\n\t\t\t}));\r\n\t\t});\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tif (!this._installedPackages.length) return this.#renderNoPackages();\r\n\t\treturn html`${this.#renderCustomMigrations()} ${this.#renderInstalled()} `;\r\n\t}\r\n\r\n\t#renderNoPackages() {\r\n\t\treturn html`\r\n\t\t\t<div class=\"no-packages\">\r\n\t\t\t\t<h2><strong>${this.localize.term('packager_noPackages')}</strong></h2>\r\n\t\t\t\t<p>${unsafeHTML(this.localize.term('packager_noPackagesDescription'))}</p>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderInstalled() {\r\n\t\treturn html`\r\n\t\t\t<uui-box headline=${this.localize.term('packager_installedPackages')} style=\"--uui-box-default-padding:0\">\r\n\t\t\t\t<uui-ref-list>\r\n\t\t\t\t\t${repeat(\r\n\t\t\t\t\t\tthis._installedPackages,\r\n\t\t\t\t\t\t(item) => item.name,\r\n\t\t\t\t\t\t(item) => html`\r\n\t\t\t\t\t\t\t<umb-installed-packages-section-view-item\r\n\t\t\t\t\t\t\t\t.name=${item.name}\r\n\t\t\t\t\t\t\t\t.version=${item.version}\r\n\t\t\t\t\t\t\t\t.hasPendingMigrations=${item.hasPendingMigrations}>\r\n\t\t\t\t\t\t\t</umb-installed-packages-section-view-item>\r\n\t\t\t\t\t\t`,\r\n\t\t\t\t\t)}\r\n\t\t\t\t</uui-ref-list>\r\n\t\t\t</uui-box>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderCustomMigrations() {\r\n\t\tif (!this._migrationPackages.length) return nothing;\r\n\t\treturn html`\r\n\t\t\t<uui-box headline=\"Migrations\" style=\"--uui-box-default-padding:0\">\r\n\t\t\t\t<uui-ref-list>\r\n\t\t\t\t\t${repeat(\r\n\t\t\t\t\t\tthis._migrationPackages,\r\n\t\t\t\t\t\t(item) => item.name,\r\n\t\t\t\t\t\t(item) => html`\r\n\t\t\t\t\t\t\t<umb-installed-packages-section-view-item\r\n\t\t\t\t\t\t\t\tcustom-icon=\"icon-sync\"\r\n\t\t\t\t\t\t\t\t.name=${item.name}\r\n\t\t\t\t\t\t\t\t.version=${item.version}\r\n\t\t\t\t\t\t\t\t.hasPendingMigrations=${item.hasPendingMigrations}>\r\n\t\t\t\t\t\t\t</umb-installed-packages-section-view-item>\r\n\t\t\t\t\t\t`,\r\n\t\t\t\t\t)}\r\n\t\t\t\t</uui-ref-list>\r\n\t\t\t</uui-box>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tpadding: var(--uui-size-layout-1);\r\n\t\t\t}\r\n\t\t\tuui-box {\r\n\t\t\t\tmargin-top: var(--uui-size-space-5);\r\n\t\t\t\tpadding-bottom: var(--uui-size-space-1);\r\n\t\t\t}\r\n\r\n\t\t\tumb-installed-packages-section-view-item {\r\n\t\t\t\tpadding: var(--uui-size-space-3) 0 var(--uui-size-space-2);\r\n\t\t\t}\r\n\r\n\t\t\tumb-installed-packages-section-view-item:not(:first-child) {\r\n\t\t\t\tborder-top: 1px solid var(--uui-color-border, #d8d7d9);\r\n\t\t\t}\r\n\r\n\t\t\t.no-packages {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-around;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\talign-items: center;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbInstalledPackagesSectionViewElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-installed-packages-section-view': UmbInstalledPackagesSectionViewElement;\r\n\t}\r\n}\r\n"],"names":["_name","_notificationContext","_UmbInstalledPackagesSectionViewItemElement_instances","observePackageView_fn","onConfigure_fn","onMigration_fn","UmbInstalledPackagesSectionViewItemElement","UmbLitElement","__privateAdd","UMB_NOTIFICATION_CONTEXT","instance","__privateSet","value","oldValue","__privateGet","__privateMethod","html","ifDefined","nothing","umbExtensionsRegistry","manifest","manifests","createExtensionElement","umbConfirmModal","error","tryExecute","PackageService","css","__decorateClass","property","state","customElement","_packageRepository","_UmbInstalledPackagesSectionViewElement_instances","loadInstalledPackages_fn","renderNoPackages_fn","renderInstalled_fn","renderCustomMigrations_fn","UmbInstalledPackagesSectionViewElement","UmbPackageRepository","data","package$","migration$","observeMultiple","packages","migrations","pkg","migration","m","unsafeHTML","repeat","item","UmbTextStyles","UmbInstalledPackagesSectionViewElement$1"],"mappings":";;;;;;;;;;;;;;;;;wYAAAA,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC;AAaa,IAAAC,IAAN,cAAyDC,EAAc;AAAA,EA+B7E,cAAc;AACP,UAAA,GAhCDC,EAAA,MAAAN,CAAA,GAYNM,EAAA,MAAAR,CAAA,GAMuB,KAAA,uBAAA,IAWvBQ,EAAA,MAAAP,CAAA,GAKM,KAAA,eAAeQ,GAA0B,CAACC,MAAa;AAC3DC,MAAAA,EAAA,MAAKV,GAAuBS,CAAA;AAAA,IAAA,CAC5B;AAAA,EAAA;AAAA,EAlCF,IAAW,KAAKE,GAA2B;AAC1C,UAAMC,IAAWC,EAAK,MAAAd,CAAA;AACtB,IAAIa,MAAaD,MACjBD,EAAA,MAAKX,GAAQY,CAAA,GACbG,EAAA,MAAKb,GAALC,CAAA,EAAA,KAAA,IAAA,GACK,KAAA,cAAc,QAAQU,CAAQ;AAAA,EAAA;AAAA,EAEpC,IAAW,OAA2B;AACrC,WAAOC,EAAK,MAAAd,CAAA;AAAA,EAAA;AAAA,EA8FJ,SAAS;AACjB,WAAO,KAAK,OACTgB;AAAA;AAAA,aAEQC,EAAU,KAAK,IAAI,CAAC;AAAA,iBAChBA,EAAU,KAAK,WAAW,MAAS,CAAC;AAAA,cACvCF,QAAKb,GAAYE,CAAA,CAAA;AAAA,mBACZ,CAAC,KAAK,YAAY;AAAA,QAC7B,KAAK,aAAaY,+BAAkC,KAAK,UAAU,iBAAiBE,CAAO;AAAA;AAAA,SAE1F,KAAK,uBACJF;AAAA,oBACUD,QAAKb,GAAYG,CAAA,CAAA;AAAA,mBAClB,KAAK,qBAAqB;AAAA;AAAA;AAAA,kBAG3B,KAAK,SAAS,KAAK,+BAA+B,CAAC,mBAC3Da,CAAO;AAAA;AAAA;AAAA,QAIZ;AAAA,EAAA;AASL;AA1HClB,IAAA,oBAAA,QAAA;AAiBAC,IAAA,oBAAA,QAAA;AA7BMC,IAAA,oBAAA,QAAA;AAuCNC,IAAmB,WAAG;AAChB,OAAA;AAAA,IACJgB,EAAsB,gBAAgB,eAAe,CAACC,MAAaA,EAAS,KAAK,gBAAgBN,EAAA,MAAKd,CAAK,CAAA;AAAA,IAC3G,CAACqB,MAAc;AACV,UAAAA,EAAU,WAAW,GAAG;AAC3B,aAAK,eAAe;AACpB;AAAA,MAAA;AAEI,WAAA,eAAeA,EAAU,CAAC;AAAA,IAChC;AAAA,IACA;AAAA,EACD;AACD;AAEMjB,IAAY,iBAAG;AAChB,MAAA,CAAC,KAAK,cAAc;AACvB,YAAQ,KAAK,yCAAyC;AACtD;AAAA,EAAA;AAKD,MAAI,CAFY,MAAMkB,EAAuB,KAAK,YAAY,GAEhD;AACb,YAAQ,KAAK,uCAAuC;AACpD;AAAA,EAAA;AAIK,QAAA,IAAI,MAAM,0CAA0C;AAQ3D;AAEMjB,IAAY,iBAAG;AAChB,MAAA,CAAC,KAAK,KAAM;AAEhB,QAAMkB,EAAgB,MAAM;AAAA,IAC3B,OAAO;AAAA,IACP,UAAU,KAAK;AAAA,IACf,SAAS,KAAK,SAAS,KAAK,uCAAuC;AAAA,EAAA,CACnE,GAED,KAAK,wBAAwB;AACvB,QAAA,EAAE,OAAAC,EAAM,IAAI,MAAMC;AAAA,IACvB;AAAA,IACAC,EAAe,8BAA8B,EAAE,MAAM,EAAE,MAAM,KAAK,OAAQ,CAAA;AAAA,EAC3E;AAEA,EAAIF,MAECV,EAAA,MAAAb,CAAA,GAAsB,KAAK,YAAY;AAAA,IAC3C,MAAM;AAAA,MACL,SAAS,KAAK,SAAS,KAAK,oCAAoC;AAAA,IAAA;AAAA,EACjE,CACA,GAED,KAAK,wBAAwB,WAC7B,KAAK,uBAAuB;AAC7B;AAtGYK,EAgII,SAASqB;AAAA;AAAA;AAAA;AAAA;AAAA;AA9HdC,EAAA;AAAA,EADVC,EAAS;AAAA,GADEvB,EAED,WAAA,QAAA,CAAA;AAaXsB,EAAA;AAAA,EADCC,EAAS;AAAA,GAdEvB,EAeZ,WAAA,WAAA,CAAA;AAGAsB,EAAA;AAAA,EADCC,EAAS,EAAE,MAAM,SAAS,WAAW,GAAO,CAAA;AAAA,GAjBjCvB,EAkBZ,WAAA,wBAAA,CAAA;AAGAsB,EAAA;AAAA,EADCC,EAAS,EAAE,WAAW,cAAe,CAAA;AAAA,GApB1BvB,EAqBZ,WAAA,cAAA,CAAA;AAGQsB,EAAA;AAAA,EADPE,EAAM;AAAA,GAvBKxB,EAwBJ,WAAA,yBAAA,CAAA;AAGAsB,EAAA;AAAA,EADPE,EAAM;AAAA,GA1BKxB,EA2BJ,WAAA,gBAAA,CAAA;AA3BIA,IAANsB,EAAA;AAAA,EADNG,EAAc,0CAA0C;AAAA,GAC5CzB,CAAA;;;;;;;yYCbb0B,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC;AAWa,IAAAC,IAAN,cAAqD/B,EAA+C;AAAA,EAS1G,cAAc;AACP,UAAA,GAVDC,EAAA,MAAAyB,CAAA,GAEN,KAAQ,qBAAsD,CAAC,GAG/D,KAAQ,qBAAsD,CAAC,GAE/DzB,EAAA,MAAAwB,CAAA,GAIMrB,GAAA,MAAAqB,GAAqB,IAAIO,EAAqB,IAAI,CAAA;AAAA,EAAA;AAAA,EAG/C,eAAe;AACvB,IAAAxB,EAAA,MAAKkB,GAALC,CAAA,EAAA,KAAA,IAAA;AAAA,EAAA;AAAA,EA8BQ,SAAS;AACjB,WAAK,KAAK,mBAAmB,SACtBlB,IAAOD,EAAK,MAAAkB,GAAAI,CAAA,EAAL,UAA8B,IAAItB,EAAA,MAAKkB,MAAL,KAAuB,IAAA,CAAA,MAD3BlB,QAAKkB,GAALE,CAAA,EAAA,KAAA,IAAA;AAAA,EAC2B;AAkFzE;AA1HCH,IAAA,oBAAA,QAAA;AAPMC,IAAA,oBAAA,QAAA;AAkBAC,IAAsB,iBAAG;AAC9B,QAAMM,IAAO,MAAM,QAAQ,IAAI,CAAC1B,EAAA,MAAKkB,CAAmB,EAAA,UAAA,GAAalB,EAAA,MAAKkB,CAAmB,EAAA,WAAA,CAAY,CAAC,GAEpG,CAACS,GAAUC,CAAU,IAAIF;AAE1B,OAAA,QAAQG,EAAgB,CAACF,GAAUC,CAAU,CAAC,GAAG,CAAC,CAACE,GAAUC,CAAU,MAAM;AACjF,SAAK,qBAAqBD,EAAS,IAAI,CAACE,MAAQ;AACzC,YAAAC,IAAYF,EAAW,KAAK,CAACG,MAAMA,EAAE,gBAAgBF,EAAI,IAAI;AACnE,aAAIC,MAEHF,IAAaA,EAAW,OAAO,CAACG,MAAMA,EAAE,gBAAgBF,EAAI,IAAI,IAG1D;AAAA,QACN,GAAGA;AAAA,QACH,sBAAsBC,GAAW,wBAAwB;AAAA,MAC1D;AAAA,IAAA,CACA,GAED,KAAK,qBAAqBF,EAAW,IAAI,CAACG,OAAO;AAAA,MAChD,MAAMA,EAAE;AAAA,MACR,sBAAsBA,EAAE,wBAAwB;AAAA,MAChD,YAAY,CAAA;AAAA,IAAC,EACZ;AAAA,EAAA,CACF;AACF;AAOAb,IAAiB,WAAG;AACZ,SAAAnB;AAAA;AAAA,kBAES,KAAK,SAAS,KAAK,qBAAqB,CAAC;AAAA,SAClDiC,EAAW,KAAK,SAAS,KAAK,gCAAgC,CAAC,CAAC;AAAA;AAAA;AAGxE;AAEAb,IAAgB,WAAG;AACX,SAAApB;AAAA,uBACc,KAAK,SAAS,KAAK,4BAA4B,CAAC;AAAA;AAAA,OAEhEkC;AAAA,IACD,KAAK;AAAA,IACL,CAACC,MAASA,EAAK;AAAA,IACf,CAACA,MAASnC;AAAA;AAAA,gBAEAmC,EAAK,IAAI;AAAA,mBACNA,EAAK,OAAO;AAAA,gCACCA,EAAK,oBAAoB;AAAA;AAAA;AAAA,EAGnD,CAAA;AAAA;AAAA;AAAA;AAIL;AAEAd,IAAuB,WAAG;AACzB,SAAK,KAAK,mBAAmB,SACtBrB;AAAA;AAAA;AAAA,OAGFkC;AAAA,IACD,KAAK;AAAA,IACL,CAACC,MAASA,EAAK;AAAA,IACf,CAACA,MAASnC;AAAA;AAAA;AAAA,gBAGAmC,EAAK,IAAI;AAAA,mBACNA,EAAK,OAAO;AAAA,gCACCA,EAAK,oBAAoB;AAAA;AAAA;AAAA,EAGnD,CAAA;AAAA;AAAA;AAAA,MAfwCjC;AAmB7C;AAnGYoB,EAqGI,SAAS;AAAA,EACxBc;AAAA,EACAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyBD;AA9HQC,EAAA;AAAA,EADPE,EAAM;AAAA,GADKQ,EAEJ,WAAA,sBAAA,CAAA;AAGAV,EAAA;AAAA,EADPE,EAAM;AAAA,GAJKQ,EAKJ,WAAA,sBAAA,CAAA;AALIA,IAANV,EAAA;AAAA,EADNG,EAAc,qCAAqC;AAAA,GACvCO,CAAA;AAmIb,MAAAe,KAAef;"}