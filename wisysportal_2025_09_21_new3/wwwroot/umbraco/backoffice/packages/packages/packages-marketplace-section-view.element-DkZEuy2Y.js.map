{"version":3,"file":"packages-marketplace-section-view.element-DkZEuy2Y.js","sources":["../../../src/packages/packages/package-section/views/marketplace/packages-marketplace-section-view.element.ts"],"sourcesContent":["import { css, html, customElement, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbPackageRepository } from '@umbraco-cms/backoffice/package';\r\nimport type { UmbSectionViewElement } from '@umbraco-cms/backoffice/section';\r\n\r\n@customElement('umb-packages-marketplace-section-view')\r\nexport class UmbPackagesMarketplaceSectionViewElement extends UmbLitElement implements UmbSectionViewElement {\r\n\t@state()\r\n\tprivate _marketplaceUrl?: string;\r\n\r\n\t#packageRepository = new UmbPackageRepository(this);\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.#getMarketplaceUrl();\r\n\t}\r\n\r\n\tasync #getMarketplaceUrl() {\r\n\t\tconst configuration = await this.#packageRepository.configuration();\r\n\t\tthis.observe(\r\n\t\t\tconfiguration,\r\n\t\t\t(configuration) => {\r\n\t\t\t\tthis._marketplaceUrl = configuration.marketplaceUrl;\r\n\t\t\t},\r\n\t\t\t'_observeConfiguration',\r\n\t\t);\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tif (!this._marketplaceUrl) return html`<div id=\"loader\"><uui-loader></uui-loader></div>`;\r\n\t\treturn html`\r\n\t\t\t<div id=\"container\">\r\n\t\t\t\t<iframe\r\n\t\t\t\t\tsrc=${this._marketplaceUrl}\r\n\t\t\t\t\ttitle=\"Umbraco Marketplace\"\r\n\t\t\t\t\tallowfullscreen\r\n\t\t\t\t\tallow=\"geolocation; autoplay; clipboard-write; encrypted-media\">\r\n\t\t\t\t</iframe>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tdisplay: block;\r\n\t\t\t}\r\n\r\n\t\t\t#loader {\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t}\r\n\r\n\t\t\t#container {\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: stretch;\r\n\t\t\t}\r\n\r\n\t\t\tiframe {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tborder: none;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbPackagesMarketplaceSectionViewElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-packages-marketplace-section-view': UmbPackagesMarketplaceSectionViewElement;\r\n\t}\r\n}\r\n"],"names":["_packageRepository","_UmbPackagesMarketplaceSectionViewElement_instances","getMarketplaceUrl_fn","UmbPackagesMarketplaceSectionViewElement","UmbLitElement","__privateAdd","UmbPackageRepository","__privateMethod","html","configuration","__privateGet","css","__decorateClass","state","customElement","UmbPackagesMarketplaceSectionViewElement$1"],"mappings":";;;;;;;;;+TAAAA,GAAAC,GAAAC;AAMa,IAAAC,IAAN,cAAuDC,EAA+C;AAAA,EAM5G,cAAc;AACP,UAAA,GAPDC,EAAA,MAAAJ,CAAA,GAIeI,EAAA,MAAAL,GAAA,IAAIM,EAAqB,IAAI,CAAA,GAKjDC,EAAA,MAAKN,GAALC,CAAA,EAAA,KAAA,IAAA;AAAA,EAAA;AAAA,EAcQ,SAAS;AACb,WAAC,KAAK,kBACHM;AAAA;AAAA;AAAA,WAGE,KAAK,eAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJKA;AAAA,EAIL;AAqC/B;AA7DCR,IAAA,oBAAA,QAAA;AAJMC,IAAA,oBAAA,QAAA;AAYAC,IAAkB,iBAAG;AAC1B,QAAMO,IAAgB,MAAMC,EAAK,MAAAV,CAAA,EAAmB,cAAc;AAC7D,OAAA;AAAA,IACJS;AAAA,IACA,CAACA,MAAkB;AAClB,WAAK,kBAAkBA,EAAc;AAAA,IACtC;AAAA,IACA;AAAA,EACD;AACD;AArBYN,EAqCI,SAAS;AAAA,EACxBQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0BD;AA9DQC,EAAA;AAAA,EADPC,EAAM;AAAA,GADKV,EAEJ,WAAA,mBAAA,CAAA;AAFIA,IAANS,EAAA;AAAA,EADNE,EAAc,uCAAuC;AAAA,GACzCX,CAAA;AAmEb,MAAAY,IAAeZ;"}