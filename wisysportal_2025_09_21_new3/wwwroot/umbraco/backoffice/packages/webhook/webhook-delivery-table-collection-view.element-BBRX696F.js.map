{"version":3,"file":"webhook-delivery-table-collection-view.element-BBRX696F.js","sources":["../../../src/packages/webhook/webhook-delivery/collection/views/table/column-layouts/status-code/webhook-delivery-table-status-code-column-layout.element.ts","../../../src/packages/webhook/webhook-delivery/collection/views/table/webhook-delivery-table-collection-view.element.ts"],"sourcesContent":["import { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { html, LitElement, nothing, customElement, property, css } from '@umbraco-cms/backoffice/external/lit';\r\n\r\n@customElement('umb-webhook-delivery-table-status-code-column-layout')\r\nexport class UmbWebhookDeliveryTableStatusCodeColumnLayoutElement extends LitElement {\r\n\t@property({ attribute: false })\r\n\tvalue: string = '';\r\n\r\n\t#getTagColor() {\r\n\t\tif (this.value.includes('(2')) {\r\n\t\t\treturn 'positive';\r\n\t\t}\r\n\t\tif (this.value.includes('(4')) {\r\n\t\t\treturn 'warning';\r\n\t\t}\r\n\t\tif (this.value.includes('(5')) {\r\n\t\t\treturn 'danger';\r\n\t\t}\r\n\r\n\t\treturn 'default';\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tif (this.value.length === 0) return nothing;\r\n\t\treturn html`<uui-tag color=${this.#getTagColor()} look=\"secondary\">${this.value}</uui-tag>`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-webhook-delivery-table-status-code-column-layout': UmbWebhookDeliveryTableStatusCodeColumnLayoutElement;\r\n\t}\r\n}\r\n","import type { UmbWebhookDeliveryDetailModel } from '../../../types.js';\r\nimport type { UmbDefaultCollectionContext } from '@umbraco-cms/backoffice/collection';\r\nimport { css, customElement, html, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UMB_COLLECTION_CONTEXT } from '@umbraco-cms/backoffice/collection';\r\nimport type { UmbTableColumn, UmbTableConfig, UmbTableItem } from '@umbraco-cms/backoffice/components';\r\n\r\nimport './column-layouts/status-code/webhook-delivery-table-status-code-column-layout.element.js';\r\n\r\n@customElement('umb-webhook-delivery-table-collection-view')\r\nexport class UmbWebhookDeliveryTableCollectionViewElement extends UmbLitElement {\r\n\t@state()\r\n\tprivate _tableConfig: UmbTableConfig = {\r\n\t\tallowSelection: false,\r\n\t};\r\n\r\n\t@state()\r\n\tprivate _tableColumns: Array<UmbTableColumn> = [\r\n\t\t{\r\n\t\t\tname: this.localize.term('general_date'),\r\n\t\t\talias: 'date',\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: this.localize.term('webhooks_url'),\r\n\t\t\talias: 'eventUrl',\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: this.localize.term('webhooks_event'),\r\n\t\t\talias: 'eventAlias',\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: this.localize.term('webhooks_statusCode'),\r\n\t\t\talias: 'statusCode',\r\n\t\t\telementName: 'umb-webhook-delivery-table-status-code-column-layout',\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: this.localize.term('webhooks_retryCount'),\r\n\t\t\talias: 'retryCount',\r\n\t\t},\r\n\t];\r\n\r\n\t@state()\r\n\tprivate _tableItems: Array<UmbTableItem> = [];\r\n\r\n\t#collectionContext?: UmbDefaultCollectionContext<UmbWebhookDeliveryDetailModel>;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_COLLECTION_CONTEXT, (instance) => {\r\n\t\t\tthis.#collectionContext = instance;\r\n\t\t\tthis.#observeCollectionItems();\r\n\t\t});\r\n\t}\r\n\r\n\t#observeCollectionItems() {\r\n\t\tif (!this.#collectionContext) return;\r\n\t\tthis.observe(this.#collectionContext.items, (items) => this.#createTableItems(items), 'umbCollectionItemsObserver');\r\n\t}\r\n\r\n\t#createTableItems(deliveries: Array<UmbWebhookDeliveryDetailModel>) {\r\n\t\tthis._tableItems = deliveries.map((delivery) => {\r\n\t\t\treturn {\r\n\t\t\t\tid: delivery.unique,\r\n\t\t\t\ticon: 'icon-box-alt',\r\n\t\t\t\tdata: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolumnAlias: 'date',\r\n\t\t\t\t\t\tvalue: html`<umb-date-table-column-view .value=${delivery.date}></umb-date-table-column-view>`,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolumnAlias: 'eventUrl',\r\n\t\t\t\t\t\tvalue: delivery.url,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolumnAlias: 'eventAlias',\r\n\t\t\t\t\t\tvalue: delivery.eventAlias,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolumnAlias: 'statusCode',\r\n\t\t\t\t\t\tvalue: delivery.statusCode,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolumnAlias: 'retryCount',\r\n\t\t\t\t\t\tvalue: delivery.retryCount,\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-table .config=${this._tableConfig} .columns=${this._tableColumns} .items=${this._tableItems}></umb-table>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbWebhookDeliveryTableCollectionViewElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-webhook-delivery-table-collection-view': UmbWebhookDeliveryTableCollectionViewElement;\r\n\t}\r\n}\r\n"],"names":["_UmbWebhookDeliveryTableStatusCodeColumnLayoutElement_instances","getTagColor_fn","UmbWebhookDeliveryTableStatusCodeColumnLayoutElement","LitElement","__privateAdd","nothing","html","__privateMethod","UmbTextStyles","css","__decorateClass","property","customElement","_collectionContext","_UmbWebhookDeliveryTableCollectionViewElement_instances","observeCollectionItems_fn","createTableItems_fn","UmbWebhookDeliveryTableCollectionViewElement","UmbLitElement","UMB_COLLECTION_CONTEXT","instance","__privateSet","__privateGet","items","deliveries","delivery","state","UmbWebhookDeliveryTableCollectionViewElement$1"],"mappings":"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"}