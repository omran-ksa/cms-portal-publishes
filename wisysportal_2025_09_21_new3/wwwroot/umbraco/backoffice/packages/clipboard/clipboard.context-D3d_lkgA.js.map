{"version":3,"file":"clipboard.context-D3d_lkgA.js","sources":["../../../src/packages/clipboard/context/clipboard.context.ts"],"sourcesContent":["import { UmbClipboardEntryDetailRepository, type UmbClipboardEntryDetailModel } from '../clipboard-entry/index.js';\r\nimport { UMB_CLIPBOARD_CONTEXT } from './clipboard.context-token.js';\r\nimport { UmbContextBase } from '@umbraco-cms/backoffice/class-api';\r\nimport type { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\n\r\n/**\r\n * Clipboard context for managing clipboard entries\r\n * @export\r\n * @class UmbClipboardContext\r\n * @augments {UmbContextBase}\r\n */\r\nexport class UmbClipboardContext extends UmbContextBase {\r\n\t#clipboardDetailRepository = new UmbClipboardEntryDetailRepository(this);\r\n\r\n\tconstructor(host: UmbControllerHost) {\r\n\t\tsuper(host, UMB_CLIPBOARD_CONTEXT);\r\n\t}\r\n\r\n\t/**\r\n\t * Write to the clipboard\r\n\t * @param {Partial<UmbClipboardEntryDetailModel>} entryPreset - The preset for the clipboard entry\r\n\t * @returns {Promise<void>}\r\n\t * @memberof UmbClipboardContext\r\n\t */\r\n\tasync write(entryPreset: Partial<UmbClipboardEntryDetailModel>): Promise<UmbClipboardEntryDetailModel | undefined> {\r\n\t\tif (!entryPreset) throw new Error('Entry preset is required');\r\n\r\n\t\tconst { data: scaffoldData } = await this.#clipboardDetailRepository.createScaffold(entryPreset);\r\n\t\tif (!scaffoldData) return;\r\n\r\n\t\tconst { data } = await this.#clipboardDetailRepository.create(scaffoldData);\r\n\t\treturn data;\r\n\t}\r\n\r\n\t/**\r\n\t * Read from the clipboard\r\n\t * @param {string} unique - The unique id of the clipboard entry\r\n\t * @returns {Promise<UmbClipboardEntryDetailModel | undefined>} - Returns the clipboard entry\r\n\t * @memberof UmbClipboardContext\r\n\t */\r\n\tasync read(unique: string): Promise<UmbClipboardEntryDetailModel | undefined> {\r\n\t\tconst { data } = await this.#clipboardDetailRepository.requestByUnique(unique);\r\n\t\treturn data;\r\n\t}\r\n}\r\n\r\nexport { UmbClipboardContext as api };\r\n"],"names":["UmbClipboardContext","UmbContextBase","#clipboardDetailRepository","UmbClipboardEntryDetailRepository","host","UMB_CLIPBOARD_CONTEXT","entryPreset","scaffoldData","data","unique"],"mappings":";;;;;;;;AAWO,MAAMA,UAA4BC,EAAe;AAAA,EACvDC,KAA6B,IAAIC,EAAkC,IAAI;AAAA,EAEvE,YAAYC,GAAyB;AACpC,UAAMA,GAAMC,CAAqB;AAAA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASlC,MAAM,MAAMC,GAAuG;AAClH,QAAI,CAACA,EAAmB,OAAA,IAAI,MAAM,0BAA0B;AAEtD,UAAA,EAAE,MAAMC,EAAa,IAAI,MAAM,KAAKL,GAA2B,eAAeI,CAAW;AAC/F,QAAI,CAACC,EAAc;AAEnB,UAAM,EAAE,MAAAC,EAAK,IAAI,MAAM,KAAKN,GAA2B,OAAOK,CAAY;AACnE,WAAAC;AAAA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASR,MAAM,KAAKC,GAAmE;AAC7E,UAAM,EAAE,MAAAD,EAAK,IAAI,MAAM,KAAKN,GAA2B,gBAAgBO,CAAM;AACtE,WAAAD;AAAA,EAAA;AAET;"}