{"version":3,"file":"clipboard-entry-item.repository-CIuifbrD.js","sources":["../../../src/packages/clipboard/clipboard-entry/item/clipboard-entry-item.local-storage.data-source.ts","../../../src/packages/clipboard/clipboard-entry/item/clipboard-entry-item.repository.ts"],"sourcesContent":["import { UmbClipboardLocalStorageManager } from '../../clipboard-local-storage.manager.js';\r\nimport type { UmbClipboardEntryItemModel } from './types.js';\r\nimport { UmbControllerBase } from '@umbraco-cms/backoffice/class-api';\r\nimport type { UmbItemDataSource } from '@umbraco-cms/backoffice/repository';\r\n\r\n/**\r\n * A local storage data source for Clipboard Entry items\r\n * @class UmbClipboardEntryItemServerDataSource\r\n * @implements {UmbItemServerDataSourceBase}\r\n */\r\nexport class UmbClipboardEntryItemLocalStorageDataSource\r\n\textends UmbControllerBase\r\n\timplements UmbItemDataSource<UmbClipboardEntryItemModel>\r\n{\r\n\t#localStorageManager = new UmbClipboardLocalStorageManager(this);\r\n\r\n\t/**\r\n\t * Gets items from local storage\r\n\t * @param {Array<string>} unique\r\n\t * @memberof UmbClipboardEntryItemLocalStorageDataSource\r\n\t */\r\n\tasync getItems(unique: Array<string>) {\r\n\t\tconst { entries } = await this.#localStorageManager.getEntries();\r\n\t\tconst items = entries\r\n\t\t\t.filter((entry) => unique.includes(entry.unique))\r\n\t\t\t.map((entry) => {\r\n\t\t\t\tconst item: UmbClipboardEntryItemModel = {\r\n\t\t\t\t\tentityType: entry.entityType,\r\n\t\t\t\t\tunique: entry.unique,\r\n\t\t\t\t\tname: entry.name,\r\n\t\t\t\t\ticon: entry.icon,\r\n\t\t\t\t\tmeta: entry.meta,\r\n\t\t\t\t\tcreateDate: entry.createDate,\r\n\t\t\t\t\tupdateDate: entry.updateDate,\r\n\t\t\t\t};\r\n\t\t\t\treturn item;\r\n\t\t\t});\r\n\t\treturn { data: items };\r\n\t}\r\n}\r\n","import { UmbClipboardEntryItemLocalStorageDataSource } from './clipboard-entry-item.local-storage.data-source.js';\r\nimport { UMB_CLIPBOARD_ENTRY_ITEM_STORE_CONTEXT } from './clipboard-entry-item.store.context-token.js';\r\nimport type { UmbClipboardEntryItemModel } from './types.js';\r\nimport type { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport { UmbItemRepositoryBase } from '@umbraco-cms/backoffice/repository';\r\n\r\nexport class UmbClipboardEntryItemRepository extends UmbItemRepositoryBase<UmbClipboardEntryItemModel> {\r\n\tconstructor(host: UmbControllerHost) {\r\n\t\tsuper(host, UmbClipboardEntryItemLocalStorageDataSource, UMB_CLIPBOARD_ENTRY_ITEM_STORE_CONTEXT);\r\n\t}\r\n}\r\n\r\nexport { UmbClipboardEntryItemRepository as api };\r\n"],"names":["UmbClipboardEntryItemLocalStorageDataSource","UmbControllerBase","#localStorageManager","UmbClipboardLocalStorageManager","unique","entries","entry","UmbClipboardEntryItemRepository","UmbItemRepositoryBase","host","UMB_CLIPBOARD_ENTRY_ITEM_STORE_CONTEXT"],"mappings":";;;;AAUO,MAAMA,UACJC,EAET;AAAA,EACCC,KAAuB,IAAIC,EAAgC,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAO/D,MAAM,SAASC,GAAuB;AACrC,UAAM,EAAE,SAAAC,EAAQ,IAAI,MAAM,KAAKH,GAAqB,WAAW;AAexD,WAAA,EAAE,MAdKG,EACZ,OAAO,CAACC,MAAUF,EAAO,SAASE,EAAM,MAAM,CAAC,EAC/C,IAAI,CAACA,OACoC;AAAA,MACxC,YAAYA,EAAM;AAAA,MAClB,QAAQA,EAAM;AAAA,MACd,MAAMA,EAAM;AAAA,MACZ,MAAMA,EAAM;AAAA,MACZ,MAAMA,EAAM;AAAA,MACZ,YAAYA,EAAM;AAAA,MAClB,YAAYA,EAAM;AAAA,IACnB,EAEA,EACmB;AAAA,EAAA;AAEvB;ACjCO,MAAMC,UAAwCC,EAAkD;AAAA,EACtG,YAAYC,GAAyB;AAC9B,UAAAA,GAAMT,GAA6CU,CAAsC;AAAA,EAAA;AAEjG;"}