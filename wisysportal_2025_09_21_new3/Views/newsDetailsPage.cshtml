@using Umbraco.Cms.Web.Common.PublishedModels;
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage
@{
	Layout = "news.cshtml";
}
@using System.Globalization
@{
    Layout = "news.cshtml"; // single-file PoC
    var culture = new CultureInfo("ar");
    var now = DateTimeOffset.Now.ToOffset(TimeSpan.FromHours(3));
    var temp = 34;

    // ===== MOCK: single article (replace with Umbraco fields) =====
    var article = new {
        Title = "شريكنا الجديد شركة أبناء عمر محمد بلحمر للتجارة",
        Date = "29 مايو 2025",
        Cover = "https://images.unsplash.com/photo-1551836022-d5d88e9218df?q=80&w=1600&auto=format&fit=crop",
        Lead = "نحن فخورون بإعلان إتمام \"مرحلة التحضير للمشروع\" بنجاح لشريكنا الجديد شركة أبناء عمر محمد بلحمر للتجارة عبر نظام SAP Business One.",
        Body = new[]{
            "يأتي هذا المشروع ضمن استراتيجيتنا لتعزيز كفاءة الأعمال من المحاسبة والمخزون والمشتريات والمبيعات، وتهيئة فرق العميل لبدء الانطلاق إلى الإنتاج بشكل سلس.",
            "يتضمن الحل تكاملات متقدمة مع نقاط البيع وتقارير فورية تدعم اتخاذ القرار، إضافة إلى لوحة معلومات تنفيذية لمتابعة أداء الفروع.",
            "نشكر فريق العميل على التعاون والدعم الكامل خلال مرحلة التحضير، ونتطلع لاستكمال التنفيذ وفق الجدول الزمني المخطط."
        }
    };

    // ===== MOCK: more news =====
    var moreNews = new[]{
        new { Img="https://images.unsplash.com/photo-1518779578993-ec3579fee39f?q=80&w=1200&auto=format&fit=crop", Title="حصلنا على جائزة الشريك الذهبي من فيوسينك في مشروع التعليم!", Date="12 إبريل 2025", Ex="تكريم لرحلة التحول الرقمي باستخدام SAP Business One." },
        new { Img="https://images.unsplash.com/photo-1521737604893-d14cc237f11d?q=80&w=1200&auto=format&fit=crop", Title="واسيس تبدأ عام 2025 بقوة!", Date="06 مارس 2025", Ex="إطلاق مبادرات سحابية وحلول أمنية تدعم رؤيتنا." },
        new { Img="https://images.unsplash.com/photo-1557800636-894a64c1696f?q=80&w=1200&auto=format&fit=crop", Title="إطلاق مركز ابتكار لتجربة العملاء", Date="02 يونيو 2025", Ex="مساحة لاختبار الحلول الرقمية وتحسين التجربة." }
    };
}
<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>@article.Title | الأخبار</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css" rel="stylesheet"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet"/>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>

<style>
:root{
  --primary:#6b4bbf; --primary-2:#7a57d6;
  --bg:#f1f3f6; --surface:#fff;
  --muted:#6c7382; --radius-lg:1.75rem; --radius-md:1.25rem;
}
body{font-family:"Tajawal",system-ui,-apple-system,"Segoe UI",Roboto,Arial;background:var(--bg);color:#1f2330}
.topbar{background:#fff;border-bottom:1px solid rgba(0,0,0,.06);font-size:.92rem}
.badge-soft{background:rgba(123,97,255,.12);color:#5b4bf0;border:1px solid rgba(123,97,255,.25)}

.page-hero{background:linear-gradient(180deg,var(--primary) 0%,var(--primary-2) 100%); color:#fff; padding:1.25rem 0 2.5rem}
.page-hero .crumb a{color:#efeaff;text-decoration:none}
.page-hero .crumb a:hover{text-decoration:underline}

.surface{background:var(--surface);border-radius:var(--radius-lg);box-shadow:0 .6rem 2rem rgba(16,22,34,.08);
         margin-top:-2rem;padding:1.5rem;border:1px solid rgba(0,0,0,.04)}
.post-cover{border-radius:1rem;overflow:hidden}
.post-cover img{width:100%;height:auto;display:block}
.meta{color:#8691a3;font-size:.92rem}
.post h1{font-size:1.75rem;font-weight:800;margin:0 0 .5rem}
.post p{color:#515a69; line-height:1.9}

.more-band{background:#2d2143; color:#fff; padding:3rem 0}
.card-news{border:1px solid rgba(255,255,255,.08);border-radius:var(--radius-md);overflow:hidden;background:#fff;color:#1d2230;
           box-shadow:0 .25rem 1.25rem rgba(0,0,0,.16)}
.card-news img{width:100%;height:210px;object-fit:cover}
.card-news .card-body{padding:1rem 1rem 1.25rem}
.card-news .date{color:#8b95a6;font-size:.92rem}
.card-news .title{font-weight:800;line-height:1.6;margin:0}
.swiper{padding:.25rem 0 2.25rem}
.swiper-button-next,.swiper-button-prev{width:42px;height:42px;border-radius:50%;background:#fff;color:#333;border:1px solid rgba(0,0,0,.12)}
.swiper-button-next:after,.swiper-button-prev:after{font-size:18px;font-weight:800}
.swiper-pagination-bullet{background:#c7c9d3;opacity:1}
.swiper-pagination-bullet-active{background:#7f56d9}
.footer{color:#7b8a9b;font-size:.95rem}
.social a{width:36px;height:36px;border-radius:999px;border:1px solid rgba(0,0,0,.08);display:flex;align-items:center;justify-content:center;color:#5e6b7b}
</style>
</head>
<body>

<!-- Topbar -->
<div class="topbar py-2">
  <div class="container d-flex align-items-center justify-content-between gap-3">
    <div class="d-flex align-items-center gap-3">
      <a class="badge rounded-pill badge-soft px-3 py-2" href="#"><i class="bi bi-box-arrow-in-right ms-1"></i>تسجيل الدخول</a>
      <a class="text-decoration-none small" href="#"><i class="bi bi-globe2 ms-1"></i>English</a>
    </div>
    <div class="text-muted small d-flex align-items-center gap-3">
      <span class="d-none d-sm-inline"><i class="bi bi-geo-alt ms-1"></i>Riyadh - KSA</span>
      <span><i class="bi bi-thermometer-sun ms-1"></i>@temp°</span>
      <span class="text-body-secondary">@now.ToString("yyyy/mm/dd HH:mm")</span>
    </div>
  </div>
</div>

<!-- Purple header / breadcrumb -->
<header class="page-hero">
  <div class="container">
    <nav class="crumb fw-medium">
      <a href="/"><i class="bi bi-house-door ms-1"></i>الرئيسية</a>
      <span class="mx-2 opacity-75">‹</span>
      <a href="/news" class="text-white-50">الأخبار</a>
      <span class="mx-2 opacity-75">‹</span>
      <span class="fw-semibold">@article.Title</span>
    </nav>
  </div>
</header>

<!-- Article surface -->
<main class="container">
  <div class="surface">
    <article class="post">
      <h1>@article.Title</h1>
      <div class="meta mb-3">@article.Date</div>

      <figure class="post-cover mb-3"><img src="@article.Cover" alt="cover"></figure>

      <p class="fw-semibold">@article.Lead</p>
      @foreach (var p in article.Body){ <p>@p</p> }

    </article>
  </div>
</main>

<!-- More news band -->
<section class="more-band mt-5">
  <div class="container">
    <div class="d-flex align-items-center justify-content-between mb-3">
      <h3 class="fw-bolder mb-0">المزيد من الأخبار</h3>
      <div class="d-none d-md-flex gap-2">
        <button class="btn btn-light btn-sm rounded-pill px-3" id="morePrev"><i class="bi bi-arrow-right"></i></button>
        <button class="btn btn-light btn-sm rounded-pill px-3" id="moreNext"><i class="bi bi-arrow-left"></i></button>
      </div>
    </div>

    <div class="swiper" id="moreSwiper">
      <div class="swiper-wrapper">
        @foreach (var n in moreNews)
        {
          <div class="swiper-slide">
            <article class="card-news h-100">
              <img src="@n.Img" alt="news">
              <div class="card-body">
                <div class="date mb-1">@n.Date</div>
                <h4 class="h6 title mb-2">@n.Title</h4>
                <p class="mb-2 text-secondary">@n.Ex</p>
                <a href="#" class="stretched-link text-decoration-none fw-bold"><i class="bi bi-arrow-left ms-1"></i>اقرأ المزيد</a>
              </div>
            </article>
          </div>
        }
      </div>
      <div class="swiper-pagination"></div>
    </div>
  </div>
</section>

<!-- Footer -->
<footer class="footer py-5">
  <div class="container">
    <div class="d-flex flex-column flex-md-row align-items-center justify-content-between gap-3">
      <div class="d-flex align-items-center gap-3">
        <img class="rounded" style="width:48px;height:48px" src="https://avatars.githubusercontent.com/u/9919?s=200&v=4" alt="logo">
        <div>
          <div class="fw-bold">الشركة الوطنية لنظم المعلومات</div>
          <div class="small">© جميع الحقوق محفوظة 2025</div>
        </div>
      </div>
      <ul class="nav gap-3">
        <li class="nav-item"><a class="nav-link px-0" href="#">سياسة الخصوصية</a></li>
        <li class="nav-item"><a class="nav-link px-0" href="#">الشروط والأحكام</a></li>
        <li class="nav-item"><a class="nav-link px-0" href="#">تواصل معنا</a></li>
      </ul>
      <div class="social d-flex gap-2">
        <a href="#" aria-label="LinkedIn"><i class="bi bi-linkedin"></i></a>
        <a href="#" aria-label="X"><i class="bi bi-twitter-x"></i></a>
        <a href="#" aria-label="YouTube"><i class="bi bi-youtube"></i></a>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
  // "More news" slider (mobile-first)
  new Swiper('#moreSwiper', {
    slidesPerView: 1,
    spaceBetween: 24,
    loop: true,
    grabCursor: true,
    autoplay: { delay: 5000, disableOnInteraction: false },
    pagination: { el: '#moreSwiper .swiper-pagination', clickable: true },
    navigation: { nextEl: '#moreNext', prevEl: '#morePrev' },
    breakpoints: { 576:{slidesPerView:1.2}, 768:{slidesPerView:2}, 1200:{slidesPerView:3} }
  });
</script>
</body>
</html>
